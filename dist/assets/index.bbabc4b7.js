(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();function Jc(e,t){const r=Object.create(null),n=e.split(",");for(let i=0;i<n.length;i++)r[n[i]]=!0;return t?i=>!!r[i.toLowerCase()]:i=>!!r[i]}const P_="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",k_=Jc(P_);function Xy(e){return!!e||e===""}function Pn(e){if(pe(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],i=Je(n)?U_(n):Pn(n);if(i)for(const o in i)t[o]=i[o]}return t}else{if(Je(e))return e;if(Ye(e))return e}}const R_=/;(?![^(]*\))/g,O_=/:(.+)/;function U_(e){const t={};return e.split(R_).forEach(r=>{if(r){const n=r.split(O_);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function oi(e){let t="";if(Je(e))t=e;else if(pe(e))for(let r=0;r<e.length;r++){const n=oi(e[r]);n&&(t+=n+" ")}else if(Ye(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const $r=e=>Je(e)?e:e==null?"":pe(e)||Ye(e)&&(e.toString===e0||!Se(e.toString))?JSON.stringify(e,Jy,2):String(e),Jy=(e,t)=>t&&t.__v_isRef?Jy(e,t.value):Qn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[n,i])=>(r[`${n} =>`]=i,r),{})}:Zy(t)?{[`Set(${t.size})`]:[...t.values()]}:Ye(t)&&!pe(t)&&!t0(t)?String(t):t,Ke={},Zn=[],Zt=()=>{},L_=()=>!1,M_=/^on[^a-z]/,gs=e=>M_.test(e),Zc=e=>e.startsWith("onUpdate:"),it=Object.assign,Qc=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},N_=Object.prototype.hasOwnProperty,Ae=(e,t)=>N_.call(e,t),pe=Array.isArray,Qn=e=>ps(e)==="[object Map]",Zy=e=>ps(e)==="[object Set]",Se=e=>typeof e=="function",Je=e=>typeof e=="string",el=e=>typeof e=="symbol",Ye=e=>e!==null&&typeof e=="object",Qy=e=>Ye(e)&&Se(e.then)&&Se(e.catch),e0=Object.prototype.toString,ps=e=>e0.call(e),D_=e=>ps(e).slice(8,-1),t0=e=>ps(e)==="[object Object]",tl=e=>Je(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Do=Jc(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),vs=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},B_=/-(\w)/g,fr=vs(e=>e.replace(B_,(t,r)=>r?r.toUpperCase():"")),F_=/\B([A-Z])/g,di=vs(e=>e.replace(F_,"-$1").toLowerCase()),ms=vs(e=>e.charAt(0).toUpperCase()+e.slice(1)),Qs=vs(e=>e?`on${ms(e)}`:""),Hi=(e,t)=>!Object.is(e,t),ea=(e,t)=>{for(let r=0;r<e.length;r++)e[r](t)},Wo=(e,t,r)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:r})},r0=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Yl;const z_=()=>Yl||(Yl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let ir;class n0{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&ir&&(this.parent=ir,this.index=(ir.scopes||(ir.scopes=[])).push(this)-1)}run(t){if(this.active){const r=ir;try{return ir=this,t()}finally{ir=r}}}on(){ir=this}off(){ir=this.parent}stop(t){if(this.active){let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.scopes)for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);if(this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.active=!1}}}function i0(e){return new n0(e)}function K_(e,t=ir){t&&t.active&&t.effects.push(e)}const rl=e=>{const t=new Set(e);return t.w=0,t.n=0,t},o0=e=>(e.w&en)>0,s0=e=>(e.n&en)>0,q_=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=en},j_=e=>{const{deps:t}=e;if(t.length){let r=0;for(let n=0;n<t.length;n++){const i=t[n];o0(i)&&!s0(i)?i.delete(e):t[r++]=i,i.w&=~en,i.n&=~en}t.length=r}},iu=new WeakMap;let Pi=0,en=1;const ou=30;let Yt;const An=Symbol(""),su=Symbol("");class nl{constructor(t,r=null,n){this.fn=t,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,K_(this,n)}run(){if(!this.active)return this.fn();let t=Yt,r=Xr;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Yt,Yt=this,Xr=!0,en=1<<++Pi,Pi<=ou?q_(this):Xl(this),this.fn()}finally{Pi<=ou&&j_(this),en=1<<--Pi,Yt=this.parent,Xr=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Yt===this?this.deferStop=!0:this.active&&(Xl(this),this.onStop&&this.onStop(),this.active=!1)}}function Xl(e){const{deps:t}=e;if(t.length){for(let r=0;r<t.length;r++)t[r].delete(e);t.length=0}}let Xr=!0;const a0=[];function hi(){a0.push(Xr),Xr=!1}function gi(){const e=a0.pop();Xr=e===void 0?!0:e}function Lt(e,t,r){if(Xr&&Yt){let n=iu.get(e);n||iu.set(e,n=new Map);let i=n.get(r);i||n.set(r,i=rl()),u0(i)}}function u0(e,t){let r=!1;Pi<=ou?s0(e)||(e.n|=en,r=!o0(e)):r=!e.has(Yt),r&&(e.add(Yt),Yt.deps.push(e))}function Rr(e,t,r,n,i,o){const s=iu.get(e);if(!s)return;let a=[];if(t==="clear")a=[...s.values()];else if(r==="length"&&pe(e))s.forEach((c,u)=>{(u==="length"||u>=n)&&a.push(c)});else switch(r!==void 0&&a.push(s.get(r)),t){case"add":pe(e)?tl(r)&&a.push(s.get("length")):(a.push(s.get(An)),Qn(e)&&a.push(s.get(su)));break;case"delete":pe(e)||(a.push(s.get(An)),Qn(e)&&a.push(s.get(su)));break;case"set":Qn(e)&&a.push(s.get(An));break}if(a.length===1)a[0]&&au(a[0]);else{const c=[];for(const u of a)u&&c.push(...u);au(rl(c))}}function au(e,t){const r=pe(e)?e:[...e];for(const n of r)n.computed&&Jl(n);for(const n of r)n.computed||Jl(n)}function Jl(e,t){(e!==Yt||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const $_=Jc("__proto__,__v_isRef,__isVue"),c0=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(el)),H_=il(),V_=il(!1,!0),G_=il(!0),Zl=W_();function W_(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...r){const n=Ie(this);for(let o=0,s=this.length;o<s;o++)Lt(n,"get",o+"");const i=n[t](...r);return i===-1||i===!1?n[t](...r.map(Ie)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...r){hi();const n=Ie(this)[t].apply(this,r);return gi(),n}}),e}function il(e=!1,t=!1){return function(n,i,o){if(i==="__v_isReactive")return!e;if(i==="__v_isReadonly")return e;if(i==="__v_isShallow")return t;if(i==="__v_raw"&&o===(e?t?lb:g0:t?h0:d0).get(n))return n;const s=pe(n);if(!e&&s&&Ae(Zl,i))return Reflect.get(Zl,i,o);const a=Reflect.get(n,i,o);return(el(i)?c0.has(i):$_(i))||(e||Lt(n,"get",i),t)?a:je(a)?s&&tl(i)?a:a.value:Ye(a)?e?p0(a):pi(a):a}}const Y_=l0(),X_=l0(!0);function l0(e=!1){return function(r,n,i,o){let s=r[n];if(Vi(s)&&je(s)&&!je(i))return!1;if(!e&&!Vi(i)&&(uu(i)||(i=Ie(i),s=Ie(s)),!pe(r)&&je(s)&&!je(i)))return s.value=i,!0;const a=pe(r)&&tl(n)?Number(n)<r.length:Ae(r,n),c=Reflect.set(r,n,i,o);return r===Ie(o)&&(a?Hi(i,s)&&Rr(r,"set",n,i):Rr(r,"add",n,i)),c}}function J_(e,t){const r=Ae(e,t);e[t];const n=Reflect.deleteProperty(e,t);return n&&r&&Rr(e,"delete",t,void 0),n}function Z_(e,t){const r=Reflect.has(e,t);return(!el(t)||!c0.has(t))&&Lt(e,"has",t),r}function Q_(e){return Lt(e,"iterate",pe(e)?"length":An),Reflect.ownKeys(e)}const f0={get:H_,set:Y_,deleteProperty:J_,has:Z_,ownKeys:Q_},eb={get:G_,set(e,t){return!0},deleteProperty(e,t){return!0}},tb=it({},f0,{get:V_,set:X_}),ol=e=>e,ys=e=>Reflect.getPrototypeOf(e);function yo(e,t,r=!1,n=!1){e=e.__v_raw;const i=Ie(e),o=Ie(t);r||(t!==o&&Lt(i,"get",t),Lt(i,"get",o));const{has:s}=ys(i),a=n?ol:r?ul:Gi;if(s.call(i,t))return a(e.get(t));if(s.call(i,o))return a(e.get(o));e!==i&&e.get(t)}function wo(e,t=!1){const r=this.__v_raw,n=Ie(r),i=Ie(e);return t||(e!==i&&Lt(n,"has",e),Lt(n,"has",i)),e===i?r.has(e):r.has(e)||r.has(i)}function So(e,t=!1){return e=e.__v_raw,!t&&Lt(Ie(e),"iterate",An),Reflect.get(e,"size",e)}function Ql(e){e=Ie(e);const t=Ie(this);return ys(t).has.call(t,e)||(t.add(e),Rr(t,"add",e,e)),this}function ef(e,t){t=Ie(t);const r=Ie(this),{has:n,get:i}=ys(r);let o=n.call(r,e);o||(e=Ie(e),o=n.call(r,e));const s=i.call(r,e);return r.set(e,t),o?Hi(t,s)&&Rr(r,"set",e,t):Rr(r,"add",e,t),this}function tf(e){const t=Ie(this),{has:r,get:n}=ys(t);let i=r.call(t,e);i||(e=Ie(e),i=r.call(t,e)),n&&n.call(t,e);const o=t.delete(e);return i&&Rr(t,"delete",e,void 0),o}function rf(){const e=Ie(this),t=e.size!==0,r=e.clear();return t&&Rr(e,"clear",void 0,void 0),r}function _o(e,t){return function(n,i){const o=this,s=o.__v_raw,a=Ie(s),c=t?ol:e?ul:Gi;return!e&&Lt(a,"iterate",An),s.forEach((u,l)=>n.call(i,c(u),c(l),o))}}function bo(e,t,r){return function(...n){const i=this.__v_raw,o=Ie(i),s=Qn(o),a=e==="entries"||e===Symbol.iterator&&s,c=e==="keys"&&s,u=i[e](...n),l=r?ol:t?ul:Gi;return!t&&Lt(o,"iterate",c?su:An),{next(){const{value:f,done:d}=u.next();return d?{value:f,done:d}:{value:a?[l(f[0]),l(f[1])]:l(f),done:d}},[Symbol.iterator](){return this}}}}function Ur(e){return function(...t){return e==="delete"?!1:this}}function rb(){const e={get(o){return yo(this,o)},get size(){return So(this)},has:wo,add:Ql,set:ef,delete:tf,clear:rf,forEach:_o(!1,!1)},t={get(o){return yo(this,o,!1,!0)},get size(){return So(this)},has:wo,add:Ql,set:ef,delete:tf,clear:rf,forEach:_o(!1,!0)},r={get(o){return yo(this,o,!0)},get size(){return So(this,!0)},has(o){return wo.call(this,o,!0)},add:Ur("add"),set:Ur("set"),delete:Ur("delete"),clear:Ur("clear"),forEach:_o(!0,!1)},n={get(o){return yo(this,o,!0,!0)},get size(){return So(this,!0)},has(o){return wo.call(this,o,!0)},add:Ur("add"),set:Ur("set"),delete:Ur("delete"),clear:Ur("clear"),forEach:_o(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=bo(o,!1,!1),r[o]=bo(o,!0,!1),t[o]=bo(o,!1,!0),n[o]=bo(o,!0,!0)}),[e,r,t,n]}const[nb,ib,ob,sb]=rb();function sl(e,t){const r=t?e?sb:ob:e?ib:nb;return(n,i,o)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?n:Reflect.get(Ae(r,i)&&i in n?r:n,i,o)}const ab={get:sl(!1,!1)},ub={get:sl(!1,!0)},cb={get:sl(!0,!1)},d0=new WeakMap,h0=new WeakMap,g0=new WeakMap,lb=new WeakMap;function fb(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function db(e){return e.__v_skip||!Object.isExtensible(e)?0:fb(D_(e))}function pi(e){return Vi(e)?e:al(e,!1,f0,ab,d0)}function hb(e){return al(e,!1,tb,ub,h0)}function p0(e){return al(e,!0,eb,cb,g0)}function al(e,t,r,n,i){if(!Ye(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=i.get(e);if(o)return o;const s=db(e);if(s===0)return e;const a=new Proxy(e,s===2?n:r);return i.set(e,a),a}function Pr(e){return Vi(e)?Pr(e.__v_raw):!!(e&&e.__v_isReactive)}function Vi(e){return!!(e&&e.__v_isReadonly)}function uu(e){return!!(e&&e.__v_isShallow)}function v0(e){return Pr(e)||Vi(e)}function Ie(e){const t=e&&e.__v_raw;return t?Ie(t):e}function si(e){return Wo(e,"__v_skip",!0),e}const Gi=e=>Ye(e)?pi(e):e,ul=e=>Ye(e)?p0(e):e;function m0(e){Xr&&Yt&&(e=Ie(e),u0(e.dep||(e.dep=rl())))}function y0(e,t){e=Ie(e),e.dep&&au(e.dep)}function je(e){return!!(e&&e.__v_isRef===!0)}function ei(e){return w0(e,!1)}function gb(e){return w0(e,!0)}function w0(e,t){return je(e)?e:new pb(e,t)}class pb{constructor(t,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?t:Ie(t),this._value=r?t:Gi(t)}get value(){return m0(this),this._value}set value(t){t=this.__v_isShallow?t:Ie(t),Hi(t,this._rawValue)&&(this._rawValue=t,this._value=this.__v_isShallow?t:Gi(t),y0(this))}}function ye(e){return je(e)?e.value:e}const vb={get:(e,t,r)=>ye(Reflect.get(e,t,r)),set:(e,t,r,n)=>{const i=e[t];return je(i)&&!je(r)?(i.value=r,!0):Reflect.set(e,t,r,n)}};function S0(e){return Pr(e)?e:new Proxy(e,vb)}function mb(e){const t=pe(e)?new Array(e.length):{};for(const r in e)t[r]=_0(e,r);return t}class yb{constructor(t,r,n){this._object=t,this._key=r,this._defaultValue=n,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function _0(e,t,r){const n=e[t];return je(n)?n:new yb(e,t,r)}class wb{constructor(t,r,n,i){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new nl(t,()=>{this._dirty||(this._dirty=!0,y0(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=n}get value(){const t=Ie(this);return m0(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function Sb(e,t,r=!1){let n,i;const o=Se(e);return o?(n=e,i=Zt):(n=e.get,i=e.set),new wb(n,i,o||!i,r)}function Jr(e,t,r,n){let i;try{i=n?e(...n):e()}catch(o){ws(o,t,r)}return i}function Kt(e,t,r,n){if(Se(e)){const o=Jr(e,t,r,n);return o&&Qy(o)&&o.catch(s=>{ws(s,t,r)}),o}const i=[];for(let o=0;o<e.length;o++)i.push(Kt(e[o],t,r,n));return i}function ws(e,t,r,n=!0){const i=t?t.vnode:null;if(t){let o=t.parent;const s=t.proxy,a=r;for(;o;){const u=o.ec;if(u){for(let l=0;l<u.length;l++)if(u[l](e,s,a)===!1)return}o=o.parent}const c=t.appContext.config.errorHandler;if(c){Jr(c,null,10,[e,s,a]);return}}_b(e,r,i,n)}function _b(e,t,r,n=!0){console.error(e)}let Yo=!1,cu=!1;const Rt=[];let Tr=0;const Ui=[];let ki=null,Hn=0;const Li=[];let zr=null,Vn=0;const b0=Promise.resolve();let cl=null,lu=null;function ll(e){const t=cl||b0;return e?t.then(this?e.bind(this):e):t}function bb(e){let t=Tr+1,r=Rt.length;for(;t<r;){const n=t+r>>>1;Wi(Rt[n])<e?t=n+1:r=n}return t}function C0(e){(!Rt.length||!Rt.includes(e,Yo&&e.allowRecurse?Tr+1:Tr))&&e!==lu&&(e.id==null?Rt.push(e):Rt.splice(bb(e.id),0,e),E0())}function E0(){!Yo&&!cu&&(cu=!0,cl=b0.then(I0))}function Cb(e){const t=Rt.indexOf(e);t>Tr&&Rt.splice(t,1)}function x0(e,t,r,n){pe(e)?r.push(...e):(!t||!t.includes(e,e.allowRecurse?n+1:n))&&r.push(e),E0()}function Eb(e){x0(e,ki,Ui,Hn)}function xb(e){x0(e,zr,Li,Vn)}function Ss(e,t=null){if(Ui.length){for(lu=t,ki=[...new Set(Ui)],Ui.length=0,Hn=0;Hn<ki.length;Hn++)ki[Hn]();ki=null,Hn=0,lu=null,Ss(e,t)}}function A0(e){if(Ss(),Li.length){const t=[...new Set(Li)];if(Li.length=0,zr){zr.push(...t);return}for(zr=t,zr.sort((r,n)=>Wi(r)-Wi(n)),Vn=0;Vn<zr.length;Vn++)zr[Vn]();zr=null,Vn=0}}const Wi=e=>e.id==null?1/0:e.id;function I0(e){cu=!1,Yo=!0,Ss(e),Rt.sort((r,n)=>Wi(r)-Wi(n));const t=Zt;try{for(Tr=0;Tr<Rt.length;Tr++){const r=Rt[Tr];r&&r.active!==!1&&Jr(r,null,14)}}finally{Tr=0,Rt.length=0,A0(),Yo=!1,cl=null,(Rt.length||Ui.length||Li.length)&&I0(e)}}function Ab(e,t,...r){if(e.isUnmounted)return;const n=e.vnode.props||Ke;let i=r;const o=t.startsWith("update:"),s=o&&t.slice(7);if(s&&s in n){const l=`${s==="modelValue"?"model":s}Modifiers`,{number:f,trim:d}=n[l]||Ke;d&&(i=r.map(h=>h.trim())),f&&(i=r.map(r0))}let a,c=n[a=Qs(t)]||n[a=Qs(fr(t))];!c&&o&&(c=n[a=Qs(di(t))]),c&&Kt(c,e,6,i);const u=n[a+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Kt(u,e,6,i)}}function T0(e,t,r=!1){const n=t.emitsCache,i=n.get(e);if(i!==void 0)return i;const o=e.emits;let s={},a=!1;if(!Se(e)){const c=u=>{const l=T0(u,t,!0);l&&(a=!0,it(s,l))};!r&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!o&&!a?(n.set(e,null),null):(pe(o)?o.forEach(c=>s[c]=null):it(s,o),n.set(e,s),s)}function _s(e,t){return!e||!gs(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ae(e,t[0].toLowerCase()+t.slice(1))||Ae(e,di(t))||Ae(e,t))}let Xt=null,bs=null;function Xo(e){const t=Xt;return Xt=e,bs=e&&e.type.__scopeId||null,t}function fl(e){bs=e}function dl(){bs=null}function Cs(e,t=Xt,r){if(!t||e._n)return e;const n=(...i)=>{n._d&&gf(-1);const o=Xo(t),s=e(...i);return Xo(o),n._d&&gf(1),s};return n._n=!0,n._c=!0,n._d=!0,n}function ta(e){const{type:t,vnode:r,proxy:n,withProxy:i,props:o,propsOptions:[s],slots:a,attrs:c,emit:u,render:l,renderCache:f,data:d,setupState:h,ctx:m,inheritAttrs:y}=e;let _,C;const w=Xo(e);try{if(r.shapeFlag&4){const I=i||n;_=sr(l.call(I,I,f,o,h,d,m)),C=c}else{const I=t;_=sr(I.length>1?I(o,{attrs:c,slots:a,emit:u}):I(o,null)),C=t.props?c:Ib(c)}}catch(I){Mi.length=0,ws(I,e,1),_=We(Qt)}let A=_;if(C&&y!==!1){const I=Object.keys(C),{shapeFlag:O}=A;I.length&&O&7&&(s&&I.some(Zc)&&(C=Tb(C,s)),A=tn(A,C))}return r.dirs&&(A=tn(A),A.dirs=A.dirs?A.dirs.concat(r.dirs):r.dirs),r.transition&&(A.transition=r.transition),_=A,Xo(w),_}const Ib=e=>{let t;for(const r in e)(r==="class"||r==="style"||gs(r))&&((t||(t={}))[r]=e[r]);return t},Tb=(e,t)=>{const r={};for(const n in e)(!Zc(n)||!(n.slice(9)in t))&&(r[n]=e[n]);return r};function Pb(e,t,r){const{props:n,children:i,component:o}=e,{props:s,children:a,patchFlag:c}=t,u=o.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&c>=0){if(c&1024)return!0;if(c&16)return n?nf(n,s,u):!!s;if(c&8){const l=t.dynamicProps;for(let f=0;f<l.length;f++){const d=l[f];if(s[d]!==n[d]&&!_s(u,d))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:n===s?!1:n?s?nf(n,s,u):!0:!!s;return!1}function nf(e,t,r){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let i=0;i<n.length;i++){const o=n[i];if(t[o]!==e[o]&&!_s(r,o))return!0}return!1}function kb({vnode:e,parent:t},r){for(;t&&t.subTree===e;)(e=t.vnode).el=r,t=t.parent}const Rb=e=>e.__isSuspense;function Ob(e,t){t&&t.pendingBranch?pe(e)?t.effects.push(...e):t.effects.push(e):xb(e)}function Bo(e,t){if(et){let r=et.provides;const n=et.parent&&et.parent.provides;n===r&&(r=et.provides=Object.create(n)),r[e]=t}}function lr(e,t,r=!1){const n=et||Xt;if(n){const i=n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides;if(i&&e in i)return i[e];if(arguments.length>1)return r&&Se(t)?t.call(n.proxy):t}}const of={};function ti(e,t,r){return P0(e,t,r)}function P0(e,t,{immediate:r,deep:n,flush:i,onTrack:o,onTrigger:s}=Ke){const a=et;let c,u=!1,l=!1;if(je(e)?(c=()=>e.value,u=uu(e)):Pr(e)?(c=()=>e,n=!0):pe(e)?(l=!0,u=e.some(C=>Pr(C)||uu(C)),c=()=>e.map(C=>{if(je(C))return C.value;if(Pr(C))return Xn(C);if(Se(C))return Jr(C,a,2)})):Se(e)?t?c=()=>Jr(e,a,2):c=()=>{if(!(a&&a.isUnmounted))return f&&f(),Kt(e,a,3,[d])}:c=Zt,t&&n){const C=c;c=()=>Xn(C())}let f,d=C=>{f=_.onStop=()=>{Jr(C,a,4)}};if(Ji)return d=Zt,t?r&&Kt(t,a,3,[c(),l?[]:void 0,d]):c(),Zt;let h=l?[]:of;const m=()=>{if(!!_.active)if(t){const C=_.run();(n||u||(l?C.some((w,A)=>Hi(w,h[A])):Hi(C,h)))&&(f&&f(),Kt(t,a,3,[C,h===of?void 0:h,d]),h=C)}else _.run()};m.allowRecurse=!!t;let y;i==="sync"?y=m:i==="post"?y=()=>bt(m,a&&a.suspense):y=()=>Eb(m);const _=new nl(c,y);return t?r?m():h=_.run():i==="post"?bt(_.run.bind(_),a&&a.suspense):_.run(),()=>{_.stop(),a&&a.scope&&Qc(a.scope.effects,_)}}function Ub(e,t,r){const n=this.proxy,i=Je(e)?e.includes(".")?k0(n,e):()=>n[e]:e.bind(n,n);let o;Se(t)?o=t:(o=t.handler,r=t);const s=et;ai(this);const a=P0(i,o.bind(n),r);return s?ai(s):In(),a}function k0(e,t){const r=t.split(".");return()=>{let n=e;for(let i=0;i<r.length&&n;i++)n=n[r[i]];return n}}function Xn(e,t){if(!Ye(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),je(e))Xn(e.value,t);else if(pe(e))for(let r=0;r<e.length;r++)Xn(e[r],t);else if(Zy(e)||Qn(e))e.forEach(r=>{Xn(r,t)});else if(t0(e))for(const r in e)Xn(e[r],t);return e}function Lb(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return co(()=>{e.isMounted=!0}),N0(()=>{e.isUnmounting=!0}),e}const Mt=[Function,Array],Mb={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Mt,onEnter:Mt,onAfterEnter:Mt,onEnterCancelled:Mt,onBeforeLeave:Mt,onLeave:Mt,onAfterLeave:Mt,onLeaveCancelled:Mt,onBeforeAppear:Mt,onAppear:Mt,onAfterAppear:Mt,onAppearCancelled:Mt},setup(e,{slots:t}){const r=yl(),n=Lb();let i;return()=>{const o=t.default&&U0(t.default(),!0);if(!o||!o.length)return;let s=o[0];if(o.length>1){for(const y of o)if(y.type!==Qt){s=y;break}}const a=Ie(e),{mode:c}=a;if(n.isLeaving)return ra(s);const u=sf(s);if(!u)return ra(s);const l=fu(u,a,n,r);du(u,l);const f=r.subTree,d=f&&sf(f);let h=!1;const{getTransitionKey:m}=u.type;if(m){const y=m();i===void 0?i=y:y!==i&&(i=y,h=!0)}if(d&&d.type!==Qt&&(!yn(u,d)||h)){const y=fu(d,a,n,r);if(du(d,y),c==="out-in")return n.isLeaving=!0,y.afterLeave=()=>{n.isLeaving=!1,r.update()},ra(s);c==="in-out"&&u.type!==Qt&&(y.delayLeave=(_,C,w)=>{const A=O0(n,d);A[String(d.key)]=d,_._leaveCb=()=>{C(),_._leaveCb=void 0,delete l.delayedLeave},l.delayedLeave=w})}return s}}},R0=Mb;function O0(e,t){const{leavingVNodes:r}=e;let n=r.get(t.type);return n||(n=Object.create(null),r.set(t.type,n)),n}function fu(e,t,r,n){const{appear:i,mode:o,persisted:s=!1,onBeforeEnter:a,onEnter:c,onAfterEnter:u,onEnterCancelled:l,onBeforeLeave:f,onLeave:d,onAfterLeave:h,onLeaveCancelled:m,onBeforeAppear:y,onAppear:_,onAfterAppear:C,onAppearCancelled:w}=t,A=String(e.key),I=O0(r,e),O=(L,H)=>{L&&Kt(L,n,9,H)},D=(L,H)=>{const k=H[1];O(L,H),pe(L)?L.every(U=>U.length<=1)&&k():L.length<=1&&k()},q={mode:o,persisted:s,beforeEnter(L){let H=a;if(!r.isMounted)if(i)H=y||a;else return;L._leaveCb&&L._leaveCb(!0);const k=I[A];k&&yn(e,k)&&k.el._leaveCb&&k.el._leaveCb(),O(H,[L])},enter(L){let H=c,k=u,U=l;if(!r.isMounted)if(i)H=_||c,k=C||u,U=w||l;else return;let R=!1;const j=L._enterCb=V=>{R||(R=!0,V?O(U,[L]):O(k,[L]),q.delayedLeave&&q.delayedLeave(),L._enterCb=void 0)};H?D(H,[L,j]):j()},leave(L,H){const k=String(e.key);if(L._enterCb&&L._enterCb(!0),r.isUnmounting)return H();O(f,[L]);let U=!1;const R=L._leaveCb=j=>{U||(U=!0,H(),j?O(m,[L]):O(h,[L]),L._leaveCb=void 0,I[k]===e&&delete I[k])};I[k]=e,d?D(d,[L,R]):R()},clone(L){return fu(L,t,r,n)}};return q}function ra(e){if(Es(e))return e=tn(e),e.children=null,e}function sf(e){return Es(e)?e.children?e.children[0]:void 0:e}function du(e,t){e.shapeFlag&6&&e.component?du(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function U0(e,t=!1,r){let n=[],i=0;for(let o=0;o<e.length;o++){let s=e[o];const a=r==null?s.key:String(r)+String(s.key!=null?s.key:o);s.type===pt?(s.patchFlag&128&&i++,n=n.concat(U0(s.children,t,a))):(t||s.type!==Qt)&&n.push(a!=null?tn(s,{key:a}):s)}if(i>1)for(let o=0;o<n.length;o++)n[o].patchFlag=-2;return n}function L0(e){return Se(e)?{setup:e,name:e.name}:e}const Fo=e=>!!e.type.__asyncLoader,Es=e=>e.type.__isKeepAlive;function Nb(e,t){M0(e,"a",t)}function Db(e,t){M0(e,"da",t)}function M0(e,t,r=et){const n=e.__wdc||(e.__wdc=()=>{let i=r;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(xs(t,n,r),r){let i=r.parent;for(;i&&i.parent;)Es(i.parent.vnode)&&Bb(n,t,r,i),i=i.parent}}function Bb(e,t,r,n){const i=xs(t,e,n,!0);hl(()=>{Qc(n[t],i)},r)}function xs(e,t,r=et,n=!1){if(r){const i=r[e]||(r[e]=[]),o=t.__weh||(t.__weh=(...s)=>{if(r.isUnmounted)return;hi(),ai(r);const a=Kt(t,r,e,s);return In(),gi(),a});return n?i.unshift(o):i.push(o),o}}const Or=e=>(t,r=et)=>(!Ji||e==="sp")&&xs(e,t,r),Fb=Or("bm"),co=Or("m"),zb=Or("bu"),Kb=Or("u"),N0=Or("bum"),hl=Or("um"),qb=Or("sp"),jb=Or("rtg"),$b=Or("rtc");function Hb(e,t=et){xs("ec",e,t)}function on(e,t,r,n){const i=e.dirs,o=t&&t.dirs;for(let s=0;s<i.length;s++){const a=i[s];o&&(a.oldValue=o[s].value);let c=a.dir[n];c&&(hi(),Kt(c,r,8,[e.el,a,e,t]),gi())}}const gl="components";function D0(e,t){return F0(gl,e,!0,t)||e}const B0=Symbol();function Vb(e){return Je(e)?F0(gl,e,!1)||e:e||B0}function F0(e,t,r=!0,n=!1){const i=Xt||et;if(i){const o=i.type;if(e===gl){const a=bC(o,!1);if(a&&(a===t||a===fr(t)||a===ms(fr(t))))return o}const s=af(i[e]||o[e],t)||af(i.appContext[e],t);return!s&&n?o:s}}function af(e,t){return e&&(e[t]||e[fr(t)]||e[ms(fr(t))])}function hu(e,t,r,n){let i;const o=r&&r[n];if(pe(e)||Je(e)){i=new Array(e.length);for(let s=0,a=e.length;s<a;s++)i[s]=t(e[s],s,void 0,o&&o[s])}else if(typeof e=="number"){i=new Array(e);for(let s=0;s<e;s++)i[s]=t(s+1,s,void 0,o&&o[s])}else if(Ye(e))if(e[Symbol.iterator])i=Array.from(e,(s,a)=>t(s,a,void 0,o&&o[a]));else{const s=Object.keys(e);i=new Array(s.length);for(let a=0,c=s.length;a<c;a++){const u=s[a];i[a]=t(e[u],u,a,o&&o[a])}}else i=[];return r&&(r[n]=i),i}const gu=e=>e?Q0(e)?wl(e)||e.proxy:gu(e.parent):null,Jo=it(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>gu(e.parent),$root:e=>gu(e.root),$emit:e=>e.emit,$options:e=>K0(e),$forceUpdate:e=>e.f||(e.f=()=>C0(e.update)),$nextTick:e=>e.n||(e.n=ll.bind(e.proxy)),$watch:e=>Ub.bind(e)}),Gb={get({_:e},t){const{ctx:r,setupState:n,data:i,props:o,accessCache:s,type:a,appContext:c}=e;let u;if(t[0]!=="$"){const h=s[t];if(h!==void 0)switch(h){case 1:return n[t];case 2:return i[t];case 4:return r[t];case 3:return o[t]}else{if(n!==Ke&&Ae(n,t))return s[t]=1,n[t];if(i!==Ke&&Ae(i,t))return s[t]=2,i[t];if((u=e.propsOptions[0])&&Ae(u,t))return s[t]=3,o[t];if(r!==Ke&&Ae(r,t))return s[t]=4,r[t];pu&&(s[t]=0)}}const l=Jo[t];let f,d;if(l)return t==="$attrs"&&Lt(e,"get",t),l(e);if((f=a.__cssModules)&&(f=f[t]))return f;if(r!==Ke&&Ae(r,t))return s[t]=4,r[t];if(d=c.config.globalProperties,Ae(d,t))return d[t]},set({_:e},t,r){const{data:n,setupState:i,ctx:o}=e;return i!==Ke&&Ae(i,t)?(i[t]=r,!0):n!==Ke&&Ae(n,t)?(n[t]=r,!0):Ae(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:n,appContext:i,propsOptions:o}},s){let a;return!!r[s]||e!==Ke&&Ae(e,s)||t!==Ke&&Ae(t,s)||(a=o[0])&&Ae(a,s)||Ae(n,s)||Ae(Jo,s)||Ae(i.config.globalProperties,s)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:Ae(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};let pu=!0;function Wb(e){const t=K0(e),r=e.proxy,n=e.ctx;pu=!1,t.beforeCreate&&uf(t.beforeCreate,e,"bc");const{data:i,computed:o,methods:s,watch:a,provide:c,inject:u,created:l,beforeMount:f,mounted:d,beforeUpdate:h,updated:m,activated:y,deactivated:_,beforeDestroy:C,beforeUnmount:w,destroyed:A,unmounted:I,render:O,renderTracked:D,renderTriggered:q,errorCaptured:L,serverPrefetch:H,expose:k,inheritAttrs:U,components:R,directives:j,filters:V}=t;if(u&&Yb(u,n,null,e.appContext.config.unwrapInjectedRef),s)for(const ue in s){const me=s[ue];Se(me)&&(n[ue]=me.bind(r))}if(i){const ue=i.call(r,r);Ye(ue)&&(e.data=pi(ue))}if(pu=!0,o)for(const ue in o){const me=o[ue],de=Se(me)?me.bind(r,r):Se(me.get)?me.get.bind(r,r):Zt,ee=!Se(me)&&Se(me.set)?me.set.bind(r):Zt,te=Ct({get:de,set:ee});Object.defineProperty(n,ue,{enumerable:!0,configurable:!0,get:()=>te.value,set:re=>te.value=re})}if(a)for(const ue in a)z0(a[ue],n,r,ue);if(c){const ue=Se(c)?c.call(r):c;Reflect.ownKeys(ue).forEach(me=>{Bo(me,ue[me])})}l&&uf(l,e,"c");function ne(ue,me){pe(me)?me.forEach(de=>ue(de.bind(r))):me&&ue(me.bind(r))}if(ne(Fb,f),ne(co,d),ne(zb,h),ne(Kb,m),ne(Nb,y),ne(Db,_),ne(Hb,L),ne($b,D),ne(jb,q),ne(N0,w),ne(hl,I),ne(qb,H),pe(k))if(k.length){const ue=e.exposed||(e.exposed={});k.forEach(me=>{Object.defineProperty(ue,me,{get:()=>r[me],set:de=>r[me]=de})})}else e.exposed||(e.exposed={});O&&e.render===Zt&&(e.render=O),U!=null&&(e.inheritAttrs=U),R&&(e.components=R),j&&(e.directives=j)}function Yb(e,t,r=Zt,n=!1){pe(e)&&(e=vu(e));for(const i in e){const o=e[i];let s;Ye(o)?"default"in o?s=lr(o.from||i,o.default,!0):s=lr(o.from||i):s=lr(o),je(s)&&n?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):t[i]=s}}function uf(e,t,r){Kt(pe(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,r)}function z0(e,t,r,n){const i=n.includes(".")?k0(r,n):()=>r[n];if(Je(e)){const o=t[e];Se(o)&&ti(i,o)}else if(Se(e))ti(i,e.bind(r));else if(Ye(e))if(pe(e))e.forEach(o=>z0(o,t,r,n));else{const o=Se(e.handler)?e.handler.bind(r):t[e.handler];Se(o)&&ti(i,o,e)}}function K0(e){const t=e.type,{mixins:r,extends:n}=t,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=e.appContext,a=o.get(t);let c;return a?c=a:!i.length&&!r&&!n?c=t:(c={},i.length&&i.forEach(u=>Zo(c,u,s,!0)),Zo(c,t,s)),o.set(t,c),c}function Zo(e,t,r,n=!1){const{mixins:i,extends:o}=t;o&&Zo(e,o,r,!0),i&&i.forEach(s=>Zo(e,s,r,!0));for(const s in t)if(!(n&&s==="expose")){const a=Xb[s]||r&&r[s];e[s]=a?a(e[s],t[s]):t[s]}return e}const Xb={data:cf,props:pn,emits:pn,methods:pn,computed:pn,beforeCreate:dt,created:dt,beforeMount:dt,mounted:dt,beforeUpdate:dt,updated:dt,beforeDestroy:dt,beforeUnmount:dt,destroyed:dt,unmounted:dt,activated:dt,deactivated:dt,errorCaptured:dt,serverPrefetch:dt,components:pn,directives:pn,watch:Zb,provide:cf,inject:Jb};function cf(e,t){return t?e?function(){return it(Se(e)?e.call(this,this):e,Se(t)?t.call(this,this):t)}:t:e}function Jb(e,t){return pn(vu(e),vu(t))}function vu(e){if(pe(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function dt(e,t){return e?[...new Set([].concat(e,t))]:t}function pn(e,t){return e?it(it(Object.create(null),e),t):t}function Zb(e,t){if(!e)return t;if(!t)return e;const r=it(Object.create(null),e);for(const n in t)r[n]=dt(e[n],t[n]);return r}function Qb(e,t,r,n=!1){const i={},o={};Wo(o,As,1),e.propsDefaults=Object.create(null),q0(e,t,i,o);for(const s in e.propsOptions[0])s in i||(i[s]=void 0);r?e.props=n?i:hb(i):e.type.props?e.props=i:e.props=o,e.attrs=o}function eC(e,t,r,n){const{props:i,attrs:o,vnode:{patchFlag:s}}=e,a=Ie(i),[c]=e.propsOptions;let u=!1;if((n||s>0)&&!(s&16)){if(s&8){const l=e.vnode.dynamicProps;for(let f=0;f<l.length;f++){let d=l[f];if(_s(e.emitsOptions,d))continue;const h=t[d];if(c)if(Ae(o,d))h!==o[d]&&(o[d]=h,u=!0);else{const m=fr(d);i[m]=mu(c,a,m,h,e,!1)}else h!==o[d]&&(o[d]=h,u=!0)}}}else{q0(e,t,i,o)&&(u=!0);let l;for(const f in a)(!t||!Ae(t,f)&&((l=di(f))===f||!Ae(t,l)))&&(c?r&&(r[f]!==void 0||r[l]!==void 0)&&(i[f]=mu(c,a,f,void 0,e,!0)):delete i[f]);if(o!==a)for(const f in o)(!t||!Ae(t,f)&&!0)&&(delete o[f],u=!0)}u&&Rr(e,"set","$attrs")}function q0(e,t,r,n){const[i,o]=e.propsOptions;let s=!1,a;if(t)for(let c in t){if(Do(c))continue;const u=t[c];let l;i&&Ae(i,l=fr(c))?!o||!o.includes(l)?r[l]=u:(a||(a={}))[l]=u:_s(e.emitsOptions,c)||(!(c in n)||u!==n[c])&&(n[c]=u,s=!0)}if(o){const c=Ie(r),u=a||Ke;for(let l=0;l<o.length;l++){const f=o[l];r[f]=mu(i,c,f,u[f],e,!Ae(u,f))}}return s}function mu(e,t,r,n,i,o){const s=e[r];if(s!=null){const a=Ae(s,"default");if(a&&n===void 0){const c=s.default;if(s.type!==Function&&Se(c)){const{propsDefaults:u}=i;r in u?n=u[r]:(ai(i),n=u[r]=c.call(null,t),In())}else n=c}s[0]&&(o&&!a?n=!1:s[1]&&(n===""||n===di(r))&&(n=!0))}return n}function j0(e,t,r=!1){const n=t.propsCache,i=n.get(e);if(i)return i;const o=e.props,s={},a=[];let c=!1;if(!Se(e)){const l=f=>{c=!0;const[d,h]=j0(f,t,!0);it(s,d),h&&a.push(...h)};!r&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}if(!o&&!c)return n.set(e,Zn),Zn;if(pe(o))for(let l=0;l<o.length;l++){const f=fr(o[l]);lf(f)&&(s[f]=Ke)}else if(o)for(const l in o){const f=fr(l);if(lf(f)){const d=o[l],h=s[f]=pe(d)||Se(d)?{type:d}:d;if(h){const m=hf(Boolean,h.type),y=hf(String,h.type);h[0]=m>-1,h[1]=y<0||m<y,(m>-1||Ae(h,"default"))&&a.push(f)}}}const u=[s,a];return n.set(e,u),u}function lf(e){return e[0]!=="$"}function ff(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function df(e,t){return ff(e)===ff(t)}function hf(e,t){return pe(t)?t.findIndex(r=>df(r,e)):Se(t)&&df(t,e)?0:-1}const $0=e=>e[0]==="_"||e==="$stable",pl=e=>pe(e)?e.map(sr):[sr(e)],tC=(e,t,r)=>{if(t._n)return t;const n=Cs((...i)=>pl(t(...i)),r);return n._c=!1,n},H0=(e,t,r)=>{const n=e._ctx;for(const i in e){if($0(i))continue;const o=e[i];if(Se(o))t[i]=tC(i,o,n);else if(o!=null){const s=pl(o);t[i]=()=>s}}},V0=(e,t)=>{const r=pl(t);e.slots.default=()=>r},rC=(e,t)=>{if(e.vnode.shapeFlag&32){const r=t._;r?(e.slots=Ie(t),Wo(t,"_",r)):H0(t,e.slots={})}else e.slots={},t&&V0(e,t);Wo(e.slots,As,1)},nC=(e,t,r)=>{const{vnode:n,slots:i}=e;let o=!0,s=Ke;if(n.shapeFlag&32){const a=t._;a?r&&a===1?o=!1:(it(i,t),!r&&a===1&&delete i._):(o=!t.$stable,H0(t,i)),s=t}else t&&(V0(e,t),s={default:1});if(o)for(const a in i)!$0(a)&&!(a in s)&&delete i[a]};function G0(){return{app:null,config:{isNativeTag:L_,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let iC=0;function oC(e,t){return function(n,i=null){Se(n)||(n=Object.assign({},n)),i!=null&&!Ye(i)&&(i=null);const o=G0(),s=new Set;let a=!1;const c=o.app={_uid:iC++,_component:n,_props:i,_container:null,_context:o,_instance:null,version:EC,get config(){return o.config},set config(u){},use(u,...l){return s.has(u)||(u&&Se(u.install)?(s.add(u),u.install(c,...l)):Se(u)&&(s.add(u),u(c,...l))),c},mixin(u){return o.mixins.includes(u)||o.mixins.push(u),c},component(u,l){return l?(o.components[u]=l,c):o.components[u]},directive(u,l){return l?(o.directives[u]=l,c):o.directives[u]},mount(u,l,f){if(!a){const d=We(n,i);return d.appContext=o,l&&t?t(d,u):e(d,u,f),a=!0,c._container=u,u.__vue_app__=c,wl(d.component)||d.component.proxy}},unmount(){a&&(e(null,c._container),delete c._container.__vue_app__)},provide(u,l){return o.provides[u]=l,c}};return c}}function yu(e,t,r,n,i=!1){if(pe(e)){e.forEach((d,h)=>yu(d,t&&(pe(t)?t[h]:t),r,n,i));return}if(Fo(n)&&!i)return;const o=n.shapeFlag&4?wl(n.component)||n.component.proxy:n.el,s=i?null:o,{i:a,r:c}=e,u=t&&t.r,l=a.refs===Ke?a.refs={}:a.refs,f=a.setupState;if(u!=null&&u!==c&&(Je(u)?(l[u]=null,Ae(f,u)&&(f[u]=null)):je(u)&&(u.value=null)),Se(c))Jr(c,a,12,[s,l]);else{const d=Je(c),h=je(c);if(d||h){const m=()=>{if(e.f){const y=d?l[c]:c.value;i?pe(y)&&Qc(y,o):pe(y)?y.includes(o)||y.push(o):d?(l[c]=[o],Ae(f,c)&&(f[c]=l[c])):(c.value=[o],e.k&&(l[e.k]=c.value))}else d?(l[c]=s,Ae(f,c)&&(f[c]=s)):h&&(c.value=s,e.k&&(l[e.k]=s))};s?(m.id=-1,bt(m,r)):m()}}}const bt=Ob;function sC(e){return aC(e)}function aC(e,t){const r=z_();r.__VUE__=!0;const{insert:n,remove:i,patchProp:o,createElement:s,createText:a,createComment:c,setText:u,setElementText:l,parentNode:f,nextSibling:d,setScopeId:h=Zt,cloneNode:m,insertStaticContent:y}=e,_=(x,P,B,G=null,X=null,S=null,v=!1,g=null,b=!!P.dynamicChildren)=>{if(x===P)return;x&&!yn(x,P)&&(G=oe(x),ge(x,X,S,!0),x=null),P.patchFlag===-2&&(b=!1,P.dynamicChildren=null);const{type:E,ref:M,shapeFlag:N}=P;switch(E){case vl:C(x,P,B,G);break;case Qt:w(x,P,B,G);break;case zo:x==null&&A(P,B,G,v);break;case pt:j(x,P,B,G,X,S,v,g,b);break;default:N&1?D(x,P,B,G,X,S,v,g,b):N&6?V(x,P,B,G,X,S,v,g,b):(N&64||N&128)&&E.process(x,P,B,G,X,S,v,g,b,_e)}M!=null&&X&&yu(M,x&&x.ref,S,P||x,!P)},C=(x,P,B,G)=>{if(x==null)n(P.el=a(P.children),B,G);else{const X=P.el=x.el;P.children!==x.children&&u(X,P.children)}},w=(x,P,B,G)=>{x==null?n(P.el=c(P.children||""),B,G):P.el=x.el},A=(x,P,B,G)=>{[x.el,x.anchor]=y(x.children,P,B,G,x.el,x.anchor)},I=({el:x,anchor:P},B,G)=>{let X;for(;x&&x!==P;)X=d(x),n(x,B,G),x=X;n(P,B,G)},O=({el:x,anchor:P})=>{let B;for(;x&&x!==P;)B=d(x),i(x),x=B;i(P)},D=(x,P,B,G,X,S,v,g,b)=>{v=v||P.type==="svg",x==null?q(P,B,G,X,S,v,g,b):k(x,P,X,S,v,g,b)},q=(x,P,B,G,X,S,v,g)=>{let b,E;const{type:M,props:N,shapeFlag:Z,transition:ie,patchFlag:le,dirs:ve}=x;if(x.el&&m!==void 0&&le===-1)b=x.el=m(x.el);else{if(b=x.el=s(x.type,S,N&&N.is,N),Z&8?l(b,x.children):Z&16&&H(x.children,b,null,G,X,S&&M!=="foreignObject",v,g),ve&&on(x,null,G,"created"),N){for(const ke in N)ke!=="value"&&!Do(ke)&&o(b,ke,null,N[ke],S,x.children,G,X,J);"value"in N&&o(b,"value",null,N.value),(E=N.onVnodeBeforeMount)&&nr(E,G,x)}L(b,x,x.scopeId,v,G)}ve&&on(x,null,G,"beforeMount");const he=(!X||X&&!X.pendingBranch)&&ie&&!ie.persisted;he&&ie.beforeEnter(b),n(b,P,B),((E=N&&N.onVnodeMounted)||he||ve)&&bt(()=>{E&&nr(E,G,x),he&&ie.enter(b),ve&&on(x,null,G,"mounted")},X)},L=(x,P,B,G,X)=>{if(B&&h(x,B),G)for(let S=0;S<G.length;S++)h(x,G[S]);if(X){let S=X.subTree;if(P===S){const v=X.vnode;L(x,v,v.scopeId,v.slotScopeIds,X.parent)}}},H=(x,P,B,G,X,S,v,g,b=0)=>{for(let E=b;E<x.length;E++){const M=x[E]=g?Hr(x[E]):sr(x[E]);_(null,M,P,B,G,X,S,v,g)}},k=(x,P,B,G,X,S,v)=>{const g=P.el=x.el;let{patchFlag:b,dynamicChildren:E,dirs:M}=P;b|=x.patchFlag&16;const N=x.props||Ke,Z=P.props||Ke;let ie;B&&sn(B,!1),(ie=Z.onVnodeBeforeUpdate)&&nr(ie,B,P,x),M&&on(P,x,B,"beforeUpdate"),B&&sn(B,!0);const le=X&&P.type!=="foreignObject";if(E?U(x.dynamicChildren,E,g,B,G,le,S):v||de(x,P,g,null,B,G,le,S,!1),b>0){if(b&16)R(g,P,N,Z,B,G,X);else if(b&2&&N.class!==Z.class&&o(g,"class",null,Z.class,X),b&4&&o(g,"style",N.style,Z.style,X),b&8){const ve=P.dynamicProps;for(let he=0;he<ve.length;he++){const ke=ve[he],yt=N[ke],yr=Z[ke];(yr!==yt||ke==="value")&&o(g,ke,yt,yr,X,x.children,B,G,J)}}b&1&&x.children!==P.children&&l(g,P.children)}else!v&&E==null&&R(g,P,N,Z,B,G,X);((ie=Z.onVnodeUpdated)||M)&&bt(()=>{ie&&nr(ie,B,P,x),M&&on(P,x,B,"updated")},G)},U=(x,P,B,G,X,S,v)=>{for(let g=0;g<P.length;g++){const b=x[g],E=P[g],M=b.el&&(b.type===pt||!yn(b,E)||b.shapeFlag&70)?f(b.el):B;_(b,E,M,null,G,X,S,v,!0)}},R=(x,P,B,G,X,S,v)=>{if(B!==G){for(const g in G){if(Do(g))continue;const b=G[g],E=B[g];b!==E&&g!=="value"&&o(x,g,E,b,v,P.children,X,S,J)}if(B!==Ke)for(const g in B)!Do(g)&&!(g in G)&&o(x,g,B[g],null,v,P.children,X,S,J);"value"in G&&o(x,"value",B.value,G.value)}},j=(x,P,B,G,X,S,v,g,b)=>{const E=P.el=x?x.el:a(""),M=P.anchor=x?x.anchor:a("");let{patchFlag:N,dynamicChildren:Z,slotScopeIds:ie}=P;ie&&(g=g?g.concat(ie):ie),x==null?(n(E,B,G),n(M,B,G),H(P.children,B,M,X,S,v,g,b)):N>0&&N&64&&Z&&x.dynamicChildren?(U(x.dynamicChildren,Z,B,X,S,v,g),(P.key!=null||X&&P===X.subTree)&&W0(x,P,!0)):de(x,P,B,M,X,S,v,g,b)},V=(x,P,B,G,X,S,v,g,b)=>{P.slotScopeIds=g,x==null?P.shapeFlag&512?X.ctx.activate(P,B,G,v,b):$(P,B,G,X,S,v,b):ne(x,P,b)},$=(x,P,B,G,X,S,v)=>{const g=x.component=mC(x,G,X);if(Es(x)&&(g.ctx.renderer=_e),yC(g),g.asyncDep){if(X&&X.registerDep(g,ue),!x.el){const b=g.subTree=We(Qt);w(null,b,P,B)}return}ue(g,x,P,B,X,S,v)},ne=(x,P,B)=>{const G=P.component=x.component;if(Pb(x,P,B))if(G.asyncDep&&!G.asyncResolved){me(G,P,B);return}else G.next=P,Cb(G.update),G.update();else P.el=x.el,G.vnode=P},ue=(x,P,B,G,X,S,v)=>{const g=()=>{if(x.isMounted){let{next:M,bu:N,u:Z,parent:ie,vnode:le}=x,ve=M,he;sn(x,!1),M?(M.el=le.el,me(x,M,v)):M=le,N&&ea(N),(he=M.props&&M.props.onVnodeBeforeUpdate)&&nr(he,ie,M,le),sn(x,!0);const ke=ta(x),yt=x.subTree;x.subTree=ke,_(yt,ke,f(yt.el),oe(yt),x,X,S),M.el=ke.el,ve===null&&kb(x,ke.el),Z&&bt(Z,X),(he=M.props&&M.props.onVnodeUpdated)&&bt(()=>nr(he,ie,M,le),X)}else{let M;const{el:N,props:Z}=P,{bm:ie,m:le,parent:ve}=x,he=Fo(P);if(sn(x,!1),ie&&ea(ie),!he&&(M=Z&&Z.onVnodeBeforeMount)&&nr(M,ve,P),sn(x,!0),N&&ce){const ke=()=>{x.subTree=ta(x),ce(N,x.subTree,x,X,null)};he?P.type.__asyncLoader().then(()=>!x.isUnmounted&&ke()):ke()}else{const ke=x.subTree=ta(x);_(null,ke,B,G,x,X,S),P.el=ke.el}if(le&&bt(le,X),!he&&(M=Z&&Z.onVnodeMounted)){const ke=P;bt(()=>nr(M,ve,ke),X)}(P.shapeFlag&256||ve&&Fo(ve.vnode)&&ve.vnode.shapeFlag&256)&&x.a&&bt(x.a,X),x.isMounted=!0,P=B=G=null}},b=x.effect=new nl(g,()=>C0(E),x.scope),E=x.update=()=>b.run();E.id=x.uid,sn(x,!0),E()},me=(x,P,B)=>{P.component=x;const G=x.vnode.props;x.vnode=P,x.next=null,eC(x,P.props,G,B),nC(x,P.children,B),hi(),Ss(void 0,x.update),gi()},de=(x,P,B,G,X,S,v,g,b=!1)=>{const E=x&&x.children,M=x?x.shapeFlag:0,N=P.children,{patchFlag:Z,shapeFlag:ie}=P;if(Z>0){if(Z&128){te(E,N,B,G,X,S,v,g,b);return}else if(Z&256){ee(E,N,B,G,X,S,v,g,b);return}}ie&8?(M&16&&J(E,X,S),N!==E&&l(B,N)):M&16?ie&16?te(E,N,B,G,X,S,v,g,b):J(E,X,S,!0):(M&8&&l(B,""),ie&16&&H(N,B,G,X,S,v,g,b))},ee=(x,P,B,G,X,S,v,g,b)=>{x=x||Zn,P=P||Zn;const E=x.length,M=P.length,N=Math.min(E,M);let Z;for(Z=0;Z<N;Z++){const ie=P[Z]=b?Hr(P[Z]):sr(P[Z]);_(x[Z],ie,B,null,X,S,v,g,b)}E>M?J(x,X,S,!0,!1,N):H(P,B,G,X,S,v,g,b,N)},te=(x,P,B,G,X,S,v,g,b)=>{let E=0;const M=P.length;let N=x.length-1,Z=M-1;for(;E<=N&&E<=Z;){const ie=x[E],le=P[E]=b?Hr(P[E]):sr(P[E]);if(yn(ie,le))_(ie,le,B,null,X,S,v,g,b);else break;E++}for(;E<=N&&E<=Z;){const ie=x[N],le=P[Z]=b?Hr(P[Z]):sr(P[Z]);if(yn(ie,le))_(ie,le,B,null,X,S,v,g,b);else break;N--,Z--}if(E>N){if(E<=Z){const ie=Z+1,le=ie<M?P[ie].el:G;for(;E<=Z;)_(null,P[E]=b?Hr(P[E]):sr(P[E]),B,le,X,S,v,g,b),E++}}else if(E>Z)for(;E<=N;)ge(x[E],X,S,!0),E++;else{const ie=E,le=E,ve=new Map;for(E=le;E<=Z;E++){const xt=P[E]=b?Hr(P[E]):sr(P[E]);xt.key!=null&&ve.set(xt.key,E)}let he,ke=0;const yt=Z-le+1;let yr=!1,Vl=0;const Si=new Array(yt);for(E=0;E<yt;E++)Si[E]=0;for(E=ie;E<=N;E++){const xt=x[E];if(ke>=yt){ge(xt,X,S,!0);continue}let rr;if(xt.key!=null)rr=ve.get(xt.key);else for(he=le;he<=Z;he++)if(Si[he-le]===0&&yn(xt,P[he])){rr=he;break}rr===void 0?ge(xt,X,S,!0):(Si[rr-le]=E+1,rr>=Vl?Vl=rr:yr=!0,_(xt,P[rr],B,null,X,S,v,g,b),ke++)}const Gl=yr?uC(Si):Zn;for(he=Gl.length-1,E=yt-1;E>=0;E--){const xt=le+E,rr=P[xt],Wl=xt+1<M?P[xt+1].el:G;Si[E]===0?_(null,rr,B,Wl,X,S,v,g,b):yr&&(he<0||E!==Gl[he]?re(rr,B,Wl,2):he--)}}},re=(x,P,B,G,X=null)=>{const{el:S,type:v,transition:g,children:b,shapeFlag:E}=x;if(E&6){re(x.component.subTree,P,B,G);return}if(E&128){x.suspense.move(P,B,G);return}if(E&64){v.move(x,P,B,_e);return}if(v===pt){n(S,P,B);for(let N=0;N<b.length;N++)re(b[N],P,B,G);n(x.anchor,P,B);return}if(v===zo){I(x,P,B);return}if(G!==2&&E&1&&g)if(G===0)g.beforeEnter(S),n(S,P,B),bt(()=>g.enter(S),X);else{const{leave:N,delayLeave:Z,afterLeave:ie}=g,le=()=>n(S,P,B),ve=()=>{N(S,()=>{le(),ie&&ie()})};Z?Z(S,le,ve):ve()}else n(S,P,B)},ge=(x,P,B,G=!1,X=!1)=>{const{type:S,props:v,ref:g,children:b,dynamicChildren:E,shapeFlag:M,patchFlag:N,dirs:Z}=x;if(g!=null&&yu(g,null,B,x,!0),M&256){P.ctx.deactivate(x);return}const ie=M&1&&Z,le=!Fo(x);let ve;if(le&&(ve=v&&v.onVnodeBeforeUnmount)&&nr(ve,P,x),M&6)Q(x.component,B,G);else{if(M&128){x.suspense.unmount(B,G);return}ie&&on(x,null,P,"beforeUnmount"),M&64?x.type.remove(x,P,B,X,_e,G):E&&(S!==pt||N>0&&N&64)?J(E,P,B,!1,!0):(S===pt&&N&384||!X&&M&16)&&J(b,P,B),G&&Ce(x)}(le&&(ve=v&&v.onVnodeUnmounted)||ie)&&bt(()=>{ve&&nr(ve,P,x),ie&&on(x,null,P,"unmounted")},B)},Ce=x=>{const{type:P,el:B,anchor:G,transition:X}=x;if(P===pt){F(B,G);return}if(P===zo){O(x);return}const S=()=>{i(B),X&&!X.persisted&&X.afterLeave&&X.afterLeave()};if(x.shapeFlag&1&&X&&!X.persisted){const{leave:v,delayLeave:g}=X,b=()=>v(B,S);g?g(x.el,S,b):b()}else S()},F=(x,P)=>{let B;for(;x!==P;)B=d(x),i(x),x=B;i(P)},Q=(x,P,B)=>{const{bum:G,scope:X,update:S,subTree:v,um:g}=x;G&&ea(G),X.stop(),S&&(S.active=!1,ge(v,x,P,B)),g&&bt(g,P),bt(()=>{x.isUnmounted=!0},P),P&&P.pendingBranch&&!P.isUnmounted&&x.asyncDep&&!x.asyncResolved&&x.suspenseId===P.pendingId&&(P.deps--,P.deps===0&&P.resolve())},J=(x,P,B,G=!1,X=!1,S=0)=>{for(let v=S;v<x.length;v++)ge(x[v],P,B,G,X)},oe=x=>x.shapeFlag&6?oe(x.component.subTree):x.shapeFlag&128?x.suspense.next():d(x.anchor||x.el),we=(x,P,B)=>{x==null?P._vnode&&ge(P._vnode,null,null,!0):_(P._vnode||null,x,P,null,null,null,B),A0(),P._vnode=x},_e={p:_,um:ge,m:re,r:Ce,mt:$,mc:H,pc:de,pbc:U,n:oe,o:e};let fe,ce;return t&&([fe,ce]=t(_e)),{render:we,hydrate:fe,createApp:oC(we,fe)}}function sn({effect:e,update:t},r){e.allowRecurse=t.allowRecurse=r}function W0(e,t,r=!1){const n=e.children,i=t.children;if(pe(n)&&pe(i))for(let o=0;o<n.length;o++){const s=n[o];let a=i[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[o]=Hr(i[o]),a.el=s.el),r||W0(s,a))}}function uC(e){const t=e.slice(),r=[0];let n,i,o,s,a;const c=e.length;for(n=0;n<c;n++){const u=e[n];if(u!==0){if(i=r[r.length-1],e[i]<u){t[n]=i,r.push(n);continue}for(o=0,s=r.length-1;o<s;)a=o+s>>1,e[r[a]]<u?o=a+1:s=a;u<e[r[o]]&&(o>0&&(t[n]=r[o-1]),r[o]=n)}}for(o=r.length,s=r[o-1];o-- >0;)r[o]=s,s=t[s];return r}const cC=e=>e.__isTeleport,pt=Symbol(void 0),vl=Symbol(void 0),Qt=Symbol(void 0),zo=Symbol(void 0),Mi=[];let Jt=null;function ze(e=!1){Mi.push(Jt=e?null:[])}function lC(){Mi.pop(),Jt=Mi[Mi.length-1]||null}let Yi=1;function gf(e){Yi+=e}function Y0(e){return e.dynamicChildren=Yi>0?Jt||Zn:null,lC(),Yi>0&&Jt&&Jt.push(e),e}function Ge(e,t,r,n,i,o){return Y0(se(e,t,r,n,i,o,!0))}function Xi(e,t,r,n,i){return Y0(We(e,t,r,n,i,!0))}function wu(e){return e?e.__v_isVNode===!0:!1}function yn(e,t){return e.type===t.type&&e.key===t.key}const As="__vInternal",X0=({key:e})=>e!=null?e:null,Ko=({ref:e,ref_key:t,ref_for:r})=>e!=null?Je(e)||je(e)||Se(e)?{i:Xt,r:e,k:t,f:!!r}:e:null;function se(e,t=null,r=null,n=0,i=null,o=e===pt?0:1,s=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&X0(t),ref:t&&Ko(t),scopeId:bs,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null};return a?(ml(c,r),o&128&&e.normalize(c)):r&&(c.shapeFlag|=Je(r)?8:16),Yi>0&&!s&&Jt&&(c.patchFlag>0||o&6)&&c.patchFlag!==32&&Jt.push(c),c}const We=fC;function fC(e,t=null,r=null,n=0,i=null,o=!1){if((!e||e===B0)&&(e=Qt),wu(e)){const a=tn(e,t,!0);return r&&ml(a,r),Yi>0&&!o&&Jt&&(a.shapeFlag&6?Jt[Jt.indexOf(e)]=a:Jt.push(a)),a.patchFlag|=-2,a}if(CC(e)&&(e=e.__vccOpts),t){t=dC(t);let{class:a,style:c}=t;a&&!Je(a)&&(t.class=oi(a)),Ye(c)&&(v0(c)&&!pe(c)&&(c=it({},c)),t.style=Pn(c))}const s=Je(e)?1:Rb(e)?128:cC(e)?64:Ye(e)?4:Se(e)?2:0;return se(e,t,r,n,i,s,o,!0)}function dC(e){return e?v0(e)||As in e?it({},e):e:null}function tn(e,t,r=!1){const{props:n,ref:i,patchFlag:o,children:s}=e,a=t?gC(n||{},t):n;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&X0(a),ref:t&&t.ref?r&&i?pe(i)?i.concat(Ko(t)):[i,Ko(t)]:Ko(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==pt?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&tn(e.ssContent),ssFallback:e.ssFallback&&tn(e.ssFallback),el:e.el,anchor:e.anchor}}function J0(e=" ",t=0){return We(vl,null,e,t)}function hC(e,t){const r=We(zo,null,e);return r.staticCount=t,r}function Z0(e="",t=!1){return t?(ze(),Xi(Qt,null,e)):We(Qt,null,e)}function sr(e){return e==null||typeof e=="boolean"?We(Qt):pe(e)?We(pt,null,e.slice()):typeof e=="object"?Hr(e):We(vl,null,String(e))}function Hr(e){return e.el===null||e.memo?e:tn(e)}function ml(e,t){let r=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(pe(t))r=16;else if(typeof t=="object")if(n&65){const i=t.default;i&&(i._c&&(i._d=!1),ml(e,i()),i._c&&(i._d=!0));return}else{r=32;const i=t._;!i&&!(As in t)?t._ctx=Xt:i===3&&Xt&&(Xt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Se(t)?(t={default:t,_ctx:Xt},r=32):(t=String(t),n&64?(r=16,t=[J0(t)]):r=8);e.children=t,e.shapeFlag|=r}function gC(...e){const t={};for(let r=0;r<e.length;r++){const n=e[r];for(const i in n)if(i==="class")t.class!==n.class&&(t.class=oi([t.class,n.class]));else if(i==="style")t.style=Pn([t.style,n.style]);else if(gs(i)){const o=t[i],s=n[i];s&&o!==s&&!(pe(o)&&o.includes(s))&&(t[i]=o?[].concat(o,s):s)}else i!==""&&(t[i]=n[i])}return t}function nr(e,t,r,n=null){Kt(e,t,7,[r,n])}const pC=G0();let vC=0;function mC(e,t,r){const n=e.type,i=(t?t.appContext:e.appContext)||pC,o={uid:vC++,vnode:e,type:n,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new n0(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:j0(n,i),emitsOptions:T0(n,i),emit:null,emitted:null,propsDefaults:Ke,inheritAttrs:n.inheritAttrs,ctx:Ke,data:Ke,props:Ke,attrs:Ke,slots:Ke,refs:Ke,setupState:Ke,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=Ab.bind(null,o),e.ce&&e.ce(o),o}let et=null;const yl=()=>et||Xt,ai=e=>{et=e,e.scope.on()},In=()=>{et&&et.scope.off(),et=null};function Q0(e){return e.vnode.shapeFlag&4}let Ji=!1;function yC(e,t=!1){Ji=t;const{props:r,children:n}=e.vnode,i=Q0(e);Qb(e,r,i,t),rC(e,n);const o=i?wC(e,t):void 0;return Ji=!1,o}function wC(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=si(new Proxy(e.ctx,Gb));const{setup:n}=r;if(n){const i=e.setupContext=n.length>1?_C(e):null;ai(e),hi();const o=Jr(n,e,0,[e.props,i]);if(gi(),In(),Qy(o)){if(o.then(In,In),t)return o.then(s=>{pf(e,s,t)}).catch(s=>{ws(s,e,0)});e.asyncDep=o}else pf(e,o,t)}else ew(e,t)}function pf(e,t,r){Se(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ye(t)&&(e.setupState=S0(t)),ew(e,r)}let vf;function ew(e,t,r){const n=e.type;if(!e.render){if(!t&&vf&&!n.render){const i=n.template;if(i){const{isCustomElement:o,compilerOptions:s}=e.appContext.config,{delimiters:a,compilerOptions:c}=n,u=it(it({isCustomElement:o,delimiters:a},s),c);n.render=vf(i,u)}}e.render=n.render||Zt}ai(e),hi(),Wb(e),gi(),In()}function SC(e){return new Proxy(e.attrs,{get(t,r){return Lt(e,"get","$attrs"),t[r]}})}function _C(e){const t=n=>{e.exposed=n||{}};let r;return{get attrs(){return r||(r=SC(e))},slots:e.slots,emit:e.emit,expose:t}}function wl(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(S0(si(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in Jo)return Jo[r](e)}}))}function bC(e,t=!0){return Se(e)?e.displayName||e.name:e.name||t&&e.__name}function CC(e){return Se(e)&&"__vccOpts"in e}const Ct=(e,t)=>Sb(e,t,Ji);function Sl(e,t,r){const n=arguments.length;return n===2?Ye(t)&&!pe(t)?wu(t)?We(e,null,[t]):We(e,t):We(e,null,t):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&wu(r)&&(r=[r]),We(e,t,r))}const EC="3.2.37",xC="http://www.w3.org/2000/svg",wn=typeof document<"u"?document:null,mf=wn&&wn.createElement("template"),AC={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,n)=>{const i=t?wn.createElementNS(xC,e):wn.createElement(e,r?{is:r}:void 0);return e==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:e=>wn.createTextNode(e),createComment:e=>wn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>wn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,r,n,i,o){const s=r?r.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),r),!(i===o||!(i=i.nextSibling)););else{mf.innerHTML=n?`<svg>${e}</svg>`:e;const a=mf.content;if(n){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}t.insertBefore(a,r)}return[s?s.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}};function IC(e,t,r){const n=e._vtc;n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}function TC(e,t,r){const n=e.style,i=Je(r);if(r&&!i){for(const o in r)Su(n,o,r[o]);if(t&&!Je(t))for(const o in t)r[o]==null&&Su(n,o,"")}else{const o=n.display;i?t!==r&&(n.cssText=r):t&&e.removeAttribute("style"),"_vod"in e&&(n.display=o)}}const yf=/\s*!important$/;function Su(e,t,r){if(pe(r))r.forEach(n=>Su(e,t,n));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const n=PC(e,t);yf.test(r)?e.setProperty(di(n),r.replace(yf,""),"important"):e[n]=r}}const wf=["Webkit","Moz","ms"],na={};function PC(e,t){const r=na[t];if(r)return r;let n=fr(t);if(n!=="filter"&&n in e)return na[t]=n;n=ms(n);for(let i=0;i<wf.length;i++){const o=wf[i]+n;if(o in e)return na[t]=o}return t}const Sf="http://www.w3.org/1999/xlink";function kC(e,t,r,n,i){if(n&&t.startsWith("xlink:"))r==null?e.removeAttributeNS(Sf,t.slice(6,t.length)):e.setAttributeNS(Sf,t,r);else{const o=k_(t);r==null||o&&!Xy(r)?e.removeAttribute(t):e.setAttribute(t,o?"":r)}}function RC(e,t,r,n,i,o,s){if(t==="innerHTML"||t==="textContent"){n&&s(n,i,o),e[t]=r==null?"":r;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=r;const c=r==null?"":r;(e.value!==c||e.tagName==="OPTION")&&(e.value=c),r==null&&e.removeAttribute(t);return}let a=!1;if(r===""||r==null){const c=typeof e[t];c==="boolean"?r=Xy(r):r==null&&c==="string"?(r="",a=!0):c==="number"&&(r=0,a=!0)}try{e[t]=r}catch{}a&&e.removeAttribute(t)}const[tw,OC]=(()=>{let e=Date.now,t=!1;if(typeof window<"u"){Date.now()>document.createEvent("Event").timeStamp&&(e=performance.now.bind(performance));const r=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(r&&Number(r[1])<=53)}return[e,t]})();let _u=0;const UC=Promise.resolve(),LC=()=>{_u=0},MC=()=>_u||(UC.then(LC),_u=tw());function NC(e,t,r,n){e.addEventListener(t,r,n)}function DC(e,t,r,n){e.removeEventListener(t,r,n)}function BC(e,t,r,n,i=null){const o=e._vei||(e._vei={}),s=o[t];if(n&&s)s.value=n;else{const[a,c]=FC(t);if(n){const u=o[t]=zC(n,i);NC(e,a,u,c)}else s&&(DC(e,a,s,c),o[t]=void 0)}}const _f=/(?:Once|Passive|Capture)$/;function FC(e){let t;if(_f.test(e)){t={};let r;for(;r=e.match(_f);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[di(e.slice(2)),t]}function zC(e,t){const r=n=>{const i=n.timeStamp||tw();(OC||i>=r.attached-1)&&Kt(KC(n,r.value),t,5,[n])};return r.value=e,r.attached=MC(),r}function KC(e,t){if(pe(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(n=>i=>!i._stopped&&n&&n(i))}else return t}const bf=/^on[a-z]/,qC=(e,t,r,n,i=!1,o,s,a,c)=>{t==="class"?IC(e,n,i):t==="style"?TC(e,r,n):gs(t)?Zc(t)||BC(e,t,r,n,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):jC(e,t,n,i))?RC(e,t,n,o,s,a,c):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),kC(e,t,n,i))};function jC(e,t,r,n){return n?!!(t==="innerHTML"||t==="textContent"||t in e&&bf.test(t)&&Se(r)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||bf.test(t)&&Je(r)?!1:t in e}const Lr="transition",_i="animation",Is=(e,{slots:t})=>Sl(R0,$C(e),t);Is.displayName="Transition";const rw={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Is.props=it({},R0.props,rw);const an=(e,t=[])=>{pe(e)?e.forEach(r=>r(...t)):e&&e(...t)},Cf=e=>e?pe(e)?e.some(t=>t.length>1):e.length>1:!1;function $C(e){const t={};for(const R in e)R in rw||(t[R]=e[R]);if(e.css===!1)return t;const{name:r="v",type:n,duration:i,enterFromClass:o=`${r}-enter-from`,enterActiveClass:s=`${r}-enter-active`,enterToClass:a=`${r}-enter-to`,appearFromClass:c=o,appearActiveClass:u=s,appearToClass:l=a,leaveFromClass:f=`${r}-leave-from`,leaveActiveClass:d=`${r}-leave-active`,leaveToClass:h=`${r}-leave-to`}=e,m=HC(i),y=m&&m[0],_=m&&m[1],{onBeforeEnter:C,onEnter:w,onEnterCancelled:A,onLeave:I,onLeaveCancelled:O,onBeforeAppear:D=C,onAppear:q=w,onAppearCancelled:L=A}=t,H=(R,j,V)=>{un(R,j?l:a),un(R,j?u:s),V&&V()},k=(R,j)=>{R._isLeaving=!1,un(R,f),un(R,h),un(R,d),j&&j()},U=R=>(j,V)=>{const $=R?q:w,ne=()=>H(j,R,V);an($,[j,ne]),Ef(()=>{un(j,R?c:o),Mr(j,R?l:a),Cf($)||xf(j,n,y,ne)})};return it(t,{onBeforeEnter(R){an(C,[R]),Mr(R,o),Mr(R,s)},onBeforeAppear(R){an(D,[R]),Mr(R,c),Mr(R,u)},onEnter:U(!1),onAppear:U(!0),onLeave(R,j){R._isLeaving=!0;const V=()=>k(R,j);Mr(R,f),WC(),Mr(R,d),Ef(()=>{!R._isLeaving||(un(R,f),Mr(R,h),Cf(I)||xf(R,n,_,V))}),an(I,[R,V])},onEnterCancelled(R){H(R,!1),an(A,[R])},onAppearCancelled(R){H(R,!0),an(L,[R])},onLeaveCancelled(R){k(R),an(O,[R])}})}function HC(e){if(e==null)return null;if(Ye(e))return[ia(e.enter),ia(e.leave)];{const t=ia(e);return[t,t]}}function ia(e){return r0(e)}function Mr(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.add(r)),(e._vtc||(e._vtc=new Set)).add(t)}function un(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.remove(n));const{_vtc:r}=e;r&&(r.delete(t),r.size||(e._vtc=void 0))}function Ef(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let VC=0;function xf(e,t,r,n){const i=e._endId=++VC,o=()=>{i===e._endId&&n()};if(r)return setTimeout(o,r);const{type:s,timeout:a,propCount:c}=GC(e,t);if(!s)return n();const u=s+"end";let l=0;const f=()=>{e.removeEventListener(u,d),o()},d=h=>{h.target===e&&++l>=c&&f()};setTimeout(()=>{l<c&&f()},a+1),e.addEventListener(u,d)}function GC(e,t){const r=window.getComputedStyle(e),n=m=>(r[m]||"").split(", "),i=n(Lr+"Delay"),o=n(Lr+"Duration"),s=Af(i,o),a=n(_i+"Delay"),c=n(_i+"Duration"),u=Af(a,c);let l=null,f=0,d=0;t===Lr?s>0&&(l=Lr,f=s,d=o.length):t===_i?u>0&&(l=_i,f=u,d=c.length):(f=Math.max(s,u),l=f>0?s>u?Lr:_i:null,d=l?l===Lr?o.length:c.length:0);const h=l===Lr&&/\b(transform|all)(,|$)/.test(r[Lr+"Property"]);return{type:l,timeout:f,propCount:d,hasTransform:h}}function Af(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((r,n)=>If(r)+If(e[n])))}function If(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function WC(){return document.body.offsetHeight}const YC=it({patchProp:qC},AC);let Tf;function XC(){return Tf||(Tf=sC(YC))}const JC=(...e)=>{const t=XC().createApp(...e),{mount:r}=t;return t.mount=n=>{const i=ZC(n);if(!i)return;const o=t._component;!Se(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const s=r(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},t};function ZC(e){return Je(e)?document.querySelector(e):e}var QC=!1;/*!
  * pinia v2.0.22
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */let nw;const Ts=e=>nw=e,iw=Symbol();function bu(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Ni;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Ni||(Ni={}));function e1(){const e=i0(!0),t=e.run(()=>ei({}));let r=[],n=[];const i=si({install(o){Ts(i),i._a=o,o.provide(iw,i),o.config.globalProperties.$pinia=i,n.forEach(s=>r.push(s)),n=[]},use(o){return!this._a&&!QC?n.push(o):r.push(o),this},_p:r,_a:null,_e:e,_s:new Map,state:t});return i}const ow=()=>{};function Pf(e,t,r,n=ow){e.push(t);const i=()=>{const o=e.indexOf(t);o>-1&&(e.splice(o,1),n())};return!r&&yl()&&hl(i),i}function Un(e,...t){e.slice().forEach(r=>{r(...t)})}function Cu(e,t){e instanceof Map&&t instanceof Map&&t.forEach((r,n)=>e.set(n,r)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const r in t){if(!t.hasOwnProperty(r))continue;const n=t[r],i=e[r];bu(i)&&bu(n)&&e.hasOwnProperty(r)&&!je(n)&&!Pr(n)?e[r]=Cu(i,n):e[r]=n}return e}const t1=Symbol();function r1(e){return!bu(e)||!e.hasOwnProperty(t1)}const{assign:Er}=Object;function n1(e){return!!(je(e)&&e.effect)}function i1(e,t,r,n){const{state:i,actions:o,getters:s}=t,a=r.state.value[e];let c;function u(){a||(r.state.value[e]=i?i():{});const l=mb(r.state.value[e]);return Er(l,o,Object.keys(s||{}).reduce((f,d)=>(f[d]=si(Ct(()=>{Ts(r);const h=r._s.get(e);return s[d].call(h,h)})),f),{}))}return c=sw(e,u,t,r,n,!0),c.$reset=function(){const f=i?i():{};this.$patch(d=>{Er(d,f)})},c}function sw(e,t,r={},n,i,o){let s;const a=Er({actions:{}},r),c={deep:!0};let u,l,f=si([]),d=si([]),h;const m=n.state.value[e];!o&&!m&&(n.state.value[e]={}),ei({});let y;function _(q){let L;u=l=!1,typeof q=="function"?(q(n.state.value[e]),L={type:Ni.patchFunction,storeId:e,events:h}):(Cu(n.state.value[e],q),L={type:Ni.patchObject,payload:q,storeId:e,events:h});const H=y=Symbol();ll().then(()=>{y===H&&(u=!0)}),l=!0,Un(f,L,n.state.value[e])}const C=ow;function w(){s.stop(),f=[],d=[],n._s.delete(e)}function A(q,L){return function(){Ts(n);const H=Array.from(arguments),k=[],U=[];function R($){k.push($)}function j($){U.push($)}Un(d,{args:H,name:q,store:O,after:R,onError:j});let V;try{V=L.apply(this&&this.$id===e?this:O,H)}catch($){throw Un(U,$),$}return V instanceof Promise?V.then($=>(Un(k,$),$)).catch($=>(Un(U,$),Promise.reject($))):(Un(k,V),V)}}const I={_p:n,$id:e,$onAction:Pf.bind(null,d),$patch:_,$reset:C,$subscribe(q,L={}){const H=Pf(f,q,L.detached,()=>k()),k=s.run(()=>ti(()=>n.state.value[e],U=>{(L.flush==="sync"?l:u)&&q({storeId:e,type:Ni.direct,events:h},U)},Er({},c,L)));return H},$dispose:w},O=pi(Er({},I));n._s.set(e,O);const D=n._e.run(()=>(s=i0(),s.run(()=>t())));for(const q in D){const L=D[q];if(je(L)&&!n1(L)||Pr(L))o||(m&&r1(L)&&(je(L)?L.value=m[q]:Cu(L,m[q])),n.state.value[e][q]=L);else if(typeof L=="function"){const H=A(q,L);D[q]=H,a.actions[q]=L}}return Er(O,D),Er(Ie(O),D),Object.defineProperty(O,"$state",{get:()=>n.state.value[e],set:q=>{_(L=>{Er(L,q)})}}),n._p.forEach(q=>{Er(O,s.run(()=>q({store:O,app:n._a,pinia:n,options:a})))}),m&&o&&r.hydrate&&r.hydrate(O.$state,m),u=!0,l=!0,O}function o1(e,t,r){let n,i;const o=typeof t=="function";typeof e=="string"?(n=e,i=o?r:t):(i=e,n=e.id);function s(a,c){const u=yl();return a=a||u&&lr(iw),a&&Ts(a),a=nw,a._s.has(n)||(o?sw(n,t,i,a):i1(n,i,a)),a._s.get(n)}return s.$id=n,s}function s1(e){{e=Ie(e);const t={};for(const r in e){const n=e[r];(je(n)||Pr(n))&&(t[r]=_0(e,r))}return t}}var a1="Logging",u1=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},c1=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o},Ln=globalThis&&globalThis.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(c1(arguments[t]));return e},kf={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5},Ht;(function(e){e.DEBUG="DEBUG",e.ERROR="ERROR",e.INFO="INFO",e.WARN="WARN",e.VERBOSE="VERBOSE"})(Ht||(Ht={}));var qe=function(){function e(t,r){r===void 0&&(r=Ht.WARN),this.name=t,this.level=r,this._pluggables=[]}return e.prototype._padding=function(t){return t<10?"0"+t:""+t},e.prototype._ts=function(){var t=new Date;return[this._padding(t.getMinutes()),this._padding(t.getSeconds())].join(":")+"."+t.getMilliseconds()},e.prototype.configure=function(t){return t?(this._config=t,this._config):this._config},e.prototype._log=function(t){for(var r,n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var s=this.level;e.LOG_LEVEL&&(s=e.LOG_LEVEL),typeof window<"u"&&window.LOG_LEVEL&&(s=window.LOG_LEVEL);var a=kf[s],c=kf[t];if(c>=a){var u=console.log.bind(console);t===Ht.ERROR&&console.error&&(u=console.error.bind(console)),t===Ht.WARN&&console.warn&&(u=console.warn.bind(console));var l="["+t+"] "+this._ts()+" "+this.name,f="";if(i.length===1&&typeof i[0]=="string")f=l+" - "+i[0],u(f);else if(i.length===1)f=l+" "+i[0],u(l,i[0]);else if(typeof i[0]=="string"){var d=i.slice(1);d.length===1&&(d=d[0]),f=l+" - "+i[0]+" "+d,u(l+" - "+i[0],d)}else f=l+" "+i,u(l,i);try{for(var h=u1(this._pluggables),m=h.next();!m.done;m=h.next()){var y=m.value,_={message:f,timestamp:Date.now()};y.pushLogs([_])}}catch(C){r={error:C}}finally{try{m&&!m.done&&(n=h.return)&&n.call(h)}finally{if(r)throw r.error}}}},e.prototype.log=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._log.apply(this,Ln([Ht.INFO],t))},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._log.apply(this,Ln([Ht.INFO],t))},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._log.apply(this,Ln([Ht.WARN],t))},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._log.apply(this,Ln([Ht.ERROR],t))},e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._log.apply(this,Ln([Ht.DEBUG],t))},e.prototype.verbose=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._log.apply(this,Ln([Ht.VERBOSE],t))},e.prototype.addPluggable=function(t){t&&t.getCategoryName()===a1&&(this._pluggables.push(t),t.configure(this._config))},e.prototype.listPluggables=function(){return this._pluggables},e.LOG_LEVEL=null,e}(),l1=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o},oa=new qe("Amplify"),f1=function(){function e(){this._components=[],this._config={},this._modules={},this.Auth=null,this.Analytics=null,this.API=null,this.Credentials=null,this.Storage=null,this.I18n=null,this.Cache=null,this.PubSub=null,this.Interactions=null,this.Pushnotification=null,this.UI=null,this.XR=null,this.Predictions=null,this.DataStore=null,this.Geo=null,this.Logger=qe,this.ServiceWorker=null}return e.prototype.register=function(t){oa.debug("component registered in amplify",t),this._components.push(t),typeof t.getModuleName=="function"?(this._modules[t.getModuleName()]=t,this[t.getModuleName()]=t):oa.debug("no getModuleName method for component",t),t.configure(this._config)},e.prototype.configure=function(t){var r=this;return t?(this._config=Object.assign(this._config,t),oa.debug("amplify config",this._config),Object.entries(this._modules).forEach(function(n){var i=l1(n,2);i[0];var o=i[1];Object.keys(o).forEach(function(s){r._modules[s]&&(o[s]=r._modules[s])})}),this._components.map(function(n){n.configure(r._config)}),this._config):this._config},e.prototype.addPluggable=function(t){t&&t.getCategory&&typeof t.getCategory=="function"&&this._components.map(function(r){r.addPluggable&&typeof r.addPluggable=="function"&&r.addPluggable(t)})},e}(),Ut=new f1,d1="4.6.1",Eu="aws-amplify/"+d1,Ar={userAgent:Eu+" js",product:"",navigator:null,isReactNative:!1};if(typeof navigator<"u"&&navigator.product)switch(Ar.product=navigator.product||"",Ar.navigator=navigator||null,navigator.product){case"ReactNative":Ar.userAgent=Eu+" react-native",Ar.isReactNative=!0;break;default:Ar.userAgent=Eu+" js",Ar.isReactNative=!1;break}var qo=function(e){return""+Ar.userAgent+(e||"")},Di=globalThis&&globalThis.__assign||function(){return Di=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Di.apply(this,arguments)},aw=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o},Rf=globalThis&&globalThis.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(aw(arguments[t]));return e},wr=new qe("Hub"),h1=typeof Symbol<"u"&&typeof Symbol.for=="function"?Symbol.for("amplify_default"):"@@amplify_default";function g1(e){return e.onHubCapsule!==void 0}var p1=function(){function e(t){this.listeners=[],this.patterns=[],this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","ui","xr"],this.name=t}return e.prototype.remove=function(t,r){if(t instanceof RegExp){var n=this.patterns.find(function(o){var s=o.pattern;return s.source===t.source});if(!n){wr.warn("No listeners for "+t);return}this.patterns=Rf(this.patterns.filter(function(o){return o!==n}))}else{var i=this.listeners[t];if(!i){wr.warn("No listeners for "+t);return}this.listeners[t]=Rf(i.filter(function(o){var s=o.callback;return s!==r}))}},e.prototype.dispatch=function(t,r,n,i){if(n===void 0&&(n=""),this.protectedChannels.indexOf(t)>-1){var o=i===h1;o||wr.warn("WARNING: "+t+" is protected and dispatching on it can have unintended consequences")}var s={channel:t,payload:Di({},r),source:n,patternInfo:[]};try{this._toListeners(s)}catch(a){wr.error(a)}},e.prototype.listen=function(t,r,n){var i=this;n===void 0&&(n="noname");var o;if(g1(r))wr.warn("WARNING onHubCapsule is Deprecated. Please pass in a callback."),o=r.onHubCapsule.bind(r);else{if(typeof r!="function")throw new Error("No callback supplied to Hub");o=r}if(t instanceof RegExp)this.patterns.push({pattern:t,callback:o});else{var s=this.listeners[t];s||(s=[],this.listeners[t]=s),s.push({name:n,callback:o})}return function(){i.remove(t,o)}},e.prototype._toListeners=function(t){var r=t.channel,n=t.payload,i=this.listeners[r];if(i&&i.forEach(function(s){wr.debug("Dispatching to "+r+" with ",n);try{s.callback(t)}catch(a){wr.error(a)}}),this.patterns.length>0){if(!n.message){wr.warn("Cannot perform pattern matching without a message key");return}var o=n.message;this.patterns.forEach(function(s){var a=o.match(s.pattern);if(a){var c=aw(a),u=c.slice(1),l=Di(Di({},t),{patternInfo:u});try{s.callback(l)}catch(f){wr.error(f)}}})}},e}(),ar=new p1("__default__"),v1=new qe("I18n"),Of=function(){function e(t){this._options=null,this._lang=null,this._dict={},this._options=Object.assign({},t),this._lang=this._options.language,!this._lang&&typeof window<"u"&&window&&window.navigator&&(this._lang=window.navigator.language),v1.debug(this._lang)}return e.prototype.setLanguage=function(t){this._lang=t},e.prototype.get=function(t,r){if(r===void 0&&(r=void 0),!this._lang)return typeof r<"u"?r:t;var n=this._lang,i=this.getByLanguage(t,n);return i||(n.indexOf("-")>0&&(i=this.getByLanguage(t,n.split("-")[0])),i)?i:typeof r<"u"?r:t},e.prototype.getByLanguage=function(t,r,n){if(n===void 0&&(n=null),!r)return n;var i=this._dict[r];return i?i[t]:n},e.prototype.putVocabulariesForLanguage=function(t,r){var n=this._dict[t];n||(n=this._dict[t]={}),Object.assign(n,r)},e.prototype.putVocabularies=function(t){var r=this;Object.keys(t).map(function(n){r.putVocabulariesForLanguage(n,t[n])})},e}(),Uf=new qe("I18n"),Mn=null,Nr=null,m1=function(){function e(){}return e.configure=function(t){return Uf.debug("configure I18n"),t&&(Mn=Object.assign({},Mn,t.I18n||t),e.createInstance()),Mn},e.getModuleName=function(){return"I18n"},e.createInstance=function(){Uf.debug("create I18n instance"),!Nr&&(Nr=new Of(Mn))},e.setLanguage=function(t){return e.checkConfig(),Nr.setLanguage(t)},e.get=function(t,r){return e.checkConfig()?Nr.get(t,r):typeof r>"u"?t:r},e.putVocabulariesForLanguage=function(t,r){return e.checkConfig(),Nr.putVocabulariesForLanguage(t,r)},e.putVocabularies=function(t){return e.checkConfig(),Nr.putVocabularies(t)},e.checkConfig=function(){return Nr||(Nr=new Of(Mn)),!0},e}();Ut.register(m1);var y1=function(e){if(e.isResolved)return e;var t=!0,r=!1,n=!1,i=e.then(function(o){return n=!0,t=!1,o},function(o){throw r=!0,t=!1,o});return i.isFullfilled=function(){return n},i.isPending=function(){return t},i.isRejected=function(){return r},i},dr=function(){var e=typeof window<"u"&&typeof window.document<"u",t=typeof process<"u"&&process.versions!=null&&process.versions.node!=null;return{isBrowser:e,isNode:t}},nt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function w1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ps(e){var t=e.default;if(typeof t=="function"){var r=function(){return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var T={exports:{}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */(function(e){var t,r,n,i,o,s,a,c,u,l,f,d,h,m,y,_,C,w,A,I,O,D,q;(function(L){var H=typeof nt=="object"?nt:typeof self=="object"?self:typeof this=="object"?this:{};L(k(H,k(e.exports)));function k(U,R){return U!==H&&(typeof Object.create=="function"?Object.defineProperty(U,"__esModule",{value:!0}):U.__esModule=!0),function(j,V){return U[j]=R?R(j,V):V}}})(function(L){var H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,U){k.__proto__=U}||function(k,U){for(var R in U)U.hasOwnProperty(R)&&(k[R]=U[R])};t=function(k,U){H(k,U);function R(){this.constructor=k}k.prototype=U===null?Object.create(U):(R.prototype=U.prototype,new R)},r=Object.assign||function(k){for(var U,R=1,j=arguments.length;R<j;R++){U=arguments[R];for(var V in U)Object.prototype.hasOwnProperty.call(U,V)&&(k[V]=U[V])}return k},n=function(k,U){var R={};for(var j in k)Object.prototype.hasOwnProperty.call(k,j)&&U.indexOf(j)<0&&(R[j]=k[j]);if(k!=null&&typeof Object.getOwnPropertySymbols=="function")for(var V=0,j=Object.getOwnPropertySymbols(k);V<j.length;V++)U.indexOf(j[V])<0&&Object.prototype.propertyIsEnumerable.call(k,j[V])&&(R[j[V]]=k[j[V]]);return R},i=function(k,U,R,j){var V=arguments.length,$=V<3?U:j===null?j=Object.getOwnPropertyDescriptor(U,R):j,ne;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$=Reflect.decorate(k,U,R,j);else for(var ue=k.length-1;ue>=0;ue--)(ne=k[ue])&&($=(V<3?ne($):V>3?ne(U,R,$):ne(U,R))||$);return V>3&&$&&Object.defineProperty(U,R,$),$},o=function(k,U){return function(R,j){U(R,j,k)}},s=function(k,U){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(k,U)},a=function(k,U,R,j){function V($){return $ instanceof R?$:new R(function(ne){ne($)})}return new(R||(R=Promise))(function($,ne){function ue(ee){try{de(j.next(ee))}catch(te){ne(te)}}function me(ee){try{de(j.throw(ee))}catch(te){ne(te)}}function de(ee){ee.done?$(ee.value):V(ee.value).then(ue,me)}de((j=j.apply(k,U||[])).next())})},c=function(k,U){var R={label:0,sent:function(){if($[0]&1)throw $[1];return $[1]},trys:[],ops:[]},j,V,$,ne;return ne={next:ue(0),throw:ue(1),return:ue(2)},typeof Symbol=="function"&&(ne[Symbol.iterator]=function(){return this}),ne;function ue(de){return function(ee){return me([de,ee])}}function me(de){if(j)throw new TypeError("Generator is already executing.");for(;R;)try{if(j=1,V&&($=de[0]&2?V.return:de[0]?V.throw||(($=V.return)&&$.call(V),0):V.next)&&!($=$.call(V,de[1])).done)return $;switch(V=0,$&&(de=[de[0]&2,$.value]),de[0]){case 0:case 1:$=de;break;case 4:return R.label++,{value:de[1],done:!1};case 5:R.label++,V=de[1],de=[0];continue;case 7:de=R.ops.pop(),R.trys.pop();continue;default:if($=R.trys,!($=$.length>0&&$[$.length-1])&&(de[0]===6||de[0]===2)){R=0;continue}if(de[0]===3&&(!$||de[1]>$[0]&&de[1]<$[3])){R.label=de[1];break}if(de[0]===6&&R.label<$[1]){R.label=$[1],$=de;break}if($&&R.label<$[2]){R.label=$[2],R.ops.push(de);break}$[2]&&R.ops.pop(),R.trys.pop();continue}de=U.call(k,R)}catch(ee){de=[6,ee],V=0}finally{j=$=0}if(de[0]&5)throw de[1];return{value:de[0]?de[1]:void 0,done:!0}}},q=function(k,U,R,j){j===void 0&&(j=R),k[j]=U[R]},u=function(k,U){for(var R in k)R!=="default"&&!U.hasOwnProperty(R)&&(U[R]=k[R])},l=function(k){var U=typeof Symbol=="function"&&Symbol.iterator,R=U&&k[U],j=0;if(R)return R.call(k);if(k&&typeof k.length=="number")return{next:function(){return k&&j>=k.length&&(k=void 0),{value:k&&k[j++],done:!k}}};throw new TypeError(U?"Object is not iterable.":"Symbol.iterator is not defined.")},f=function(k,U){var R=typeof Symbol=="function"&&k[Symbol.iterator];if(!R)return k;var j=R.call(k),V,$=[],ne;try{for(;(U===void 0||U-- >0)&&!(V=j.next()).done;)$.push(V.value)}catch(ue){ne={error:ue}}finally{try{V&&!V.done&&(R=j.return)&&R.call(j)}finally{if(ne)throw ne.error}}return $},d=function(){for(var k=[],U=0;U<arguments.length;U++)k=k.concat(f(arguments[U]));return k},h=function(){for(var k=0,U=0,R=arguments.length;U<R;U++)k+=arguments[U].length;for(var j=Array(k),V=0,U=0;U<R;U++)for(var $=arguments[U],ne=0,ue=$.length;ne<ue;ne++,V++)j[V]=$[ne];return j},m=function(k){return this instanceof m?(this.v=k,this):new m(k)},y=function(k,U,R){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var j=R.apply(k,U||[]),V,$=[];return V={},ne("next"),ne("throw"),ne("return"),V[Symbol.asyncIterator]=function(){return this},V;function ne(re){j[re]&&(V[re]=function(ge){return new Promise(function(Ce,F){$.push([re,ge,Ce,F])>1||ue(re,ge)})})}function ue(re,ge){try{me(j[re](ge))}catch(Ce){te($[0][3],Ce)}}function me(re){re.value instanceof m?Promise.resolve(re.value.v).then(de,ee):te($[0][2],re)}function de(re){ue("next",re)}function ee(re){ue("throw",re)}function te(re,ge){re(ge),$.shift(),$.length&&ue($[0][0],$[0][1])}},_=function(k){var U,R;return U={},j("next"),j("throw",function(V){throw V}),j("return"),U[Symbol.iterator]=function(){return this},U;function j(V,$){U[V]=k[V]?function(ne){return(R=!R)?{value:m(k[V](ne)),done:V==="return"}:$?$(ne):ne}:$}},C=function(k){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var U=k[Symbol.asyncIterator],R;return U?U.call(k):(k=typeof l=="function"?l(k):k[Symbol.iterator](),R={},j("next"),j("throw"),j("return"),R[Symbol.asyncIterator]=function(){return this},R);function j($){R[$]=k[$]&&function(ne){return new Promise(function(ue,me){ne=k[$](ne),V(ue,me,ne.done,ne.value)})}}function V($,ne,ue,me){Promise.resolve(me).then(function(de){$({value:de,done:ue})},ne)}},w=function(k,U){return Object.defineProperty?Object.defineProperty(k,"raw",{value:U}):k.raw=U,k},A=function(k){if(k&&k.__esModule)return k;var U={};if(k!=null)for(var R in k)Object.hasOwnProperty.call(k,R)&&(U[R]=k[R]);return U.default=k,U},I=function(k){return k&&k.__esModule?k:{default:k}},O=function(k,U){if(!U.has(k))throw new TypeError("attempted to get private field on non-instance");return U.get(k)},D=function(k,U,R){if(!U.has(k))throw new TypeError("attempted to set private field on non-instance");return U.set(k,R),R},L("__extends",t),L("__assign",r),L("__rest",n),L("__decorate",i),L("__param",o),L("__metadata",s),L("__awaiter",a),L("__generator",c),L("__exportStar",u),L("__createBinding",q),L("__values",l),L("__read",f),L("__spread",d),L("__spreadArrays",h),L("__await",m),L("__asyncGenerator",y),L("__asyncDelegator",_),L("__asyncValues",C),L("__makeTemplateObject",w),L("__importStar",A),L("__importDefault",I),L("__classPrivateFieldGet",O),L("__classPrivateFieldSet",D)})})(T);var uw={},xu={};for(var bi=0;bi<256;bi++){var Ci=bi.toString(16).toLowerCase();Ci.length===1&&(Ci="0"+Ci),uw[bi]=Ci,xu[Ci]=bi}function S1(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");for(var t=new Uint8Array(e.length/2),r=0;r<e.length;r+=2){var n=e.substr(r,2).toLowerCase();if(n in xu)t[r/2]=xu[n];else throw new Error("Cannot decode unrecognized sequence "+n+" as hexadecimal")}return t}function Bt(e){for(var t="",r=0;r<e.byteLength;r++)t+=uw[e[r]];return t}var Au={exports:{}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(e,t){(function(r){var n=t&&!t.nodeType&&t,i=e&&!e.nodeType&&e,o=typeof nt=="object"&&nt;(o.global===o||o.window===o||o.self===o)&&(r=o);var s,a=2147483647,c=36,u=1,l=26,f=38,d=700,h=72,m=128,y="-",_=/^xn--/,C=/[^\x20-\x7E]/,w=/[\x2E\u3002\uFF0E\uFF61]/g,A={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},I=c-u,O=Math.floor,D=String.fromCharCode,q;function L(ee){throw RangeError(A[ee])}function H(ee,te){for(var re=ee.length,ge=[];re--;)ge[re]=te(ee[re]);return ge}function k(ee,te){var re=ee.split("@"),ge="";re.length>1&&(ge=re[0]+"@",ee=re[1]),ee=ee.replace(w,".");var Ce=ee.split("."),F=H(Ce,te).join(".");return ge+F}function U(ee){for(var te=[],re=0,ge=ee.length,Ce,F;re<ge;)Ce=ee.charCodeAt(re++),Ce>=55296&&Ce<=56319&&re<ge?(F=ee.charCodeAt(re++),(F&64512)==56320?te.push(((Ce&1023)<<10)+(F&1023)+65536):(te.push(Ce),re--)):te.push(Ce);return te}function R(ee){return H(ee,function(te){var re="";return te>65535&&(te-=65536,re+=D(te>>>10&1023|55296),te=56320|te&1023),re+=D(te),re}).join("")}function j(ee){return ee-48<10?ee-22:ee-65<26?ee-65:ee-97<26?ee-97:c}function V(ee,te){return ee+22+75*(ee<26)-((te!=0)<<5)}function $(ee,te,re){var ge=0;for(ee=re?O(ee/d):ee>>1,ee+=O(ee/te);ee>I*l>>1;ge+=c)ee=O(ee/I);return O(ge+(I+1)*ee/(ee+f))}function ne(ee){var te=[],re=ee.length,ge,Ce=0,F=m,Q=h,J,oe,we,_e,fe,ce,x,P,B;for(J=ee.lastIndexOf(y),J<0&&(J=0),oe=0;oe<J;++oe)ee.charCodeAt(oe)>=128&&L("not-basic"),te.push(ee.charCodeAt(oe));for(we=J>0?J+1:0;we<re;){for(_e=Ce,fe=1,ce=c;we>=re&&L("invalid-input"),x=j(ee.charCodeAt(we++)),(x>=c||x>O((a-Ce)/fe))&&L("overflow"),Ce+=x*fe,P=ce<=Q?u:ce>=Q+l?l:ce-Q,!(x<P);ce+=c)B=c-P,fe>O(a/B)&&L("overflow"),fe*=B;ge=te.length+1,Q=$(Ce-_e,ge,_e==0),O(Ce/ge)>a-F&&L("overflow"),F+=O(Ce/ge),Ce%=ge,te.splice(Ce++,0,F)}return R(te)}function ue(ee){var te,re,ge,Ce,F,Q,J,oe,we,_e,fe,ce=[],x,P,B,G;for(ee=U(ee),x=ee.length,te=m,re=0,F=h,Q=0;Q<x;++Q)fe=ee[Q],fe<128&&ce.push(D(fe));for(ge=Ce=ce.length,Ce&&ce.push(y);ge<x;){for(J=a,Q=0;Q<x;++Q)fe=ee[Q],fe>=te&&fe<J&&(J=fe);for(P=ge+1,J-te>O((a-re)/P)&&L("overflow"),re+=(J-te)*P,te=J,Q=0;Q<x;++Q)if(fe=ee[Q],fe<te&&++re>a&&L("overflow"),fe==te){for(oe=re,we=c;_e=we<=F?u:we>=F+l?l:we-F,!(oe<_e);we+=c)G=oe-_e,B=c-_e,ce.push(D(V(_e+G%B,0))),oe=O(G/B);ce.push(D(V(oe,0))),F=$(re,P,ge==Ce),re=0,++ge}++re,++te}return ce.join("")}function me(ee){return k(ee,function(te){return _.test(te)?ne(te.slice(4).toLowerCase()):te})}function de(ee){return k(ee,function(te){return C.test(te)?"xn--"+ue(te):te})}if(s={version:"1.3.2",ucs2:{decode:U,encode:R},decode:ne,encode:ue,toASCII:de,toUnicode:me},n&&i)if(e.exports==n)i.exports=s;else for(q in s)s.hasOwnProperty(q)&&(n[q]=s[q]);else r.punycode=s})(nt)})(Au,Au.exports);var _1={isString:function(e){return typeof e=="string"},isObject:function(e){return typeof e=="object"&&e!==null},isNull:function(e){return e===null},isNullOrUndefined:function(e){return e==null}},Zi={};function b1(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var C1=function(e,t,r,n){t=t||"&",r=r||"=";var i={};if(typeof e!="string"||e.length===0)return i;var o=/\+/g;e=e.split(t);var s=1e3;n&&typeof n.maxKeys=="number"&&(s=n.maxKeys);var a=e.length;s>0&&a>s&&(a=s);for(var c=0;c<a;++c){var u=e[c].replace(o,"%20"),l=u.indexOf(r),f,d,h,m;l>=0?(f=u.substr(0,l),d=u.substr(l+1)):(f=u,d=""),h=decodeURIComponent(f),m=decodeURIComponent(d),b1(i,h)?Array.isArray(i[h])?i[h].push(m):i[h]=[i[h],m]:i[h]=m}return i},Ei=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},E1=function(e,t,r,n){return t=t||"&",r=r||"=",e===null&&(e=void 0),typeof e=="object"?Object.keys(e).map(function(i){var o=encodeURIComponent(Ei(i))+r;return Array.isArray(e[i])?e[i].map(function(s){return o+encodeURIComponent(Ei(s))}).join(t):o+encodeURIComponent(Ei(e[i]))}).join(t):n?encodeURIComponent(Ei(n))+r+encodeURIComponent(Ei(e)):""};Zi.decode=Zi.parse=C1;Zi.encode=Zi.stringify=E1;var x1=Au.exports,Ir=_1,Vr=cw;function kr(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var A1=/^([a-z0-9.+-]+:)/i,I1=/:[0-9]*$/,T1=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,P1=["<",">",'"',"`"," ","\r",`
`,"	"],k1=["{","}","|","\\","^","`"].concat(P1),Iu=["'"].concat(k1),Lf=["%","/","?",";","#"].concat(Iu),Mf=["/","?","#"],R1=255,Nf=/^[+a-z0-9A-Z_-]{0,63}$/,O1=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,U1={javascript:!0,"javascript:":!0},Tu={javascript:!0,"javascript:":!0},ri={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Pu=Zi;function cw(e,t,r){if(e&&Ir.isObject(e)&&e instanceof kr)return e;var n=new kr;return n.parse(e,t,r),n}kr.prototype.parse=function(e,t,r){if(!Ir.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),i=n!==-1&&n<e.indexOf("#")?"?":"#",o=e.split(i),s=/\\/g;o[0]=o[0].replace(s,"/"),e=o.join(i);var a=e;if(a=a.trim(),!r&&e.split("#").length===1){var c=T1.exec(a);if(c)return this.path=a,this.href=a,this.pathname=c[1],c[2]?(this.search=c[2],t?this.query=Pu.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var u=A1.exec(a);if(u){u=u[0];var l=u.toLowerCase();this.protocol=l,a=a.substr(u.length)}if(r||u||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var f=a.substr(0,2)==="//";f&&!(u&&Tu[u])&&(a=a.substr(2),this.slashes=!0)}if(!Tu[u]&&(f||u&&!ri[u])){for(var d=-1,h=0;h<Mf.length;h++){var m=a.indexOf(Mf[h]);m!==-1&&(d===-1||m<d)&&(d=m)}var y,_;d===-1?_=a.lastIndexOf("@"):_=a.lastIndexOf("@",d),_!==-1&&(y=a.slice(0,_),a=a.slice(_+1),this.auth=decodeURIComponent(y)),d=-1;for(var h=0;h<Lf.length;h++){var m=a.indexOf(Lf[h]);m!==-1&&(d===-1||m<d)&&(d=m)}d===-1&&(d=a.length),this.host=a.slice(0,d),a=a.slice(d),this.parseHost(),this.hostname=this.hostname||"";var C=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!C)for(var w=this.hostname.split(/\./),h=0,A=w.length;h<A;h++){var I=w[h];if(!!I&&!I.match(Nf)){for(var O="",D=0,q=I.length;D<q;D++)I.charCodeAt(D)>127?O+="x":O+=I[D];if(!O.match(Nf)){var L=w.slice(0,h),H=w.slice(h+1),k=I.match(O1);k&&(L.push(k[1]),H.unshift(k[2])),H.length&&(a="/"+H.join(".")+a),this.hostname=L.join(".");break}}}this.hostname.length>R1?this.hostname="":this.hostname=this.hostname.toLowerCase(),C||(this.hostname=x1.toASCII(this.hostname));var U=this.port?":"+this.port:"",R=this.hostname||"";this.host=R+U,this.href+=this.host,C&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!U1[l])for(var h=0,A=Iu.length;h<A;h++){var j=Iu[h];if(a.indexOf(j)!==-1){var V=encodeURIComponent(j);V===j&&(V=escape(j)),a=a.split(j).join(V)}}var $=a.indexOf("#");$!==-1&&(this.hash=a.substr($),a=a.slice(0,$));var ne=a.indexOf("?");if(ne!==-1?(this.search=a.substr(ne),this.query=a.substr(ne+1),t&&(this.query=Pu.parse(this.query)),a=a.slice(0,ne)):t&&(this.search="",this.query={}),a&&(this.pathname=a),ri[l]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var U=this.pathname||"",ue=this.search||"";this.path=U+ue}return this.href=this.format(),this};kr.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&Ir.isObject(this.query)&&Object.keys(this.query).length&&(o=Pu.stringify(this.query));var s=this.search||o&&"?"+o||"";return t&&t.substr(-1)!==":"&&(t+=":"),this.slashes||(!t||ri[t])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),s&&s.charAt(0)!=="?"&&(s="?"+s),r=r.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),s=s.replace("#","%23"),t+i+r+s+n};kr.prototype.resolve=function(e){return this.resolveObject(cw(e,!1,!0)).format()};kr.prototype.resolveObject=function(e){if(Ir.isString(e)){var t=new kr;t.parse(e,!1,!0),e=t}for(var r=new kr,n=Object.keys(this),i=0;i<n.length;i++){var o=n[i];r[o]=this[o]}if(r.hash=e.hash,e.href==="")return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),a=0;a<s.length;a++){var c=s[a];c!=="protocol"&&(r[c]=e[c])}return ri[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!ri[e.protocol]){for(var u=Object.keys(e),l=0;l<u.length;l++){var f=u[l];r[f]=e[f]}return r.href=r.format(),r}if(r.protocol=e.protocol,!e.host&&!Tu[e.protocol]){for(var A=(e.pathname||"").split("/");A.length&&!(e.host=A.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),A[0]!==""&&A.unshift(""),A.length<2&&A.unshift(""),r.pathname=A.join("/")}else r.pathname=e.pathname;if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var d=r.pathname||"",h=r.search||"";r.path=d+h}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var m=r.pathname&&r.pathname.charAt(0)==="/",y=e.host||e.pathname&&e.pathname.charAt(0)==="/",_=y||m||r.host&&e.pathname,C=_,w=r.pathname&&r.pathname.split("/")||[],A=e.pathname&&e.pathname.split("/")||[],I=r.protocol&&!ri[r.protocol];if(I&&(r.hostname="",r.port=null,r.host&&(w[0]===""?w[0]=r.host:w.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(A[0]===""?A[0]=e.host:A.unshift(e.host)),e.host=null),_=_&&(A[0]===""||w[0]==="")),y)r.host=e.host||e.host===""?e.host:r.host,r.hostname=e.hostname||e.hostname===""?e.hostname:r.hostname,r.search=e.search,r.query=e.query,w=A;else if(A.length)w||(w=[]),w.pop(),w=w.concat(A),r.search=e.search,r.query=e.query;else if(!Ir.isNullOrUndefined(e.search)){if(I){r.hostname=r.host=w.shift();var O=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;O&&(r.auth=O.shift(),r.host=r.hostname=O.shift())}return r.search=e.search,r.query=e.query,(!Ir.isNull(r.pathname)||!Ir.isNull(r.search))&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!w.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var D=w.slice(-1)[0],q=(r.host||e.host||w.length>1)&&(D==="."||D==="..")||D==="",L=0,H=w.length;H>=0;H--)D=w[H],D==="."?w.splice(H,1):D===".."?(w.splice(H,1),L++):L&&(w.splice(H,1),L--);if(!_&&!C)for(;L--;L)w.unshift("..");_&&w[0]!==""&&(!w[0]||w[0].charAt(0)!=="/")&&w.unshift(""),q&&w.join("/").substr(-1)!=="/"&&w.push("");var k=w[0]===""||w[0]&&w[0].charAt(0)==="/";if(I){r.hostname=r.host=k?"":w.length?w.shift():"";var O=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;O&&(r.auth=O.shift(),r.host=r.hostname=O.shift())}return _=_||r.host&&w.length,_&&!k&&w.unshift(""),w.length?r.pathname=w.join("/"):(r.pathname=null,r.path=null),(!Ir.isNull(r.pathname)||!Ir.isNull(r.search))&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r};kr.prototype.parseHost=function(){var e=this.host,t=I1.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};var L1=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),M1=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(f){s(f)}}function c(l){try{u(n.throw(l))}catch(f){s(f)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})},N1=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},D1=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o},B1=globalThis&&globalThis.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(D1(arguments[t]));return e},Co=new qe("Util"),bn=function(e){L1(t,e);function t(r){var n=e.call(this,r)||this;return n.nonRetryable=!0,n}return t}(Error),F1=function(e){var t="nonRetryable";return e&&e[t]};function lw(e,t,r,n){return n===void 0&&(n=1),M1(this,void 0,void 0,function(){var i,o;return N1(this,function(s){switch(s.label){case 0:if(typeof e!="function")throw Error("functionToRetry must be a function");Co.debug(e.name+" attempt #"+n+" with this vars: "+JSON.stringify(t)),s.label=1;case 1:return s.trys.push([1,3,,8]),[4,e.apply(void 0,B1(t))];case 2:return[2,s.sent()];case 3:if(i=s.sent(),Co.debug("error on "+e.name,i),F1(i))throw Co.debug(e.name+" non retryable error",i),i;return o=r(n,t,i),Co.debug(e.name+" retrying in "+o+" ms"),o===!1?[3,6]:[4,new Promise(function(a){return setTimeout(a,o)})];case 4:return s.sent(),[4,lw(e,t,r,n+1)];case 5:return[2,s.sent()];case 6:throw i;case 7:return[3,8];case 8:return[2]}})})}var fw=5*60*1e3;function z1(e){e===void 0&&(e=fw);var t=100,r=100;return function(n){var i=Math.pow(2,n)*t+r*Math.random();return i>e?!1:i}}var K1=function(e,t,r){return r===void 0&&(r=fw),lw(e,t,z1(r))};function q1(e){return e.split("").map(function(t){return t.charCodeAt(0).toString(16).padStart(2,"0")}).join("")}function j1(e){return e.match(/.{2}/g).map(function(t){return String.fromCharCode(parseInt(t,16))}).join("")}var Qo=globalThis&&globalThis.__assign||function(){return Qo=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Qo.apply(this,arguments)},$1=new qe("Parser"),H1=function(e){var t={};if(e.aws_mobile_analytics_app_id){var r={AWSPinpoint:{appId:e.aws_mobile_analytics_app_id,region:e.aws_mobile_analytics_app_region}};t.Analytics=r}(e.aws_cognito_identity_pool_id||e.aws_user_pools_id)&&(t.Auth={userPoolId:e.aws_user_pools_id,userPoolWebClientId:e.aws_user_pools_web_client_id,region:e.aws_cognito_region,identityPoolId:e.aws_cognito_identity_pool_id,identityPoolRegion:e.aws_cognito_region,mandatorySignIn:e.aws_mandatory_sign_in==="enable",signUpVerificationMethod:e.aws_cognito_sign_up_verification_method||"code"});var n;return e.aws_user_files_s3_bucket?n={AWSS3:{bucket:e.aws_user_files_s3_bucket,region:e.aws_user_files_s3_bucket_region,dangerouslyConnectToHttpEndpointForTesting:e.aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing}}:n=e?e.Storage||e:{},e.Logging&&(t.Logging=Qo(Qo({},e.Logging),{region:e.aws_project_region})),e.geo&&(t.Geo=Object.assign({},e.geo),e.geo.amazon_location_service&&(t.Geo={AmazonLocationService:e.geo.amazon_location_service})),t.Analytics=Object.assign({},t.Analytics,e.Analytics),t.Auth=Object.assign({},t.Auth,e.Auth),t.Storage=Object.assign({},n),t.Logging=Object.assign({},t.Logging,e.Logging),$1.debug("parse config",e,"to amplifyconfig",t),t},_l=function(){function e(){}return e.parseMobilehubConfig=H1,e}(),bl={},ks={},lo={},Rs={};Object.defineProperty(Rs,"__esModule",{value:!0});Rs.isEmptyData=void 0;function V1(e){return typeof e=="string"?e.length===0:e.byteLength===0}Rs.isEmptyData=V1;var Cl={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.EMPTY_DATA_SHA_256=e.SHA_256_HMAC_ALGO=e.SHA_256_HASH=void 0,e.SHA_256_HASH={name:"SHA-256"},e.SHA_256_HMAC_ALGO={name:"HMAC",hash:e.SHA_256_HASH},e.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])})(Cl);var G1=function(e){for(var t=[],r=0,n=e.length;r<n;r++){var i=e.charCodeAt(r);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,i&63|128);else if(r+1<e.length&&(i&64512)===55296&&(e.charCodeAt(r+1)&64512)===56320){var o=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023);t.push(o>>18|240,o>>12&63|128,o>>6&63|128,o&63|128)}else t.push(i>>12|224,i>>6&63|128,i&63|128)}return Uint8Array.from(t)},W1=function(e){for(var t="",r=0,n=e.length;r<n;r++){var i=e[r];if(i<128)t+=String.fromCharCode(i);else if(192<=i&&i<224){var o=e[++r];t+=String.fromCharCode((i&31)<<6|o&63)}else if(240<=i&&i<365){var s=[i,e[++r],e[++r],e[++r]],a="%"+s.map(function(c){return c.toString(16)}).join("%");t+=decodeURIComponent(a)}else t+=String.fromCharCode((i&15)<<12|(e[++r]&63)<<6|e[++r]&63)}return t};function Y1(e){return new TextEncoder().encode(e)}function X1(e){return new TextDecoder("utf-8").decode(e)}var Os=function(e){return typeof TextEncoder=="function"?Y1(e):G1(e)},El=function(e){return typeof TextDecoder=="function"?X1(e):W1(e)};const J1=Object.freeze(Object.defineProperty({__proto__:null,fromUtf8:Os,toUtf8:El},Symbol.toStringTag,{value:"Module"})),dw=Ps(J1);var Z1={};function Q1(){return typeof window<"u"?window:typeof self<"u"?self:Z1}const eE=Object.freeze(Object.defineProperty({__proto__:null,locateWindow:Q1},Symbol.toStringTag,{value:"Module"})),xl=Ps(eE);Object.defineProperty(lo,"__esModule",{value:!0});lo.Sha256=void 0;var tE=Rs,hw=Cl,rE=dw,ku=xl,nE=function(){function e(t){t?(this.operation=iE(t).then(function(r){return(0,ku.locateWindow)().msCrypto.subtle.sign(hw.SHA_256_HMAC_ALGO,r)}),this.operation.catch(function(){})):this.operation=Promise.resolve((0,ku.locateWindow)().msCrypto.subtle.digest("SHA-256"))}return e.prototype.update=function(t){var r=this;(0,tE.isEmptyData)(t)||(this.operation=this.operation.then(function(n){return n.onerror=function(){r.operation=Promise.reject(new Error("Error encountered updating hash"))},n.process(gw(t)),n}),this.operation.catch(function(){}))},e.prototype.digest=function(){return this.operation.then(function(t){return new Promise(function(r,n){t.onerror=function(){n(new Error("Error encountered finalizing hash"))},t.oncomplete=function(){t.result&&r(new Uint8Array(t.result)),n(new Error("Error encountered finalizing hash"))},t.finish()})})},e}();lo.Sha256=nE;function iE(e){return new Promise(function(t,r){var n=(0,ku.locateWindow)().msCrypto.subtle.importKey("raw",gw(e),hw.SHA_256_HMAC_ALGO,!1,["sign"]);n.oncomplete=function(){n.result&&t(n.result),r(new Error("ImportKey completed without importing key."))},n.onerror=function(){r(new Error("ImportKey failed to import key."))}})}function gw(e){return typeof e=="string"?(0,rE.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}var fo={},ho={},Us={};Object.defineProperty(Us,"__esModule",{value:!0});Us.convertToBuffer=void 0;var oE=dw,sE=typeof Buffer<"u"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:oE.fromUtf8;function aE(e){return e instanceof Uint8Array?e:typeof e=="string"?sE(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}Us.convertToBuffer=aE;var Ls={};Object.defineProperty(Ls,"__esModule",{value:!0});Ls.isEmptyData=void 0;function uE(e){return typeof e=="string"?e.length===0:e.byteLength===0}Ls.isEmptyData=uE;var Ms={};Object.defineProperty(Ms,"__esModule",{value:!0});Ms.numToUint8=void 0;function cE(e){return new Uint8Array([(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255])}Ms.numToUint8=cE;var Ns={};Object.defineProperty(Ns,"__esModule",{value:!0});Ns.uint32ArrayFrom=void 0;function lE(e){if(!Array.from){for(var t=new Uint32Array(e.length),r=0;r<e.length;)t[r]=e[r];return t}return Uint32Array.from(e)}Ns.uint32ArrayFrom=lE;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.uint32ArrayFrom=e.numToUint8=e.isEmptyData=e.convertToBuffer=void 0;var t=Us;Object.defineProperty(e,"convertToBuffer",{enumerable:!0,get:function(){return t.convertToBuffer}});var r=Ls;Object.defineProperty(e,"isEmptyData",{enumerable:!0,get:function(){return r.isEmptyData}});var n=Ms;Object.defineProperty(e,"numToUint8",{enumerable:!0,get:function(){return n.numToUint8}});var i=Ns;Object.defineProperty(e,"uint32ArrayFrom",{enumerable:!0,get:function(){return i.uint32ArrayFrom}})})(ho);Object.defineProperty(fo,"__esModule",{value:!0});fo.Sha256=void 0;var Eo=ho,xo=Cl,sa=xl,fE=function(){function e(t){this.toHash=new Uint8Array(0),t!==void 0&&(this.key=new Promise(function(r,n){(0,sa.locateWindow)().crypto.subtle.importKey("raw",(0,Eo.convertToBuffer)(t),xo.SHA_256_HMAC_ALGO,!1,["sign"]).then(r,n)}),this.key.catch(function(){}))}return e.prototype.update=function(t){if(!(0,Eo.isEmptyData)(t)){var r=(0,Eo.convertToBuffer)(t),n=new Uint8Array(this.toHash.byteLength+r.byteLength);n.set(this.toHash,0),n.set(r,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var t=this;return this.key?this.key.then(function(r){return(0,sa.locateWindow)().crypto.subtle.sign(xo.SHA_256_HMAC_ALGO,r,t.toHash).then(function(n){return new Uint8Array(n)})}):(0,Eo.isEmptyData)(this.toHash)?Promise.resolve(xo.EMPTY_DATA_SHA_256):Promise.resolve().then(function(){return(0,sa.locateWindow)().crypto.subtle.digest(xo.SHA_256_HASH,t.toHash)}).then(function(r){return Promise.resolve(new Uint8Array(r))})},e}();fo.Sha256=fE;var pw={},Ds={},Ot={};Object.defineProperty(Ot,"__esModule",{value:!0});Ot.MAX_HASHABLE_LENGTH=Ot.INIT=Ot.KEY=Ot.DIGEST_LENGTH=Ot.BLOCK_SIZE=void 0;Ot.BLOCK_SIZE=64;Ot.DIGEST_LENGTH=32;Ot.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);Ot.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];Ot.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1;var Bs={};Object.defineProperty(Bs,"__esModule",{value:!0});Bs.RawSha256=void 0;var Nt=Ot,dE=function(){function e(){this.state=Int32Array.from(Nt.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(t){if(this.finished)throw new Error("Attempted to update an already finished hash.");var r=0,n=t.byteLength;if(this.bytesHashed+=n,this.bytesHashed*8>Nt.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=t[r++],n--,this.bufferLength===Nt.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var t=this.bytesHashed*8,r=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(r.setUint8(this.bufferLength++,128),n%Nt.BLOCK_SIZE>=Nt.BLOCK_SIZE-8){for(var i=this.bufferLength;i<Nt.BLOCK_SIZE;i++)r.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(var i=this.bufferLength;i<Nt.BLOCK_SIZE-8;i++)r.setUint8(i,0);r.setUint32(Nt.BLOCK_SIZE-8,Math.floor(t/4294967296),!0),r.setUint32(Nt.BLOCK_SIZE-4,t),this.hashBuffer(),this.finished=!0}for(var o=new Uint8Array(Nt.DIGEST_LENGTH),i=0;i<8;i++)o[i*4]=this.state[i]>>>24&255,o[i*4+1]=this.state[i]>>>16&255,o[i*4+2]=this.state[i]>>>8&255,o[i*4+3]=this.state[i]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var t=this,r=t.buffer,n=t.state,i=n[0],o=n[1],s=n[2],a=n[3],c=n[4],u=n[5],l=n[6],f=n[7],d=0;d<Nt.BLOCK_SIZE;d++){if(d<16)this.temp[d]=(r[d*4]&255)<<24|(r[d*4+1]&255)<<16|(r[d*4+2]&255)<<8|r[d*4+3]&255;else{var h=this.temp[d-2],m=(h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10;h=this.temp[d-15];var y=(h>>>7|h<<25)^(h>>>18|h<<14)^h>>>3;this.temp[d]=(m+this.temp[d-7]|0)+(y+this.temp[d-16]|0)}var _=(((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))+(c&u^~c&l)|0)+(f+(Nt.KEY[d]+this.temp[d]|0)|0)|0,C=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&o^i&s^o&s)|0;f=l,l=u,u=c,c=a+_|0,a=s,s=o,o=i,i=_+C|0}n[0]+=i,n[1]+=o,n[2]+=s,n[3]+=a,n[4]+=c,n[5]+=u,n[6]+=l,n[7]+=f},e}();Bs.RawSha256=dE;Object.defineProperty(Ds,"__esModule",{value:!0});Ds.Sha256=void 0;var Df=T.exports,es=Ot,Ru=Bs,Ou=ho,hE=function(){function e(t){if(this.hash=new Ru.RawSha256,t){this.outer=new Ru.RawSha256;var r=gE(t),n=new Uint8Array(es.BLOCK_SIZE);n.set(r);for(var i=0;i<es.BLOCK_SIZE;i++)r[i]^=54,n[i]^=92;this.hash.update(r),this.outer.update(n);for(var i=0;i<r.byteLength;i++)r[i]=0}}return e.prototype.update=function(t){if(!((0,Ou.isEmptyData)(t)||this.error))try{this.hash.update((0,Ou.convertToBuffer)(t))}catch(r){this.error=r}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,Df.__awaiter)(this,void 0,void 0,function(){return(0,Df.__generator)(this,function(t){return[2,this.digestSync()]})})},e}();Ds.Sha256=hE;function gE(e){var t=(0,Ou.convertToBuffer)(e);if(t.byteLength>es.BLOCK_SIZE){var r=new Ru.RawSha256;r.update(t),t=r.digest()}var n=new Uint8Array(es.BLOCK_SIZE);return n.set(t),n}(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=T.exports;(0,t.__exportStar)(Ds,e)})(pw);var vw={},$t={},Bf;function pE(){if(Bf)return $t;Bf=1,Object.defineProperty($t,"__esModule",{value:!0}),$t.supportsZeroByteGCM=$t.supportsSubtleCrypto=$t.supportsSecureRandom=$t.supportsWebCrypto=void 0;var e=T.exports,t=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function r(s){if(n(s)&&typeof s.crypto.subtle=="object"){var a=s.crypto.subtle;return i(a)}return!1}$t.supportsWebCrypto=r;function n(s){if(typeof s=="object"&&typeof s.crypto=="object"){var a=s.crypto.getRandomValues;return typeof a=="function"}return!1}$t.supportsSecureRandom=n;function i(s){return s&&t.every(function(a){return typeof s[a]=="function"})}$t.supportsSubtleCrypto=i;function o(s){return e.__awaiter(this,void 0,void 0,function(){var a,c;return e.__generator(this,function(u){switch(u.label){case 0:if(!i(s))return[2,!1];u.label=1;case 1:return u.trys.push([1,4,,5]),[4,s.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return a=u.sent(),[4,s.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},a,new Uint8Array(0))];case 3:return c=u.sent(),[2,c.byteLength===16];case 4:return u.sent(),[2,!1];case 5:return[2]}})})}return $t.supportsZeroByteGCM=o,$t}(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=T.exports;t.__exportStar(pE(),e)})(vw);var mw={},aa={},Ff;function vE(){return Ff||(Ff=1,Object.defineProperty(aa,"__esModule",{value:!0})),aa}var ua={},zf;function mE(){return zf||(zf=1,Object.defineProperty(ua,"__esModule",{value:!0})),ua}var ca={},Kf;function yE(){return Kf||(Kf=1,Object.defineProperty(ca,"__esModule",{value:!0})),ca}var la={},qf;function wE(){return qf||(qf=1,Object.defineProperty(la,"__esModule",{value:!0})),la}var xi={},jf;function SE(){if(jf)return xi;jf=1,Object.defineProperty(xi,"__esModule",{value:!0}),xi.isMsWindow=void 0;var e=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function t(n){return"MSInputMethodContext"in n&&"msCrypto"in n}function r(n){if(t(n)&&n.msCrypto.subtle!==void 0){var i=n.msCrypto,o=i.getRandomValues,s=i.subtle;return e.map(function(a){return s[a]}).concat(o).every(function(a){return typeof a=="function"})}return!1}return xi.isMsWindow=r,xi}(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=T.exports;t.__exportStar(vE(),e),t.__exportStar(mE(),e),t.__exportStar(yE(),e),t.__exportStar(wE(),e),t.__exportStar(SE(),e)})(mw);Object.defineProperty(ks,"__esModule",{value:!0});ks.Sha256=void 0;var _E=lo,bE=fo,CE=pw,EE=vw,xE=mw,$f=xl,AE=function(){function e(t){(0,EE.supportsWebCrypto)((0,$f.locateWindow)())?this.hash=new bE.Sha256(t):(0,xE.isMsWindow)((0,$f.locateWindow)())?this.hash=new _E.Sha256(t):this.hash=new CE.Sha256(t)}return e.prototype.update=function(t,r){this.hash.update(t,r)},e.prototype.digest=function(){return this.hash.digest()},e}();ks.Sha256=AE;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WebCryptoSha256=e.Ie11Sha256=void 0;var t=T.exports;(0,t.__exportStar)(ks,e);var r=lo;Object.defineProperty(e,"Ie11Sha256",{enumerable:!0,get:function(){return r.Sha256}});var n=fo;Object.defineProperty(e,"WebCryptoSha256",{enumerable:!0,get:function(){return n.Sha256}})})(bl);var Qi=function(){function e(t){this.statusCode=t.statusCode,this.headers=t.headers||{},this.body=t.body}return e.isInstance=function(t){if(!t)return!1;var r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"},e}(),Xe=function(){function e(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.substr(-1)!==":"?t.protocol+":":t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?"/"+t.path:t.path:"/"}return e.isInstance=function(t){if(!t)return!1;var r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"},e.prototype.clone=function(){var t=new e(T.exports.__assign(T.exports.__assign({},this),{headers:T.exports.__assign({},this.headers)}));return t.query&&(t.query=IE(t.query)),t},e}();function IE(e){return Object.keys(e).reduce(function(t,r){var n,i=e[r];return T.exports.__assign(T.exports.__assign({},t),(n={},n[r]=Array.isArray(i)?T.exports.__spread(i):i,n))},{})}var Cn=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,TE)},TE=function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()};function Al(e){var t,r,n=[];try{for(var i=T.exports.__values(Object.keys(e).sort()),o=i.next();!o.done;o=i.next()){var s=o.value,a=e[s];if(s=Cn(s),Array.isArray(a))for(var c=0,u=a.length;c<u;c++)n.push(s+"="+Cn(a[c]));else{var l=s;(a||typeof a=="string")&&(l+="="+Cn(a)),n.push(l)}}}catch(f){t={error:f}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return n.join("&")}function PE(e){return e===void 0&&(e=0),new Promise(function(t,r){e&&setTimeout(function(){var n=new Error("Request did not complete within "+e+" ms");n.name="TimeoutError",r(n)},e)})}var yw=function(){function e(t){var r=t===void 0?{}:t,n=r.requestTimeout;this.requestTimeout=n}return e.prototype.destroy=function(){},e.prototype.handle=function(t,r){var n=r===void 0?{}:r,i=n.abortSignal,o=this.requestTimeout;if(i!=null&&i.aborted){var s=new Error("Request aborted");return s.name="AbortError",Promise.reject(s)}var a=t.path;if(t.query){var c=Al(t.query);c&&(a+="?"+c)}var u=t.port,l=t.method,f=t.protocol+"//"+t.hostname+(u?":"+u:"")+a,d=l==="GET"||l==="HEAD"?void 0:t.body,h={body:d,headers:new Headers(t.headers),method:l};typeof AbortController<"u"&&(h.signal=i);var m=new Request(f,h),y=[fetch(m).then(function(_){var C,w,A=_.headers,I={};try{for(var O=T.exports.__values(A.entries()),D=O.next();!D.done;D=O.next()){var q=D.value;I[q[0]]=q[1]}}catch(H){C={error:H}}finally{try{D&&!D.done&&(w=O.return)&&w.call(O)}finally{if(C)throw C.error}}var L=_.body!==void 0;return L?{response:new Qi({headers:I,statusCode:_.status,body:_.body})}:_.blob().then(function(H){return{response:new Qi({headers:I,statusCode:_.status,body:H})}})}),PE(o)];return i&&y.push(new Promise(function(_,C){i.onabort=function(){var w=new Error("Request aborted");w.name="AbortError",C(w)}})),Promise.race(y)},e}(),kn={},vi=new Array(64);for(var rt=0,eo="A".charCodeAt(0),Il="Z".charCodeAt(0);rt+eo<=Il;rt++){var rn=String.fromCharCode(rt+eo);kn[rn]=rt,vi[rt]=rn}for(var rt=0,eo="a".charCodeAt(0),Il="z".charCodeAt(0);rt+eo<=Il;rt++){var rn=String.fromCharCode(rt+eo),to=rt+26;kn[rn]=to,vi[to]=rn}for(var rt=0;rt<10;rt++){kn[rt.toString(10)]=rt+52;var rn=rt.toString(10),to=rt+52;kn[rn]=to,vi[to]=rn}kn["+"]=62;vi[62]="+";kn["/"]=63;vi[63]="/";var ni=6,Bi=8,kE=63;function Tl(e){var t=e.length/4*3;e.substr(-2)==="=="?t-=2:e.substr(-1)==="="&&t--;for(var r=new ArrayBuffer(t),n=new DataView(r),i=0;i<e.length;i+=4){for(var o=0,s=0,a=i,c=i+3;a<=c;a++)e[a]!=="="?(o|=kn[e[a]]<<(c-a)*ni,s+=ni):o>>=ni;var u=i/4*3;o>>=s%Bi;for(var l=Math.floor(s/Bi),f=0;f<l;f++){var d=(l-f-1)*Bi;n.setUint8(u+f,(o&255<<d)>>d)}}return new Uint8Array(r)}function ww(e){for(var t="",r=0;r<e.length;r+=3){for(var n=0,i=0,o=r,s=Math.min(r+3,e.length);o<s;o++)n|=e[o]<<(s-o-1)*Bi,i+=Bi;var a=Math.ceil(i/ni);n<<=a*ni-i;for(var c=1;c<=a;c++){var u=(a-c)*ni;t+=vi[(n&kE<<u)>>u]}t+="==".slice(0,4-a)}return t}var Sw=function(e){return typeof Blob=="function"&&e instanceof Blob?RE(e):OE(e)};function RE(e){return T.exports.__awaiter(this,void 0,void 0,function(){var t,r;return T.exports.__generator(this,function(n){switch(n.label){case 0:return[4,UE(e)];case 1:return t=n.sent(),r=Tl(t),[2,new Uint8Array(r)]}})})}function OE(e){return T.exports.__awaiter(this,void 0,void 0,function(){var t,r,n,i,o,s,a;return T.exports.__generator(this,function(c){switch(c.label){case 0:t=new Uint8Array(0),r=e.getReader(),n=!1,c.label=1;case 1:return n?[3,3]:[4,r.read()];case 2:return i=c.sent(),o=i.done,s=i.value,s&&(a=t,t=new Uint8Array(a.length+s.length),t.set(a),t.set(s,a.length)),n=o,[3,1];case 3:return[2,t]}})})}function UE(e){return new Promise(function(t,r){var n=new FileReader;n.onloadend=function(){var i;if(n.readyState!==2)return r(new Error("Reader aborted too early"));var o=(i=n.result)!==null&&i!==void 0?i:"",s=o.indexOf(","),a=s>-1?s+1:o.length;t(o.substring(a))},n.onabort=function(){return r(new Error("Read aborted"))},n.onerror=function(){return r(n.error)},n.readAsDataURL(e)})}var _w=function(e){return function(){return Promise.reject(e)}},LE=function(e){return function(t,r){return function(n){return T.exports.__awaiter(void 0,void 0,void 0,function(){var i;return T.exports.__generator(this,function(o){return!((i=e==null?void 0:e.retryStrategy)===null||i===void 0)&&i.mode&&(r.userAgent=T.exports.__spread(r.userAgent||[],[["cfg/retry-mode",e.retryStrategy.mode]])),[2,e.retryStrategy.retry(t,n)]})})}}},ME={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},bw=function(e){return{applyToStack:function(t){t.add(LE(e),ME)}}},NE=100,DE=20*1e3,BE=500,FE=500,zE=5,KE=10,qE=1,jE="amz-sdk-invocation-id",$E="amz-sdk-request",HE=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],VE=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],GE=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],WE=[500,502,503,504],YE=function(e){return e.$retryable!==void 0},XE=function(e){return HE.includes(e.name)},Cw=function(e){var t,r;return((t=e.$metadata)===null||t===void 0?void 0:t.httpStatusCode)===429||VE.includes(e.name)||((r=e.$retryable)===null||r===void 0?void 0:r.throttling)==!0},JE=function(e){var t;return GE.includes(e.name)||WE.includes(((t=e.$metadata)===null||t===void 0?void 0:t.httpStatusCode)||0)},ts={exports:{}},Hf=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);if(Hf){var Vf=new Uint8Array(16);ts.exports=function(){return Hf(Vf),Vf}}else{var Gf=new Array(16);ts.exports=function(){for(var t=0,r;t<16;t++)(t&3)===0&&(r=Math.random()*4294967296),Gf[t]=r>>>((t&3)<<3)&255;return Gf}}var Ew=[];for(var Ao=0;Ao<256;++Ao)Ew[Ao]=(Ao+256).toString(16).substr(1);function ZE(e,t){var r=t||0,n=Ew;return[n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]]].join("")}var xw=ZE,QE=ts.exports,ex=xw,Wf,fa,da=0,ha=0;function tx(e,t,r){var n=t&&r||0,i=t||[];e=e||{};var o=e.node||Wf,s=e.clockseq!==void 0?e.clockseq:fa;if(o==null||s==null){var a=QE();o==null&&(o=Wf=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),s==null&&(s=fa=(a[6]<<8|a[7])&16383)}var c=e.msecs!==void 0?e.msecs:new Date().getTime(),u=e.nsecs!==void 0?e.nsecs:ha+1,l=c-da+(u-ha)/1e4;if(l<0&&e.clockseq===void 0&&(s=s+1&16383),(l<0||c>da)&&e.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");da=c,ha=u,fa=s,c+=122192928e5;var f=((c&268435455)*1e4+u)%4294967296;i[n++]=f>>>24&255,i[n++]=f>>>16&255,i[n++]=f>>>8&255,i[n++]=f&255;var d=c/4294967296*1e4&268435455;i[n++]=d>>>8&255,i[n++]=d&255,i[n++]=d>>>24&15|16,i[n++]=d>>>16&255,i[n++]=s>>>8|128,i[n++]=s&255;for(var h=0;h<6;++h)i[n+h]=o[h];return t||ex(i)}var rx=tx,nx=ts.exports,ix=xw;function ox(e,t,r){var n=t&&r||0;typeof e=="string"&&(t=e==="binary"?new Array(16):null,e=null),e=e||{};var i=e.random||(e.rng||nx)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,t)for(var o=0;o<16;++o)t[n+o]=i[o];return t||ix(i)}var sx=ox,ax=rx,Aw=sx,Pl=Aw;Pl.v1=ax;Pl.v4=Aw;var ux=Pl,cx=function(e){var t=e,r=e,n=function(a){return a.name==="TimeoutError"?KE:zE},i=function(a){return n(a)<=r},o=function(a){if(!i(a))throw new Error("No retry token available");var c=n(a);return r-=c,c},s=function(a){r+=a!=null?a:qE,r=Math.min(r,t)};return Object.freeze({hasRetryTokens:i,retrieveRetryTokens:o,releaseRetryTokens:s})},lx=function(e,t){return Math.floor(Math.min(DE,Math.random()*Math.pow(2,t)*e))},fx=function(e){return e?YE(e)||XE(e)||Cw(e)||JE(e):!1},Fs=3,dx="standard",hx=function(){function e(t,r){var n,i,o;this.maxAttemptsProvider=t,this.mode=dx,this.retryDecider=(n=r==null?void 0:r.retryDecider)!==null&&n!==void 0?n:fx,this.delayDecider=(i=r==null?void 0:r.delayDecider)!==null&&i!==void 0?i:lx,this.retryQuota=(o=r==null?void 0:r.retryQuota)!==null&&o!==void 0?o:cx(FE)}return e.prototype.shouldRetry=function(t,r,n){return r<n&&this.retryDecider(t)&&this.retryQuota.hasRetryTokens(t)},e.prototype.getMaxAttempts=function(){return T.exports.__awaiter(this,void 0,void 0,function(){var t;return T.exports.__generator(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.maxAttemptsProvider()];case 1:return t=r.sent(),[3,3];case 2:return r.sent(),t=Fs,[3,3];case 3:return[2,t]}})})},e.prototype.retry=function(t,r){return T.exports.__awaiter(this,void 0,void 0,function(){var n,i,o,s,a,c,u,l;return T.exports.__generator(this,function(f){switch(f.label){case 0:return i=0,o=0,[4,this.getMaxAttempts()];case 1:s=f.sent(),a=r.request,Xe.isInstance(a)&&(a.headers[jE]=ux.v4()),c=function(){var d,h,m,y,_;return T.exports.__generator(this,function(C){switch(C.label){case 0:return C.trys.push([0,2,,5]),Xe.isInstance(a)&&(a.headers[$E]="attempt="+(i+1)+"; max="+s),[4,t(r)];case 1:return d=C.sent(),h=d.response,m=d.output,u.retryQuota.releaseRetryTokens(n),m.$metadata.attempts=i+1,m.$metadata.totalRetryDelay=o,[2,{value:{response:h,output:m}}];case 2:return y=C.sent(),i++,u.shouldRetry(y,i,s)?(n=u.retryQuota.retrieveRetryTokens(y),_=u.delayDecider(Cw(y)?BE:NE,i),o+=_,[4,new Promise(function(w){return setTimeout(w,_)})]):[3,4];case 3:return C.sent(),[2,"continue"];case 4:throw y.$metadata||(y.$metadata={}),y.$metadata.attempts=i,y.$metadata.totalRetryDelay=o,y;case 5:return[2]}})},u=this,f.label=2;case 2:return[5,c()];case 3:return l=f.sent(),typeof l=="object"?[2,l.value]:[3,2];case 4:return[2]}})})},e}(),Iw=function(e){var t=gx(e.maxAttempts);return T.exports.__assign(T.exports.__assign({},e),{maxAttempts:t,retryStrategy:e.retryStrategy||new hx(t)})},gx=function(e){if(e===void 0&&(e=Fs),typeof e=="number"){var t=Promise.resolve(e);return function(){return t}}return e};function Tw(e){if(typeof e=="string"){for(var t=e.length,r=t-1;r>=0;r--){var n=e.charCodeAt(r);n>127&&n<=2047?t++:n>2047&&n<=65535&&(t+=2)}return t}else{if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size}}const px={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},Pw={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},He={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},ht={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},Kr={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class W{static getFirstMatch(t,r){const n=r.match(t);return n&&n.length>0&&n[1]||""}static getSecondMatch(t,r){const n=r.match(t);return n&&n.length>1&&n[2]||""}static matchAndReturnConst(t,r,n){if(t.test(r))return n}static getWindowsVersionName(t){switch(t){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(t){const r=t.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),r[0]===10)switch(r[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(t){const r=t.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),!(r[0]===1&&r[1]<5)){if(r[0]===1&&r[1]<6)return"Cupcake";if(r[0]===1&&r[1]>=6)return"Donut";if(r[0]===2&&r[1]<2)return"Eclair";if(r[0]===2&&r[1]===2)return"Froyo";if(r[0]===2&&r[1]>2)return"Gingerbread";if(r[0]===3)return"Honeycomb";if(r[0]===4&&r[1]<1)return"Ice Cream Sandwich";if(r[0]===4&&r[1]<4)return"Jelly Bean";if(r[0]===4&&r[1]>=4)return"KitKat";if(r[0]===5)return"Lollipop";if(r[0]===6)return"Marshmallow";if(r[0]===7)return"Nougat";if(r[0]===8)return"Oreo";if(r[0]===9)return"Pie"}}static getVersionPrecision(t){return t.split(".").length}static compareVersions(t,r,n=!1){const i=W.getVersionPrecision(t),o=W.getVersionPrecision(r);let s=Math.max(i,o),a=0;const c=W.map([t,r],u=>{const l=s-W.getVersionPrecision(u),f=u+new Array(l+1).join(".0");return W.map(f.split("."),d=>new Array(20-d.length).join("0")+d).reverse()});for(n&&(a=s-Math.min(i,o)),s-=1;s>=a;){if(c[0][s]>c[1][s])return 1;if(c[0][s]===c[1][s]){if(s===a)return 0;s-=1}else if(c[0][s]<c[1][s])return-1}}static map(t,r){const n=[];let i;if(Array.prototype.map)return Array.prototype.map.call(t,r);for(i=0;i<t.length;i+=1)n.push(r(t[i]));return n}static find(t,r){let n,i;if(Array.prototype.find)return Array.prototype.find.call(t,r);for(n=0,i=t.length;n<i;n+=1){const o=t[n];if(r(o,n))return o}}static assign(t,...r){const n=t;let i,o;if(Object.assign)return Object.assign(t,...r);for(i=0,o=r.length;i<o;i+=1){const s=r[i];typeof s=="object"&&s!==null&&Object.keys(s).forEach(c=>{n[c]=s[c]})}return t}static getBrowserAlias(t){return px[t]}static getBrowserTypeByAlias(t){return Pw[t]||""}}const De=/version\/(\d+(\.?_?\d+)+)/i,vx=[{test:[/googlebot/i],describe(e){const t={name:"Googlebot"},r=W.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||W.getFirstMatch(De,e);return r&&(t.version=r),t}},{test:[/opera/i],describe(e){const t={name:"Opera"},r=W.getFirstMatch(De,e)||W.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\/|opios/i],describe(e){const t={name:"Opera"},r=W.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||W.getFirstMatch(De,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe(e){const t={name:"Samsung Internet for Android"},r=W.getFirstMatch(De,e)||W.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe(e){const t={name:"NAVER Whale Browser"},r=W.getFirstMatch(De,e)||W.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe(e){const t={name:"MZ Browser"},r=W.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||W.getFirstMatch(De,e);return r&&(t.version=r),t}},{test:[/focus/i],describe(e){const t={name:"Focus"},r=W.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||W.getFirstMatch(De,e);return r&&(t.version=r),t}},{test:[/swing/i],describe(e){const t={name:"Swing"},r=W.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||W.getFirstMatch(De,e);return r&&(t.version=r),t}},{test:[/coast/i],describe(e){const t={name:"Opera Coast"},r=W.getFirstMatch(De,e)||W.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(e){const t={name:"Opera Touch"},r=W.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||W.getFirstMatch(De,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe(e){const t={name:"Yandex Browser"},r=W.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||W.getFirstMatch(De,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe(e){const t={name:"UC Browser"},r=W.getFirstMatch(De,e)||W.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe(e){const t={name:"Maxthon"},r=W.getFirstMatch(De,e)||W.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe(e){const t={name:"Epiphany"},r=W.getFirstMatch(De,e)||W.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe(e){const t={name:"Puffin"},r=W.getFirstMatch(De,e)||W.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe(e){const t={name:"Sleipnir"},r=W.getFirstMatch(De,e)||W.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe(e){const t={name:"K-Meleon"},r=W.getFirstMatch(De,e)||W.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe(e){const t={name:"WeChat"},r=W.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||W.getFirstMatch(De,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe(e){const t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},r=W.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||W.getFirstMatch(De,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe(e){const t={name:"Internet Explorer"},r=W.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\sedg\//i],describe(e){const t={name:"Microsoft Edge"},r=W.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe(e){const t={name:"Microsoft Edge"},r=W.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe(e){const t={name:"Vivaldi"},r=W.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe(e){const t={name:"SeaMonkey"},r=W.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe(e){const t={name:"Sailfish"},r=W.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe(e){const t={name:"Amazon Silk"},r=W.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe(e){const t={name:"PhantomJS"},r=W.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe(e){const t={name:"SlimerJS"},r=W.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t={name:"BlackBerry"},r=W.getFirstMatch(De,e)||W.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe(e){const t={name:"WebOS Browser"},r=W.getFirstMatch(De,e)||W.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe(e){const t={name:"Bada"},r=W.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe(e){const t={name:"Tizen"},r=W.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||W.getFirstMatch(De,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe(e){const t={name:"QupZilla"},r=W.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||W.getFirstMatch(De,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe(e){const t={name:"Firefox"},r=W.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe(e){const t={name:"Electron"},r=W.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MiuiBrowser/i],describe(e){const t={name:"Miui"},r=W.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe(e){const t={name:"Chromium"},r=W.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||W.getFirstMatch(De,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe(e){const t={name:"Chrome"},r=W.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe(e){const t={name:"Google Search"},r=W.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){const t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe(e){const t={name:"Android Browser"},r=W.getFirstMatch(De,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe(e){const t={name:"PlayStation 4"},r=W.getFirstMatch(De,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe(e){const t={name:"Safari"},r=W.getFirstMatch(De,e);return r&&(t.version=r),t}},{test:[/.*/i],describe(e){const t=/^(.*)\/(.*) /,r=/^(.*)\/(.*)[ \t]\((.*)/,i=e.search("\\(")!==-1?r:t;return{name:W.getFirstMatch(i,e),version:W.getSecondMatch(i,e)}}}],mx=[{test:[/Roku\/DVP/],describe(e){const t=W.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:ht.Roku,version:t}}},{test:[/windows phone/i],describe(e){const t=W.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:ht.WindowsPhone,version:t}}},{test:[/windows /i],describe(e){const t=W.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),r=W.getWindowsVersionName(t);return{name:ht.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(e){const t={name:ht.iOS},r=W.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return r&&(t.version=r),t}},{test:[/macintosh/i],describe(e){const t=W.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),r=W.getMacOSVersionName(t),n={name:ht.MacOS,version:t};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe(e){const t=W.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:ht.iOS,version:t}}},{test(e){const t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe(e){const t=W.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),r=W.getAndroidVersionName(t),n={name:ht.Android,version:t};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe(e){const t=W.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),r={name:ht.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t=W.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||W.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||W.getFirstMatch(/\bbb(\d+)/i,e);return{name:ht.BlackBerry,version:t}}},{test:[/bada/i],describe(e){const t=W.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:ht.Bada,version:t}}},{test:[/tizen/i],describe(e){const t=W.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:ht.Tizen,version:t}}},{test:[/linux/i],describe(){return{name:ht.Linux}}},{test:[/CrOS/],describe(){return{name:ht.ChromeOS}}},{test:[/PlayStation 4/],describe(e){const t=W.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:ht.PlayStation4,version:t}}}],yx=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(e){const t=W.getFirstMatch(/(can-l01)/i,e)&&"Nova",r={type:He.mobile,vendor:"Huawei"};return t&&(r.model=t),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:He.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:He.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:He.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:He.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:He.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:He.tablet}}},{test(e){const t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe(e){const t=W.getFirstMatch(/(ipod|iphone)/i,e);return{type:He.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:He.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:He.mobile}}},{test(e){return e.getBrowserName(!0)==="blackberry"},describe(){return{type:He.mobile,vendor:"BlackBerry"}}},{test(e){return e.getBrowserName(!0)==="bada"},describe(){return{type:He.mobile}}},{test(e){return e.getBrowserName()==="windows phone"},describe(){return{type:He.mobile,vendor:"Microsoft"}}},{test(e){const t=Number(String(e.getOSVersion()).split(".")[0]);return e.getOSName(!0)==="android"&&t>=3},describe(){return{type:He.tablet}}},{test(e){return e.getOSName(!0)==="android"},describe(){return{type:He.mobile}}},{test(e){return e.getOSName(!0)==="macos"},describe(){return{type:He.desktop,vendor:"Apple"}}},{test(e){return e.getOSName(!0)==="windows"},describe(){return{type:He.desktop}}},{test(e){return e.getOSName(!0)==="linux"},describe(){return{type:He.desktop}}},{test(e){return e.getOSName(!0)==="playstation 4"},describe(){return{type:He.tv}}},{test(e){return e.getOSName(!0)==="roku"},describe(){return{type:He.tv}}}],wx=[{test(e){return e.getBrowserName(!0)==="microsoft edge"},describe(e){if(/\sedg\//i.test(e))return{name:Kr.Blink};const r=W.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:Kr.EdgeHTML,version:r}}},{test:[/trident/i],describe(e){const t={name:Kr.Trident},r=W.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){return e.test(/presto/i)},describe(e){const t={name:Kr.Presto},r=W.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){const t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe(e){const t={name:Kr.Gecko},r=W.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:Kr.Blink}}},{test:[/(apple)?webkit/i],describe(e){const t={name:Kr.WebKit},r=W.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}}];class Yf{constructor(t,r=!1){if(t==null||t==="")throw new Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},r!==!0&&this.parse()}getUA(){return this._ua}test(t){return t.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const t=W.find(vx,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(t){return t?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const t=W.find(mx,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os}getOSName(t){const{name:r}=this.getOS();return t?String(r).toLowerCase()||"":r||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(t=!1){const{type:r}=this.getPlatform();return t?String(r).toLowerCase()||"":r||""}parsePlatform(){this.parsedResult.platform={};const t=W.find(yx,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(t){return t?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const t=W.find(wx,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return W.assign({},this.parsedResult)}satisfies(t){const r={};let n=0;const i={};let o=0;if(Object.keys(t).forEach(a=>{const c=t[a];typeof c=="string"?(i[a]=c,o+=1):typeof c=="object"&&(r[a]=c,n+=1)}),n>0){const a=Object.keys(r),c=W.find(a,l=>this.isOS(l));if(c){const l=this.satisfies(r[c]);if(l!==void 0)return l}const u=W.find(a,l=>this.isPlatform(l));if(u){const l=this.satisfies(r[u]);if(l!==void 0)return l}}if(o>0){const a=Object.keys(i),c=W.find(a,u=>this.isBrowser(u,!0));if(c!==void 0)return this.compareVersion(i[c])}}isBrowser(t,r=!1){const n=this.getBrowserName().toLowerCase();let i=t.toLowerCase();const o=W.getBrowserTypeByAlias(i);return r&&o&&(i=o.toLowerCase()),i===n}compareVersion(t){let r=[0],n=t,i=!1;const o=this.getBrowserVersion();if(typeof o=="string")return t[0]===">"||t[0]==="<"?(n=t.substr(1),t[1]==="="?(i=!0,n=t.substr(2)):r=[],t[0]===">"?r.push(1):r.push(-1)):t[0]==="="?n=t.substr(1):t[0]==="~"&&(i=!0,n=t.substr(1)),r.indexOf(W.compareVersions(o,n,i))>-1}isOS(t){return this.getOSName(!0)===String(t).toLowerCase()}isPlatform(t){return this.getPlatformType(!0)===String(t).toLowerCase()}isEngine(t){return this.getEngineName(!0)===String(t).toLowerCase()}is(t,r=!1){return this.isBrowser(t,r)||this.isOS(t)||this.isPlatform(t)}some(t=[]){return t.some(r=>this.is(r))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class Sx{static getParser(t,r=!1){if(typeof t!="string")throw new Error("UserAgent should be a string");return new Yf(t,r)}static parse(t){return new Yf(t).getResult()}static get BROWSER_MAP(){return Pw}static get ENGINE_MAP(){return Kr}static get OS_MAP(){return ht}static get PLATFORMS_MAP(){return He}}var kw=function(e){var t=e.serviceId,r=e.clientVersion;return function(){return T.exports.__awaiter(void 0,void 0,void 0,function(){var n,i,o,s,a,c,u,l,f;return T.exports.__generator(this,function(d){return n=!((o=window==null?void 0:window.navigator)===null||o===void 0)&&o.userAgent?Sx.parse(window.navigator.userAgent):void 0,i=[["aws-sdk-js",r],["os/"+(((s=n==null?void 0:n.os)===null||s===void 0?void 0:s.name)||"other"),(a=n==null?void 0:n.os)===null||a===void 0?void 0:a.version],["lang/js"],["md/browser",((u=(c=n==null?void 0:n.browser)===null||c===void 0?void 0:c.name)!==null&&u!==void 0?u:"unknown")+"_"+((f=(l=n==null?void 0:n.browser)===null||l===void 0?void 0:l.version)!==null&&f!==void 0?f:"unknown")]],t&&i.push(["api/"+t,r]),[2,i]})})}};function _x(e){var t,r,n={};if(e=e.replace(/^\?/,""),e)try{for(var i=T.exports.__values(e.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value,a=T.exports.__read(s.split("="),2),c=a[0],u=a[1],l=u===void 0?null:u;c=decodeURIComponent(c),l&&(l=decodeURIComponent(l)),c in n?Array.isArray(n[c])?n[c].push(l):n[c]=[n[c],l]:n[c]=l}}catch(f){t={error:f}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return n}var Rw=function(e){var t=new URL(e),r=t.hostname,n=t.pathname,i=t.port,o=t.protocol,s=t.search,a;return s&&(a=_x(s)),{hostname:r,port:i?parseInt(i):void 0,protocol:o,path:n,query:a}},Ow=function(e){var t;return T.exports.__assign(T.exports.__assign({},e),{tls:(t=e.tls)!==null&&t!==void 0?t:!0,endpoint:e.endpoint?bx(e):function(){return Cx(e)},isCustomEndpoint:!!e.endpoint})},bx=function(e){var t=e.endpoint,r=e.urlParser;if(typeof t=="string"){var n=Promise.resolve(r(t));return function(){return n}}else if(typeof t=="object"){var i=Promise.resolve(t);return function(){return i}}return t},Cx=function(e){return T.exports.__awaiter(void 0,void 0,void 0,function(){var t,r,n,i,o,s;return T.exports.__generator(this,function(a){switch(a.label){case 0:return t=e.tls,r=t===void 0?!0:t,[4,e.region()];case 1:if(n=a.sent(),i=new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/),!i.test(n))throw new Error("Invalid region in client config");return[4,e.regionInfoProvider(n)];case 2:if(o=((s=a.sent())!==null&&s!==void 0?s:{}).hostname,!o)throw new Error("Cannot resolve hostname from client config");return[2,e.urlParser((r?"https:":"http:")+"//"+o)]}})})},Uw=function(e){if(!e.region)throw new Error("Region is missing");return T.exports.__assign(T.exports.__assign({},e),{region:Ex(e.region)})},Ex=function(e){if(typeof e=="string"){var t=Promise.resolve(e);return function(){return t}}return e},Xf="content-length";function xx(e){var t=this;return function(r){return function(n){return T.exports.__awaiter(t,void 0,void 0,function(){var i,o,s,a,c;return T.exports.__generator(this,function(u){return i=n.request,Xe.isInstance(i)&&(o=i.body,s=i.headers,o&&Object.keys(s).map(function(l){return l.toLowerCase()}).indexOf(Xf)===-1&&(a=e(o),a!==void 0&&(i.headers=T.exports.__assign(T.exports.__assign({},i.headers),(c={},c[Xf]=String(a),c))))),[2,r(T.exports.__assign(T.exports.__assign({},n),{request:i}))]})})}}}var Ax={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},Lw=function(e){return{applyToStack:function(t){t.add(xx(e.bodyLengthChecker),Ax)}}};var Ix=function(e){return function(t){return function(r){return T.exports.__awaiter(void 0,void 0,void 0,function(){var n,i,o;return T.exports.__generator(this,function(s){return Xe.isInstance(r.request)?(n=r.request,i=(e.requestHandler.metadata||{}).handlerProtocol,o=i===void 0?"":i,o.indexOf("h2")>=0&&!n.headers[":authority"]?(delete n.headers.host,n.headers[":authority"]=""):n.headers.host||(n.headers.host=n.hostname),[2,t(r)]):[2,t(r)]})})}}},Tx={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},Mw=function(e){return{applyToStack:function(t){t.add(Ix(e),Tx)}}},Px=function(){return function(e,t){return function(r){return T.exports.__awaiter(void 0,void 0,void 0,function(){var n,i,o,s,a,c,u,l,f;return T.exports.__generator(this,function(d){switch(d.label){case 0:return n=t.clientName,i=t.commandName,o=t.inputFilterSensitiveLog,s=t.logger,a=t.outputFilterSensitiveLog,[4,e(r)];case 1:return c=d.sent(),s?(typeof s.info=="function"&&(u=c.output,l=u.$metadata,f=T.exports.__rest(u,["$metadata"]),s.info({clientName:n,commandName:i,input:o(r.input),output:a(f),metadata:l})),[2,c]):[2,c]}})})}}},kx={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},Nw=function(e){return{applyToStack:function(t){t.add(Px(),kx)}}},Rx="X-Amz-Algorithm",Ox="X-Amz-Credential",Dw="X-Amz-Date",Ux="X-Amz-SignedHeaders",Lx="X-Amz-Expires",Bw="X-Amz-Signature",Fw="X-Amz-Security-Token",zw="authorization",Kw=Dw.toLowerCase(),Mx="date",Nx=[zw,Kw,Mx],Dx=Bw.toLowerCase(),Uu="x-amz-content-sha256",Bx=Fw.toLowerCase(),Fx={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},zx=/^proxy-/,Kx=/^sec-/,ga="AWS4-HMAC-SHA256",qx="AWS4-HMAC-SHA256-PAYLOAD",jx="UNSIGNED-PAYLOAD",$x=50,qw="aws4_request",Hx=60*60*24*7,Io={},pa=[];function va(e,t,r){return e+"/"+t+"/"+r+"/"+qw}var Vx=function(e,t,r,n,i){return T.exports.__awaiter(void 0,void 0,void 0,function(){var o,s,a,c,u,l,f,d,h;return T.exports.__generator(this,function(m){switch(m.label){case 0:return[4,Jf(e,t.secretAccessKey,t.accessKeyId)];case 1:if(o=m.sent(),s=r+":"+n+":"+i+":"+Bt(o)+":"+t.sessionToken,s in Io)return[2,Io[s]];for(pa.push(s);pa.length>$x;)delete Io[pa.shift()];a="AWS4"+t.secretAccessKey,m.label=2;case 2:m.trys.push([2,7,8,9]),c=T.exports.__values([r,n,i,qw]),u=c.next(),m.label=3;case 3:return u.done?[3,6]:(l=u.value,[4,Jf(e,a,l)]);case 4:a=m.sent(),m.label=5;case 5:return u=c.next(),[3,3];case 6:return[3,9];case 7:return f=m.sent(),d={error:f},[3,9];case 8:try{u&&!u.done&&(h=c.return)&&h.call(c)}finally{if(d)throw d.error}return[7];case 9:return[2,Io[s]=a]}})})};function Jf(e,t,r){var n=new e(t);return n.update(r),n.digest()}function Zf(e,t,r){var n,i,o=e.headers,s={};try{for(var a=T.exports.__values(Object.keys(o).sort()),c=a.next();!c.done;c=a.next()){var u=c.value,l=u.toLowerCase();(l in Fx||(t==null?void 0:t.has(l))||zx.test(l)||Kx.test(l))&&(!r||r&&!r.has(l))||(s[l]=o[u].trim().replace(/\s+/g," "))}}catch(f){n={error:f}}finally{try{c&&!c.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return s}function Gx(e){var t,r,n=e.query,i=n===void 0?{}:n,o=[],s={},a=function(f){if(f.toLowerCase()===Dx)return"continue";o.push(f);var d=i[f];typeof d=="string"?s[f]=Cn(f)+"="+Cn(d):Array.isArray(d)&&(s[f]=d.slice(0).sort().reduce(function(h,m){return h.concat([Cn(f)+"="+Cn(m)])},[]).join("&"))};try{for(var c=T.exports.__values(Object.keys(i).sort()),u=c.next();!u.done;u=c.next()){var l=u.value;a(l)}}catch(f){t={error:f}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(t)throw t.error}}return o.map(function(f){return s[f]}).filter(function(f){return f}).join("&")}var Wx=function(e){return typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]"};function ma(e,t){var r=e.headers,n=e.body;return T.exports.__awaiter(this,void 0,void 0,function(){var i,o,s,a,c,u,l;return T.exports.__generator(this,function(f){switch(f.label){case 0:try{for(i=T.exports.__values(Object.keys(r)),o=i.next();!o.done;o=i.next())if(s=o.value,s.toLowerCase()===Uu)return[2,r[s]]}catch(d){u={error:d}}finally{try{o&&!o.done&&(l=i.return)&&l.call(i)}finally{if(u)throw u.error}}return n!=null?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return typeof n=="string"||ArrayBuffer.isView(n)||Wx(n)?(a=new t,a.update(n),c=Bt,[4,a.digest()]):[3,3];case 2:return[2,c.apply(void 0,[f.sent()])];case 3:return[2,jx]}})})}function Yx(e,t){var r,n;e=e.toLowerCase();try{for(var i=T.exports.__values(Object.keys(t)),o=i.next();!o.done;o=i.next()){var s=o.value;if(e===s.toLowerCase())return!0}}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return!1}function jw(e){var t=e.headers,r=e.query,n=T.exports.__rest(e,["headers","query"]);return T.exports.__assign(T.exports.__assign({},n),{headers:T.exports.__assign({},t),query:r?Xx(r):void 0})}function Xx(e){return Object.keys(e).reduce(function(t,r){var n,i=e[r];return T.exports.__assign(T.exports.__assign({},t),(n={},n[r]=Array.isArray(i)?T.exports.__spread(i):i,n))},{})}function Jx(e,t){var r,n,i;t===void 0&&(t={});var o=typeof e.clone=="function"?e.clone():jw(e),s=o.headers,a=o.query,c=a===void 0?{}:a;try{for(var u=T.exports.__values(Object.keys(s)),l=u.next();!l.done;l=u.next()){var f=l.value,d=f.toLowerCase();d.substr(0,6)==="x-amz-"&&!(!((i=t.unhoistableHeaders)===null||i===void 0)&&i.has(d))&&(c[f]=s[f],delete s[f])}}catch(h){r={error:h}}finally{try{l&&!l.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}return T.exports.__assign(T.exports.__assign({},e),{headers:s,query:c})}function Qf(e){var t,r;e=typeof e.clone=="function"?e.clone():jw(e);try{for(var n=T.exports.__values(Object.keys(e.headers)),i=n.next();!i.done;i=n.next()){var o=i.value;Nx.indexOf(o.toLowerCase())>-1&&delete e.headers[o]}}catch(s){t={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}return e}function Zx(e){return Qx(e).toISOString().replace(/\.\d{3}Z$/,"Z")}function Qx(e){return typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e}var $w=function(){function e(t){var r=t.applyChecksum,n=t.credentials,i=t.region,o=t.service,s=t.sha256,a=t.uriEscapePath,c=a===void 0?!0:a;this.service=o,this.sha256=s,this.uriEscapePath=c,this.applyChecksum=typeof r=="boolean"?r:!0,this.regionProvider=eA(i),this.credentialProvider=tA(n)}return e.prototype.presign=function(t,r){return r===void 0&&(r={}),T.exports.__awaiter(this,void 0,void 0,function(){var n,i,o,s,a,c,u,l,f,d,h,m,y,_,C,w,A,I,O,D,q,L,H,k;return T.exports.__generator(this,function(U){switch(U.label){case 0:return n=r.signingDate,i=n===void 0?new Date:n,o=r.expiresIn,s=o===void 0?3600:o,a=r.unsignableHeaders,c=r.unhoistableHeaders,u=r.signableHeaders,l=r.signingRegion,f=r.signingService,[4,this.credentialProvider()];case 1:return d=U.sent(),l==null?[3,2]:(m=l,[3,4]);case 2:return[4,this.regionProvider()];case 3:m=U.sent(),U.label=4;case 4:return h=m,y=To(i),_=y.longDate,C=y.shortDate,s>Hx?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(w=va(C,h,f!=null?f:this.service),A=Jx(Qf(t),{unhoistableHeaders:c}),d.sessionToken&&(A.query[Fw]=d.sessionToken),A.query[Rx]=ga,A.query[Ox]=d.accessKeyId+"/"+w,A.query[Dw]=_,A.query[Lx]=s.toString(10),I=Zf(A,a,u),A.query[Ux]=ed(I),O=A.query,D=Bw,q=this.getSignature,L=[_,w,this.getSigningKey(d,h,C,f)],H=this.createCanonicalRequest,k=[A,I],[4,ma(t,this.sha256)]);case 5:return[4,q.apply(this,L.concat([H.apply(this,k.concat([U.sent()]))]))];case 6:return O[D]=U.sent(),[2,A]}})})},e.prototype.sign=function(t,r){return T.exports.__awaiter(this,void 0,void 0,function(){return T.exports.__generator(this,function(n){return typeof t=="string"?[2,this.signString(t,r)]:t.headers&&t.payload?[2,this.signEvent(t,r)]:[2,this.signRequest(t,r)]})})},e.prototype.signEvent=function(t,r){var n=t.headers,i=t.payload,o=r.signingDate,s=o===void 0?new Date:o,a=r.priorSignature,c=r.signingRegion,u=r.signingService;return T.exports.__awaiter(this,void 0,void 0,function(){var l,f,d,h,m,y,_,C,w,A,I;return T.exports.__generator(this,function(O){switch(O.label){case 0:return c==null?[3,1]:(f=c,[3,3]);case 1:return[4,this.regionProvider()];case 2:f=O.sent(),O.label=3;case 3:return l=f,d=To(s),h=d.shortDate,m=d.longDate,y=va(h,l,u!=null?u:this.service),[4,ma({headers:{},body:i},this.sha256)];case 4:return _=O.sent(),C=new this.sha256,C.update(n),A=Bt,[4,C.digest()];case 5:return w=A.apply(void 0,[O.sent()]),I=[qx,m,y,a,w,_].join(`
`),[2,this.signString(I,{signingDate:s,signingRegion:l,signingService:u})]}})})},e.prototype.signString=function(t,r){var n=r===void 0?{}:r,i=n.signingDate,o=i===void 0?new Date:i,s=n.signingRegion,a=n.signingService;return T.exports.__awaiter(this,void 0,void 0,function(){var c,u,l,f,d,h,m,y;return T.exports.__generator(this,function(_){switch(_.label){case 0:return[4,this.credentialProvider()];case 1:return c=_.sent(),s==null?[3,2]:(l=s,[3,4]);case 2:return[4,this.regionProvider()];case 3:l=_.sent(),_.label=4;case 4:return u=l,f=To(o).shortDate,m=(h=this.sha256).bind,[4,this.getSigningKey(c,u,f,a)];case 5:return d=new(m.apply(h,[void 0,_.sent()])),d.update(t),y=Bt,[4,d.digest()];case 6:return[2,y.apply(void 0,[_.sent()])]}})})},e.prototype.signRequest=function(t,r){var n=r===void 0?{}:r,i=n.signingDate,o=i===void 0?new Date:i,s=n.signableHeaders,a=n.unsignableHeaders,c=n.signingRegion,u=n.signingService;return T.exports.__awaiter(this,void 0,void 0,function(){var l,f,d,h,m,y,_,C,w,A,I;return T.exports.__generator(this,function(O){switch(O.label){case 0:return[4,this.credentialProvider()];case 1:return l=O.sent(),c==null?[3,2]:(d=c,[3,4]);case 2:return[4,this.regionProvider()];case 3:d=O.sent(),O.label=4;case 4:return f=d,h=Qf(t),m=To(o),y=m.longDate,_=m.shortDate,C=va(_,f,u!=null?u:this.service),h.headers[Kw]=y,l.sessionToken&&(h.headers[Bx]=l.sessionToken),[4,ma(h,this.sha256)];case 5:return w=O.sent(),!Yx(Uu,h.headers)&&this.applyChecksum&&(h.headers[Uu]=w),A=Zf(h,a,s),[4,this.getSignature(y,C,this.getSigningKey(l,f,_,u),this.createCanonicalRequest(h,A,w))];case 6:return I=O.sent(),h.headers[zw]=ga+" "+("Credential="+l.accessKeyId+"/"+C+", ")+("SignedHeaders="+ed(A)+", ")+("Signature="+I),[2,h]}})})},e.prototype.createCanonicalRequest=function(t,r,n){var i=Object.keys(r).sort();return t.method+`
`+this.getCanonicalPath(t)+`
`+Gx(t)+`
`+i.map(function(o){return o+":"+r[o]}).join(`
`)+`

`+i.join(";")+`
`+n},e.prototype.createStringToSign=function(t,r,n){return T.exports.__awaiter(this,void 0,void 0,function(){var i,o;return T.exports.__generator(this,function(s){switch(s.label){case 0:return i=new this.sha256,i.update(n),[4,i.digest()];case 1:return o=s.sent(),[2,ga+`
`+t+`
`+r+`
`+Bt(o)]}})})},e.prototype.getCanonicalPath=function(t){var r=t.path;if(this.uriEscapePath){var n=encodeURIComponent(r.replace(/^\//,""));return"/"+n.replace(/%2F/g,"/")}return r},e.prototype.getSignature=function(t,r,n,i){return T.exports.__awaiter(this,void 0,void 0,function(){var o,s,a,c,u;return T.exports.__generator(this,function(l){switch(l.label){case 0:return[4,this.createStringToSign(t,r,i)];case 1:return o=l.sent(),c=(a=this.sha256).bind,[4,n];case 2:return s=new(c.apply(a,[void 0,l.sent()])),s.update(o),u=Bt,[4,s.digest()];case 3:return[2,u.apply(void 0,[l.sent()])]}})})},e.prototype.getSigningKey=function(t,r,n,i){return Vx(this.sha256,t,n,r,i||this.service)},e}(),To=function(e){var t=Zx(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.substr(0,8)}},ed=function(e){return Object.keys(e).sort().join(";")},eA=function(e){if(typeof e=="string"){var t=Promise.resolve(e);return function(){return t}}else return e},tA=function(e){if(typeof e=="object"){var t=Promise.resolve(e);return function(){return t}}else return e};function Hw(e){var t=this,r=e.credentials||e.credentialDefaultProvider(e),n=ya(r),i=e.signingEscapePath,o=i===void 0?!0:i,s=e.systemClockOffset,a=s===void 0?e.systemClockOffset||0:s,c=e.sha256,u;return e.signer?u=ya(e.signer):u=function(){return ya(e.region)().then(function(l){return T.exports.__awaiter(t,void 0,void 0,function(){return T.exports.__generator(this,function(f){switch(f.label){case 0:return[4,e.regionInfoProvider(l)];case 1:return[2,[f.sent()||{},l]]}})})}).then(function(l){var f=T.exports.__read(l,2),d=f[0],h=f[1],m=d.signingRegion,y=d.signingService;return e.signingRegion=e.signingRegion||m||h,e.signingName=e.signingName||y||e.serviceId,new $w({credentials:n,region:e.signingRegion,service:e.signingName,sha256:c,uriEscapePath:o})})},T.exports.__assign(T.exports.__assign({},e),{systemClockOffset:a,signingEscapePath:o,credentials:n,signer:u})}function ya(e){if(typeof e=="object"){var t=Promise.resolve(e);return function(){return t}}return e}var rA=function(e,t){return Math.abs(nA(t).getTime()-e)>=3e5},nA=function(e){return new Date(Date.now()+e)};function iA(e){return function(t,r){return function(n){return T.exports.__awaiter(this,void 0,void 0,function(){var i,o,s,a,c,u,l,f,d;return T.exports.__generator(this,function(h){switch(h.label){case 0:return Xe.isInstance(n.request)?typeof e.signer!="function"?[3,2]:[4,e.signer()]:[2,t(n)];case 1:return o=h.sent(),[3,3];case 2:o=e.signer,h.label=3;case 3:return i=o,a=t,c=[T.exports.__assign({},n)],d={},[4,i.sign(n.request,{signingDate:new Date(Date.now()+e.systemClockOffset),signingRegion:r.signing_region,signingService:r.signing_service})];case 4:return[4,a.apply(void 0,[T.exports.__assign.apply(void 0,c.concat([(d.request=h.sent(),d)]))])];case 5:return s=h.sent(),u=s.response.headers,l=u&&(u.date||u.Date),l&&(f=Date.parse(l),rA(f,e.systemClockOffset)&&(e.systemClockOffset=f-Date.now())),[2,s]}})})}}}var oA={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},sA=function(e){return{applyToStack:function(t){t.addRelativeTo(iA(e),oA)}}};function Vw(e){return T.exports.__assign(T.exports.__assign({},e),{customUserAgent:typeof e.customUserAgent=="string"?[[e.customUserAgent]]:e.customUserAgent})}var wa="user-agent",aA="x-amz-user-agent",td=" ",uA=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,cA=function(e){return function(t,r){return function(n){return T.exports.__awaiter(void 0,void 0,void 0,function(){var i,o,s,a,c,u,l,f;return T.exports.__generator(this,function(d){switch(d.label){case 0:return i=n.request,Xe.isInstance(i)?(o=i.headers,s=((l=r==null?void 0:r.userAgent)===null||l===void 0?void 0:l.map(Sa))||[],[4,e.defaultUserAgentProvider()]):[2,t(n)];case 1:return a=d.sent().map(Sa),c=((f=e==null?void 0:e.customUserAgent)===null||f===void 0?void 0:f.map(Sa))||[],o[aA]=T.exports.__spread(a,s,c).join(td),u=T.exports.__spread(a.filter(function(h){return h.startsWith("aws-sdk-")}),c).join(td),e.runtime!=="browser"&&u&&(o[wa]=o[wa]?o[wa]+" "+u:u),[2,t(T.exports.__assign(T.exports.__assign({},n),{request:i}))]}})})}}},Sa=function(e){var t=T.exports.__read(e,2),r=t[0],n=t[1],i=r.indexOf("/"),o=r.substring(0,i),s=r.substring(i+1);return o==="api"&&(s=s.toLowerCase()),[o,s,n].filter(function(a){return a&&a.length>0}).map(function(a){return a==null?void 0:a.replace(uA,"_")}).join("/")},lA={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},Gw=function(e){return{applyToStack:function(t){t.add(cA(e),lA)}}},rs=function(){var e=[],t=[],r=new Set,n=function(l){return l.sort(function(f,d){return rd[d.step]-rd[f.step]||nd[d.priority||"normal"]-nd[f.priority||"normal"]})},i=function(l){var f=!1,d=function(h){return h.name&&h.name===l?(f=!0,r.delete(l),!1):!0};return e=e.filter(d),t=t.filter(d),f},o=function(l){var f=!1,d=function(h){return h.middleware===l?(f=!0,h.name&&r.delete(h.name),!1):!0};return e=e.filter(d),t=t.filter(d),f},s=function(l){return e.forEach(function(f){l.add(f.middleware,T.exports.__assign({},f))}),t.forEach(function(f){l.addRelativeTo(f.middleware,T.exports.__assign({},f))}),l},a=function(l){var f=[];return l.before.forEach(function(d){d.before.length===0&&d.after.length===0?f.push(d):f.push.apply(f,T.exports.__spread(a(d)))}),f.push(l),l.after.reverse().forEach(function(d){d.before.length===0&&d.after.length===0?f.push(d):f.push.apply(f,T.exports.__spread(a(d)))}),f},c=function(){var l=[],f=[],d={};e.forEach(function(m){var y=T.exports.__assign(T.exports.__assign({},m),{before:[],after:[]});y.name&&(d[y.name]=y),l.push(y)}),t.forEach(function(m){var y=T.exports.__assign(T.exports.__assign({},m),{before:[],after:[]});y.name&&(d[y.name]=y),f.push(y)}),f.forEach(function(m){if(m.toMiddleware){var y=d[m.toMiddleware];if(y===void 0)throw new Error(m.toMiddleware+" is not found when adding "+(m.name||"anonymous")+" middleware "+m.relation+" "+m.toMiddleware);m.relation==="after"&&y.after.push(m),m.relation==="before"&&y.before.push(m)}});var h=n(l).map(a).reduce(function(m,y){return m.push.apply(m,T.exports.__spread(y)),m},[]);return h.map(function(m){return m.middleware})},u={add:function(l,f){f===void 0&&(f={});var d=f.name,h=f.override,m=T.exports.__assign({step:"initialize",priority:"normal",middleware:l},f);if(d){if(r.has(d)){if(!h)throw new Error("Duplicate middleware name '"+d+"'");var y=e.findIndex(function(C){return C.name===d}),_=e[y];if(_.step!==m.step||_.priority!==m.priority)throw new Error('"'+d+'" middleware with '+_.priority+" priority in "+_.step+" step cannot be "+("overridden by same-name middleware with "+m.priority+" priority in "+m.step+" step."));e.splice(y,1)}r.add(d)}e.push(m)},addRelativeTo:function(l,f){var d=f.name,h=f.override,m=T.exports.__assign({middleware:l},f);if(d){if(r.has(d)){if(!h)throw new Error("Duplicate middleware name '"+d+"'");var y=t.findIndex(function(C){return C.name===d}),_=t[y];if(_.toMiddleware!==m.toMiddleware||_.relation!==m.relation)throw new Error('"'+d+'" middleware '+_.relation+' "'+_.toMiddleware+'" middleware cannot be overridden '+("by same-name middleware "+m.relation+' "'+m.toMiddleware+'" middleware.'));t.splice(y,1)}r.add(d)}t.push(m)},clone:function(){return s(rs())},use:function(l){l.applyToStack(u)},remove:function(l){return typeof l=="string"?i(l):o(l)},removeByTag:function(l){var f=!1,d=function(h){var m=h.tags,y=h.name;return m&&m.includes(l)?(y&&r.delete(y),f=!0,!1):!0};return e=e.filter(d),t=t.filter(d),f},concat:function(l){var f=s(rs());return f.use(l),f},applyToStack:s,resolve:function(l,f){var d,h;try{for(var m=T.exports.__values(c().reverse()),y=m.next();!y.done;y=m.next()){var _=y.value;l=_(l,f)}}catch(C){d={error:C}}finally{try{y&&!y.done&&(h=m.return)&&h.call(m)}finally{if(d)throw d.error}}return l}};return u},rd={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},nd={high:3,normal:2,low:1},Ww=function(){function e(t){this.middlewareStack=rs(),this.config=t}return e.prototype.send=function(t,r,n){var i=typeof r!="function"?r:void 0,o=typeof r=="function"?r:n,s=t.resolveMiddleware(this.middlewareStack,this.config,i);if(o)s(t).then(function(a){return o(null,a.output)},function(a){return o(a)}).catch(function(){});else return s(t).then(function(a){return a.output})},e.prototype.destroy=function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()},e}(),qt=function(){function e(){this.middlewareStack=rs()}return e}();function Ze(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16)})}var Lu=function(e){return Array.isArray(e)?e:[e]},Yw=function(e){var t="#text";for(var r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=Yw(e[r]));return e},ns=function(){var e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,T.exports.__spread([null],arguments)),r=new t;return Object.setPrototypeOf(r,e.prototype),r};ns.prototype=Object.create(String.prototype,{constructor:{value:ns,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(ns,String);(function(e){T.exports.__extends(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.deserializeJSON=function(){return JSON.parse(e.prototype.toString.call(this))},t.prototype.toJSON=function(){return e.prototype.toString.call(this)},t.fromObject=function(r){return r instanceof t?r:r instanceof String||typeof r=="string"?new t(r):new t(JSON.stringify(r))},t})(ns);var fA=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dA=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Tn(e){var t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),i=e.getUTCDate(),o=e.getUTCHours(),s=e.getUTCMinutes(),a=e.getUTCSeconds(),c=i<10?"0"+i:""+i,u=o<10?"0"+o:""+o,l=s<10?"0"+s:""+s,f=a<10?"0"+a:""+a;return fA[n]+", "+c+" "+dA[r]+" "+t+" "+u+":"+l+":"+f+" GMT"}var Re="***SensitiveInformation***",hA=function(e,t){return function(r,n){return function(i){return T.exports.__awaiter(void 0,void 0,void 0,function(){var o,s;return T.exports.__generator(this,function(a){switch(a.label){case 0:return[4,r(i)];case 1:return o=a.sent().response,[4,t(o,e)];case 2:return s=a.sent(),[2,{response:o,output:s}]}})})}}},gA=function(e,t){return function(r,n){return function(i){return T.exports.__awaiter(void 0,void 0,void 0,function(){var o;return T.exports.__generator(this,function(s){switch(s.label){case 0:return[4,t(i.input,e)];case 1:return o=s.sent(),[2,r(T.exports.__assign(T.exports.__assign({},i),{request:o}))]}})})}}},pA={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},vA={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function jt(e,t,r){return{applyToStack:function(n){n.add(hA(e,r),pA),n.add(gA(e,t),vA)}}}var mA=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(f){s(f)}}function c(l){try{u(n.throw(l))}catch(f){s(f)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})},yA=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Gr=new qe("CognitoCredentials"),wA=new Promise(function(e,t){if(!dr().isBrowser)return Gr.debug("not in the browser, directly resolved"),e();var r=window.gapi&&window.gapi.auth2?window.gapi.auth2:null;if(r)return Gr.debug("google api already loaded"),e();setTimeout(function(){return e()},2e3)}),SA=function(){function e(){this.initialized=!1,this.refreshGoogleToken=this.refreshGoogleToken.bind(this),this._refreshGoogleTokenImpl=this._refreshGoogleTokenImpl.bind(this)}return e.prototype.refreshGoogleToken=function(){return mA(this,void 0,void 0,function(){return yA(this,function(t){switch(t.label){case 0:return this.initialized?[3,2]:(Gr.debug("need to wait for the Google SDK loaded"),[4,wA]);case 1:t.sent(),this.initialized=!0,Gr.debug("finish waiting"),t.label=2;case 2:return[2,this._refreshGoogleTokenImpl()]}})})},e.prototype._refreshGoogleTokenImpl=function(){var t=null;return dr().isBrowser&&(t=window.gapi&&window.gapi.auth2?window.gapi.auth2:null),t?new Promise(function(r,n){t.getAuthInstance().then(function(i){i||(Gr.debug("google Auth undefined"),n(new bn("google Auth undefined")));var o=i.currentUser.get();o.isSignedIn()?(Gr.debug("refreshing the google access token"),o.reloadAuthResponse().then(function(s){var a=s.id_token,c=s.expires_at;r({token:a,expires_at:c})}).catch(function(s){s&&s.error==="network_error"?n("Network error reloading google auth response"):n(new bn("Failed to reload google auth response"))})):n(new bn("User is not signed in with Google"))}).catch(function(i){Gr.debug("Failed to refresh google token",i),n(new bn("Failed to refresh google token"))})}):(Gr.debug("no gapi auth2 available"),Promise.reject("no gapi auth2 available"))},e}(),_A=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(f){s(f)}}function c(l){try{u(n.throw(l))}catch(f){s(f)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})},bA=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Sn=new qe("CognitoCredentials"),CA=new Promise(function(e,t){if(!dr().isBrowser)return Sn.debug("not in the browser, directly resolved"),e();var r=window.FB;if(r)return Sn.debug("FB SDK already loaded"),e();setTimeout(function(){return e()},2e3)}),EA=function(){function e(){this.initialized=!1,this.refreshFacebookToken=this.refreshFacebookToken.bind(this),this._refreshFacebookTokenImpl=this._refreshFacebookTokenImpl.bind(this)}return e.prototype.refreshFacebookToken=function(){return _A(this,void 0,void 0,function(){return bA(this,function(t){switch(t.label){case 0:return this.initialized?[3,2]:(Sn.debug("need to wait for the Facebook SDK loaded"),[4,CA]);case 1:t.sent(),this.initialized=!0,Sn.debug("finish waiting"),t.label=2;case 2:return[2,this._refreshFacebookTokenImpl()]}})})},e.prototype._refreshFacebookTokenImpl=function(){var t=null;if(dr().isBrowser&&(t=window.FB),!t){var r="no fb sdk available";return Sn.debug(r),Promise.reject(new bn(r))}return new Promise(function(n,i){t.getLoginStatus(function(o){if(!o||!o.authResponse){var s="no response from facebook when refreshing the jwt token";Sn.debug(s),i(new bn(s))}else{var a=o.authResponse,c=a.accessToken,u=a.expiresIn,l=new Date,f=u*1e3+l.getTime();if(!c){var s="the jwtToken is undefined";Sn.debug(s),i(new bn(s))}n({token:c,expires_at:f})}},{scope:"public_profile,email"})})},e}(),xA=new SA,AA=new EA,cn={},IA=function(){function e(){}return e.setItem=function(t,r){return cn[t]=r,cn[t]},e.getItem=function(t){return Object.prototype.hasOwnProperty.call(cn,t)?cn[t]:void 0},e.removeItem=function(t){return delete cn[t]},e.clear=function(){return cn={},cn},e}(),zs=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.amplify.test-ls",1),this.storageWindow.removeItem("aws.amplify.test-ls")}catch{this.storageWindow=IA}}return e.prototype.getStorage=function(){return this.storageWindow},e}(),Mu=function(e,t){return Mu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Mu(e,t)};function kl(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Mu(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var K=function(){return K=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},K.apply(this,arguments)};function ct(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(f){s(f)}}function c(l){try{u(n.throw(l))}catch(f){s(f)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})}function lt(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function TA(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o}const PA="@aws-sdk/client-cognito-identity",kA="AWS SDK for JavaScript Cognito Identity Client for Node.js, Browser and React Native",RA="3.6.1",OA={clean:"yarn remove-definitions && yarn remove-dist && yarn remove-documentation","build-documentation":"yarn remove-documentation && typedoc ./",prepublishOnly:"yarn build",pretest:"yarn build:cjs","remove-definitions":"rimraf ./types","remove-dist":"rimraf ./dist","remove-documentation":"rimraf ./docs","test:unit":"mocha **/cjs/**/*.spec.js","test:e2e":"mocha **/cjs/**/*.ispec.js && karma start karma.conf.js",test:"yarn test:unit","build:cjs":"tsc -p tsconfig.json","build:es":"tsc -p tsconfig.es.json",build:"yarn build:cjs && yarn build:es",postbuild:"downlevel-dts types types/ts3.4"},UA="./dist/cjs/index.js",LA="./types/index.d.ts",MA="./dist/es/index.js",NA={"./runtimeConfig":"./runtimeConfig.browser"},DA=!1,BA={"@aws-crypto/sha256-browser":"^1.0.0","@aws-crypto/sha256-js":"^1.0.0","@aws-sdk/config-resolver":"3.6.1","@aws-sdk/credential-provider-node":"3.6.1","@aws-sdk/fetch-http-handler":"3.6.1","@aws-sdk/hash-node":"3.6.1","@aws-sdk/invalid-dependency":"3.6.1","@aws-sdk/middleware-content-length":"3.6.1","@aws-sdk/middleware-host-header":"3.6.1","@aws-sdk/middleware-logger":"3.6.1","@aws-sdk/middleware-retry":"3.6.1","@aws-sdk/middleware-serde":"3.6.1","@aws-sdk/middleware-signing":"3.6.1","@aws-sdk/middleware-stack":"3.6.1","@aws-sdk/middleware-user-agent":"3.6.1","@aws-sdk/node-config-provider":"3.6.1","@aws-sdk/node-http-handler":"3.6.1","@aws-sdk/protocol-http":"3.6.1","@aws-sdk/smithy-client":"3.6.1","@aws-sdk/types":"3.6.1","@aws-sdk/url-parser":"3.6.1","@aws-sdk/url-parser-native":"3.6.1","@aws-sdk/util-base64-browser":"3.6.1","@aws-sdk/util-base64-node":"3.6.1","@aws-sdk/util-body-length-browser":"3.6.1","@aws-sdk/util-body-length-node":"3.6.1","@aws-sdk/util-user-agent-browser":"3.6.1","@aws-sdk/util-user-agent-node":"3.6.1","@aws-sdk/util-utf8-browser":"3.6.1","@aws-sdk/util-utf8-node":"3.6.1",tslib:"^2.0.0"},FA={"@aws-sdk/client-documentation-generator":"3.6.1","@aws-sdk/client-iam":"3.6.1","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^12.7.5","downlevel-dts":"0.7.0",jest:"^26.1.0",rimraf:"^3.0.0",typedoc:"^0.19.2",typescript:"~4.1.2"},zA={node:">=10.0.0"},KA={"<4.0":{"types/*":["types/ts3.4/*"]}},qA={name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},jA="Apache-2.0",$A="https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-cognito-identity",HA={type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-cognito-identity"},VA={name:PA,description:kA,version:RA,scripts:OA,main:UA,types:LA,module:MA,browser:NA,"react-native":{"./runtimeConfig":"./runtimeConfig.native"},sideEffects:DA,dependencies:BA,devDependencies:FA,engines:zA,typesVersions:KA,author:qA,license:jA,homepage:$A,repository:HA};var id="cognito-identity.{region}.amazonaws.com",GA="cognito-identity.{region}.amazonaws.com.cn",WA="cognito-identity.{region}.c2s.ic.gov",YA="cognito-identity.{region}.sc2s.sgov.gov",XA="cognito-identity.{region}.amazonaws.com",JA=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),ZA=new Set(["cn-north-1","cn-northwest-1"]),QA=new Set(["us-iso-east-1"]),eI=new Set(["us-isob-east-1"]),tI=new Set(["us-gov-east-1","us-gov-west-1"]),rI=function(e,t){var r=void 0;switch(e){case"ap-northeast-1":r={hostname:"cognito-identity.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":r={hostname:"cognito-identity.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":r={hostname:"cognito-identity.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":r={hostname:"cognito-identity.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":r={hostname:"cognito-identity.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"ca-central-1":r={hostname:"cognito-identity.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":r={hostname:"cognito-identity.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":r={hostname:"cognito-identity.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":r={hostname:"cognito-identity.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":r={hostname:"cognito-identity.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":r={hostname:"cognito-identity.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":r={hostname:"cognito-identity.eu-west-3.amazonaws.com",partition:"aws"};break;case"fips-us-east-1":r={hostname:"cognito-identity-fips.us-east-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"fips-us-east-2":r={hostname:"cognito-identity-fips.us-east-2.amazonaws.com",partition:"aws",signingRegion:"us-east-2"};break;case"fips-us-gov-west-1":r={hostname:"cognito-identity-fips.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"fips-us-west-2":r={hostname:"cognito-identity-fips.us-west-2.amazonaws.com",partition:"aws",signingRegion:"us-west-2"};break;case"sa-east-1":r={hostname:"cognito-identity.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":r={hostname:"cognito-identity.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":r={hostname:"cognito-identity.us-east-2.amazonaws.com",partition:"aws"};break;case"us-gov-west-1":r={hostname:"cognito-identity.us-gov-west-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-west-1":r={hostname:"cognito-identity.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-2":r={hostname:"cognito-identity.us-west-2.amazonaws.com",partition:"aws"};break;default:JA.has(e)&&(r={hostname:id.replace("{region}",e),partition:"aws"}),ZA.has(e)&&(r={hostname:GA.replace("{region}",e),partition:"aws-cn"}),QA.has(e)&&(r={hostname:WA.replace("{region}",e),partition:"aws-iso"}),eI.has(e)&&(r={hostname:YA.replace("{region}",e),partition:"aws-iso-b"}),tI.has(e)&&(r={hostname:XA.replace("{region}",e),partition:"aws-us-gov"}),r===void 0&&(r={hostname:id.replace("{region}",e),partition:"aws"})}return Promise.resolve(K({signingService:"cognito-identity"},r))},od={apiVersion:"2014-06-30",disableHostPrefix:!1,logger:{},regionInfoProvider:rI,serviceId:"Cognito Identity",urlParser:Rw},nI=K(K({},od),{runtime:"browser",base64Decoder:Tl,base64Encoder:ww,bodyLengthChecker:Tw,credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:kw({serviceId:od.serviceId,clientVersion:VA.version}),maxAttempts:Fs,region:_w("Region is missing"),requestHandler:new yw,sha256:bl.Sha256,streamCollector:Sw,utf8Decoder:Os,utf8Encoder:El}),_a=function(e){kl(t,e);function t(r){var n=this,i=K(K({},nI),r),o=Uw(i),s=Ow(o),a=Hw(s),c=Iw(a),u=c,l=Vw(u);return n=e.call(this,l)||this,n.config=l,n.middlewareStack.use(bw(n.config)),n.middlewareStack.use(Lw(n.config)),n.middlewareStack.use(Mw(n.config)),n.middlewareStack.use(Nw(n.config)),n.middlewareStack.use(Gw(n.config)),n}return t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(Ww),sd;(function(e){e.AUTHENTICATED_ROLE="AuthenticatedRole",e.DENY="Deny"})(sd||(sd={}));var ad;(function(e){e.filterSensitiveLog=function(t){return K({},t)}})(ad||(ad={}));var ud;(function(e){e.filterSensitiveLog=function(t){return K({},t)}})(ud||(ud={}));var cd;(function(e){e.filterSensitiveLog=function(t){return K({},t)}})(cd||(cd={}));var ld;(function(e){e.filterSensitiveLog=function(t){return K({},t)}})(ld||(ld={}));var fd;(function(e){e.filterSensitiveLog=function(t){return K({},t)}})(fd||(fd={}));var dd;(function(e){e.filterSensitiveLog=function(t){return K({},t)}})(dd||(dd={}));var hd;(function(e){e.filterSensitiveLog=function(t){return K({},t)}})(hd||(hd={}));var gd;(function(e){e.filterSensitiveLog=function(t){return K({},t)}})(gd||(gd={}));var pd;(function(e){e.filterSensitiveLog=function(t){return K({},t)}})(pd||(pd={}));var vd;(function(e){e.filterSensitiveLog=function(t){return K({},t)}})(vd||(vd={}));var md;(function(e){e.ACCESS_DENIED="AccessDenied",e.INTERNAL_SERVER_ERROR="InternalServerError"})(md||(md={}));var yd;(function(e){e.filterSensitiveLog=function(t){return K({},t)}})(yd||(yd={}));var wd;(function(e){e.filterSensitiveLog=function(t){return K({},t)}})(wd||(wd={}));var Sd;(function(e){e.filterSensitiveLog=function(t){return K({},t)}})(Sd||(Sd={}));var _d;(function(e){e.filterSensitiveLog=function(t){return K({},t)}})(_d||(_d={}));var bd;(function(e){e.filterSensitiveLog=function(t){return K({},t)}})(bd||(bd={}));var Cd;(function(e){e.filterSensitiveLog=function(t){return K({},t)}})(Cd||(Cd={}));var Ed;(function(e){e.filterSensitiveLog=function(t){return K({},t)}})(Ed||(Ed={}));var xd;(function(e){e.filterSensitiveLog=function(t){return K({},t)}})(xd||(xd={}));var Nu;(function(e){e.filterSensitiveLog=function(t){return K({},t)}})(Nu||(Nu={}));var Ad;(function(e){e.filterSensitiveLog=function(t){return K({},t)}})(Ad||(Ad={}));var Du;(function(e){e.filterSensitiveLog=function(t){return K({},t)}})(Du||(Du={}));var Id;(function(e){e.filterSensitiveLog=function(t){return K({},t)}})(Id||(Id={}));var Bu;(function(e){e.filterSensitiveLog=function(t){return K({},t)}})(Bu||(Bu={}));var Fu;(function(e){e.filterSensitiveLog=function(t){return K({},t)}})(Fu||(Fu={}));var Td;(function(e){e.filterSensitiveLog=function(t){return K({},t)}})(Td||(Td={}));var Pd;(function(e){e.CONTAINS="Contains",e.EQUALS="Equals",e.NOT_EQUAL="NotEqual",e.STARTS_WITH="StartsWith"})(Pd||(Pd={}));var kd;(function(e){e.filterSensitiveLog=function(t){return K({},t)}})(kd||(kd={}));var Rd;(function(e){e.filterSensitiveLog=function(t){return K({},t)}})(Rd||(Rd={}));var Od;(function(e){e.RULES="Rules",e.TOKEN="Token"})(Od||(Od={}));var Ud;(function(e){e.filterSensitiveLog=function(t){return K({},t)}})(Ud||(Ud={}));var Ld;(function(e){e.filterSensitiveLog=function(t){return K({},t)}})(Ld||(Ld={}));var Md;(function(e){e.filterSensitiveLog=function(t){return K({},t)}})(Md||(Md={}));var Nd;(function(e){e.filterSensitiveLog=function(t){return K({},t)}})(Nd||(Nd={}));var Dd;(function(e){e.filterSensitiveLog=function(t){return K({},t)}})(Dd||(Dd={}));var Bd;(function(e){e.filterSensitiveLog=function(t){return K({},t)}})(Bd||(Bd={}));var Fd;(function(e){e.filterSensitiveLog=function(t){return K({},t)}})(Fd||(Fd={}));var zd;(function(e){e.filterSensitiveLog=function(t){return K({},t)}})(zd||(zd={}));var Kd;(function(e){e.filterSensitiveLog=function(t){return K({},t)}})(Kd||(Kd={}));var qd;(function(e){e.filterSensitiveLog=function(t){return K({},t)}})(qd||(qd={}));var jd;(function(e){e.filterSensitiveLog=function(t){return K({},t)}})(jd||(jd={}));var $d;(function(e){e.filterSensitiveLog=function(t){return K({},t)}})($d||($d={}));var Hd;(function(e){e.filterSensitiveLog=function(t){return K({},t)}})(Hd||(Hd={}));var Vd;(function(e){e.filterSensitiveLog=function(t){return K({},t)}})(Vd||(Vd={}));var Gd;(function(e){e.filterSensitiveLog=function(t){return K({},t)}})(Gd||(Gd={}));var Wd;(function(e){e.filterSensitiveLog=function(t){return K({},t)}})(Wd||(Wd={}));var Yd;(function(e){e.filterSensitiveLog=function(t){return K({},t)}})(Yd||(Yd={}));var Xd;(function(e){e.filterSensitiveLog=function(t){return K({},t)}})(Xd||(Xd={}));var Jd;(function(e){e.filterSensitiveLog=function(t){return K({},t)}})(Jd||(Jd={}));var Zd;(function(e){e.filterSensitiveLog=function(t){return K({},t)}})(Zd||(Zd={}));var Qd;(function(e){e.filterSensitiveLog=function(t){return K({},t)}})(Qd||(Qd={}));var eh;(function(e){e.filterSensitiveLog=function(t){return K({},t)}})(eh||(eh={}));var th;(function(e){e.filterSensitiveLog=function(t){return K({},t)}})(th||(th={}));var rh;(function(e){e.filterSensitiveLog=function(t){return K({},t)}})(rh||(rh={}));var nh;(function(e){e.filterSensitiveLog=function(t){return K({},t)}})(nh||(nh={}));var ih;(function(e){e.filterSensitiveLog=function(t){return K({},t)}})(ih||(ih={}));var iI=function(e,t){return ct(void 0,void 0,void 0,function(){var r,n;return lt(this,function(i){return r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetCredentialsForIdentity"},n=JSON.stringify(dI(e)),[2,iS(t,r,"/",void 0,n)]})})},oI=function(e,t){return ct(void 0,void 0,void 0,function(){var r,n;return lt(this,function(i){return r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetId"},n=JSON.stringify(hI(e)),[2,iS(t,r,"/",void 0,n)]})})},sI=function(e,t){return ct(void 0,void 0,void 0,function(){var r,n,i;return lt(this,function(o){switch(o.label){case 0:return e.statusCode>=300?[2,aI(e,t)]:[4,Ks(e.body,t)];case 1:return r=o.sent(),n={},n=vI(r),i=K({$metadata:Ue(e)},n),[2,Promise.resolve(i)]}})})},aI=function(e,t){return ct(void 0,void 0,void 0,function(){var r,n,i,o,s,a,c,u,l,f,d,h,m,y,_,C;return lt(this,function(w){switch(w.label){case 0:return n=[K({},e)],C={},[4,Ks(e.body,t)];case 1:switch(r=K.apply(void 0,n.concat([(C.body=w.sent(),C)])),o="UnknownError",o=oS(e,r.body),s=o,s){case"ExternalServiceException":return[3,2];case"com.amazonaws.cognitoidentity#ExternalServiceException":return[3,2];case"InternalErrorException":return[3,4];case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,4];case"InvalidIdentityPoolConfigurationException":return[3,6];case"com.amazonaws.cognitoidentity#InvalidIdentityPoolConfigurationException":return[3,6];case"InvalidParameterException":return[3,8];case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,8];case"NotAuthorizedException":return[3,10];case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,10];case"ResourceConflictException":return[3,12];case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,12];case"ResourceNotFoundException":return[3,14];case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,14];case"TooManyRequestsException":return[3,16];case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,16]}return[3,18];case 2:return a=[{}],[4,Xw(r)];case 3:return i=K.apply(void 0,[K.apply(void 0,a.concat([w.sent()])),{name:o,$metadata:Ue(e)}]),[3,19];case 4:return c=[{}],[4,Jw(r)];case 5:return i=K.apply(void 0,[K.apply(void 0,c.concat([w.sent()])),{name:o,$metadata:Ue(e)}]),[3,19];case 6:return u=[{}],[4,lI(r)];case 7:return i=K.apply(void 0,[K.apply(void 0,u.concat([w.sent()])),{name:o,$metadata:Ue(e)}]),[3,19];case 8:return l=[{}],[4,Zw(r)];case 9:return i=K.apply(void 0,[K.apply(void 0,l.concat([w.sent()])),{name:o,$metadata:Ue(e)}]),[3,19];case 10:return f=[{}],[4,Qw(r)];case 11:return i=K.apply(void 0,[K.apply(void 0,f.concat([w.sent()])),{name:o,$metadata:Ue(e)}]),[3,19];case 12:return d=[{}],[4,eS(r)];case 13:return i=K.apply(void 0,[K.apply(void 0,d.concat([w.sent()])),{name:o,$metadata:Ue(e)}]),[3,19];case 14:return h=[{}],[4,tS(r)];case 15:return i=K.apply(void 0,[K.apply(void 0,h.concat([w.sent()])),{name:o,$metadata:Ue(e)}]),[3,19];case 16:return m=[{}],[4,rS(r)];case 17:return i=K.apply(void 0,[K.apply(void 0,m.concat([w.sent()])),{name:o,$metadata:Ue(e)}]),[3,19];case 18:y=r.body,o=y.code||y.Code||o,i=K(K({},y),{name:""+o,message:y.message||y.Message||o,$fault:"client",$metadata:Ue(e)}),w.label=19;case 19:return _=i.message||i.Message||o,i.message=_,delete i.Message,[2,Promise.reject(Object.assign(new Error(_),i))]}})})},uI=function(e,t){return ct(void 0,void 0,void 0,function(){var r,n,i;return lt(this,function(o){switch(o.label){case 0:return e.statusCode>=300?[2,cI(e,t)]:[4,Ks(e.body,t)];case 1:return r=o.sent(),n={},n=mI(r),i=K({$metadata:Ue(e)},n),[2,Promise.resolve(i)]}})})},cI=function(e,t){return ct(void 0,void 0,void 0,function(){var r,n,i,o,s,a,c,u,l,f,d,h,m,y,_,C;return lt(this,function(w){switch(w.label){case 0:return n=[K({},e)],C={},[4,Ks(e.body,t)];case 1:switch(r=K.apply(void 0,n.concat([(C.body=w.sent(),C)])),o="UnknownError",o=oS(e,r.body),s=o,s){case"ExternalServiceException":return[3,2];case"com.amazonaws.cognitoidentity#ExternalServiceException":return[3,2];case"InternalErrorException":return[3,4];case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,4];case"InvalidParameterException":return[3,6];case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,6];case"LimitExceededException":return[3,8];case"com.amazonaws.cognitoidentity#LimitExceededException":return[3,8];case"NotAuthorizedException":return[3,10];case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,10];case"ResourceConflictException":return[3,12];case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,12];case"ResourceNotFoundException":return[3,14];case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,14];case"TooManyRequestsException":return[3,16];case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,16]}return[3,18];case 2:return a=[{}],[4,Xw(r)];case 3:return i=K.apply(void 0,[K.apply(void 0,a.concat([w.sent()])),{name:o,$metadata:Ue(e)}]),[3,19];case 4:return c=[{}],[4,Jw(r)];case 5:return i=K.apply(void 0,[K.apply(void 0,c.concat([w.sent()])),{name:o,$metadata:Ue(e)}]),[3,19];case 6:return u=[{}],[4,Zw(r)];case 7:return i=K.apply(void 0,[K.apply(void 0,u.concat([w.sent()])),{name:o,$metadata:Ue(e)}]),[3,19];case 8:return l=[{}],[4,fI(r)];case 9:return i=K.apply(void 0,[K.apply(void 0,l.concat([w.sent()])),{name:o,$metadata:Ue(e)}]),[3,19];case 10:return f=[{}],[4,Qw(r)];case 11:return i=K.apply(void 0,[K.apply(void 0,f.concat([w.sent()])),{name:o,$metadata:Ue(e)}]),[3,19];case 12:return d=[{}],[4,eS(r)];case 13:return i=K.apply(void 0,[K.apply(void 0,d.concat([w.sent()])),{name:o,$metadata:Ue(e)}]),[3,19];case 14:return h=[{}],[4,tS(r)];case 15:return i=K.apply(void 0,[K.apply(void 0,h.concat([w.sent()])),{name:o,$metadata:Ue(e)}]),[3,19];case 16:return m=[{}],[4,rS(r)];case 17:return i=K.apply(void 0,[K.apply(void 0,m.concat([w.sent()])),{name:o,$metadata:Ue(e)}]),[3,19];case 18:y=r.body,o=y.code||y.Code||o,i=K(K({},y),{name:""+o,message:y.message||y.Message||o,$fault:"client",$metadata:Ue(e)}),w.label=19;case 19:return _=i.message||i.Message||o,i.message=_,delete i.Message,[2,Promise.reject(Object.assign(new Error(_),i))]}})})},Xw=function(e,t){return ct(void 0,void 0,void 0,function(){var r,n,i;return lt(this,function(o){return r=e.body,n=pI(r),i=K({name:"ExternalServiceException",$fault:"client",$metadata:Ue(e)},n),[2,i]})})},Jw=function(e,t){return ct(void 0,void 0,void 0,function(){var r,n,i;return lt(this,function(o){return r=e.body,n=yI(r),i=K({name:"InternalErrorException",$fault:"server",$metadata:Ue(e)},n),[2,i]})})},lI=function(e,t){return ct(void 0,void 0,void 0,function(){var r,n,i;return lt(this,function(o){return r=e.body,n=wI(r),i=K({name:"InvalidIdentityPoolConfigurationException",$fault:"client",$metadata:Ue(e)},n),[2,i]})})},Zw=function(e,t){return ct(void 0,void 0,void 0,function(){var r,n,i;return lt(this,function(o){return r=e.body,n=SI(r),i=K({name:"InvalidParameterException",$fault:"client",$metadata:Ue(e)},n),[2,i]})})},fI=function(e,t){return ct(void 0,void 0,void 0,function(){var r,n,i;return lt(this,function(o){return r=e.body,n=_I(r),i=K({name:"LimitExceededException",$fault:"client",$metadata:Ue(e)},n),[2,i]})})},Qw=function(e,t){return ct(void 0,void 0,void 0,function(){var r,n,i;return lt(this,function(o){return r=e.body,n=bI(r),i=K({name:"NotAuthorizedException",$fault:"client",$metadata:Ue(e)},n),[2,i]})})},eS=function(e,t){return ct(void 0,void 0,void 0,function(){var r,n,i;return lt(this,function(o){return r=e.body,n=CI(r),i=K({name:"ResourceConflictException",$fault:"client",$metadata:Ue(e)},n),[2,i]})})},tS=function(e,t){return ct(void 0,void 0,void 0,function(){var r,n,i;return lt(this,function(o){return r=e.body,n=EI(r),i=K({name:"ResourceNotFoundException",$fault:"client",$metadata:Ue(e)},n),[2,i]})})},rS=function(e,t){return ct(void 0,void 0,void 0,function(){var r,n,i;return lt(this,function(o){return r=e.body,n=xI(r),i=K({name:"TooManyRequestsException",$fault:"client",$metadata:Ue(e)},n),[2,i]})})},dI=function(e,t){return K(K(K({},e.CustomRoleArn!==void 0&&e.CustomRoleArn!==null&&{CustomRoleArn:e.CustomRoleArn}),e.IdentityId!==void 0&&e.IdentityId!==null&&{IdentityId:e.IdentityId}),e.Logins!==void 0&&e.Logins!==null&&{Logins:nS(e.Logins)})},hI=function(e,t){return K(K(K({},e.AccountId!==void 0&&e.AccountId!==null&&{AccountId:e.AccountId}),e.IdentityPoolId!==void 0&&e.IdentityPoolId!==null&&{IdentityPoolId:e.IdentityPoolId}),e.Logins!==void 0&&e.Logins!==null&&{Logins:nS(e.Logins)})},nS=function(e,t){return Object.entries(e).reduce(function(r,n){var i,o=TA(n,2),s=o[0],a=o[1];return a===null?r:K(K({},r),(i={},i[s]=a,i))},{})},gI=function(e,t){return{AccessKeyId:e.AccessKeyId!==void 0&&e.AccessKeyId!==null?e.AccessKeyId:void 0,Expiration:e.Expiration!==void 0&&e.Expiration!==null?new Date(Math.round(e.Expiration*1e3)):void 0,SecretKey:e.SecretKey!==void 0&&e.SecretKey!==null?e.SecretKey:void 0,SessionToken:e.SessionToken!==void 0&&e.SessionToken!==null?e.SessionToken:void 0}},pI=function(e,t){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},vI=function(e,t){return{Credentials:e.Credentials!==void 0&&e.Credentials!==null?gI(e.Credentials):void 0,IdentityId:e.IdentityId!==void 0&&e.IdentityId!==null?e.IdentityId:void 0}},mI=function(e,t){return{IdentityId:e.IdentityId!==void 0&&e.IdentityId!==null?e.IdentityId:void 0}},yI=function(e,t){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},wI=function(e,t){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},SI=function(e,t){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},_I=function(e,t){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},bI=function(e,t){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},CI=function(e,t){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},EI=function(e,t){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},xI=function(e,t){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},Ue=function(e){var t;return{httpStatusCode:e.statusCode,requestId:(t=e.headers["x-amzn-requestid"])!==null&&t!==void 0?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},AI=function(e,t){return e===void 0&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},II=function(e,t){return AI(e,t).then(function(r){return t.utf8Encoder(r)})},iS=function(e,t,r,n,i){return ct(void 0,void 0,void 0,function(){var o,s,a,c,u,l;return lt(this,function(f){switch(f.label){case 0:return[4,e.endpoint()];case 1:return o=f.sent(),s=o.hostname,a=o.protocol,c=a===void 0?"https":a,u=o.port,l={protocol:c,hostname:s,port:u,method:"POST",path:r,headers:t},n!==void 0&&(l.hostname=n),i!==void 0&&(l.body=i),[2,new Xe(l)]}})})},Ks=function(e,t){return II(e,t).then(function(r){return r.length?JSON.parse(r):{}})},oS=function(e,t){var r=function(o,s){return Object.keys(o).find(function(a){return a.toLowerCase()===s.toLowerCase()})},n=function(o){var s=o;return s.indexOf(":")>=0&&(s=s.split(":")[0]),s.indexOf("#")>=0&&(s=s.split("#")[1]),s},i=r(e.headers,"x-amzn-errortype");return i!==void 0?n(e.headers[i]):t.code!==void 0?n(t.code):t.__type!==void 0?n(t.__type):""},zu=function(e){kl(t,e);function t(r){var n=e.call(this)||this;return n.input=r,n}return t.prototype.resolveMiddleware=function(r,n,i){this.middlewareStack.use(jt(n,this.serialize,this.deserialize));var o=r.concat(this.middlewareStack),s=n.logger,a="CognitoIdentityClient",c="GetCredentialsForIdentityCommand",u={logger:s,clientName:a,commandName:c,inputFilterSensitiveLog:Nu.filterSensitiveLog,outputFilterSensitiveLog:Du.filterSensitiveLog},l=n.requestHandler;return o.resolve(function(f){return l.handle(f.request,i||{})},u)},t.prototype.serialize=function(r,n){return iI(r,n)},t.prototype.deserialize=function(r,n){return sI(r,n)},t}(qt),Fi=function(e){kl(t,e);function t(r){var n=e.call(this)||this;return n.input=r,n}return t.prototype.resolveMiddleware=function(r,n,i){this.middlewareStack.use(jt(n,this.serialize,this.deserialize));var o=r.concat(this.middlewareStack),s=n.logger,a="CognitoIdentityClient",c="GetIdCommand",u={logger:s,clientName:a,commandName:c,inputFilterSensitiveLog:Bu.filterSensitiveLog,outputFilterSensitiveLog:Fu.filterSensitiveLog},l=n.requestHandler;return o.resolve(function(f){return l.handle(f.request,i||{})},u)},t.prototype.serialize=function(r,n){return oI(r,n)},t.prototype.deserialize=function(r,n){return uI(r,n)},t}(qt),qs=function(e){T.exports.__extends(t,e);function t(r,n){n===void 0&&(n=!0);var i=e.call(this,r)||this;return i.tryNextLink=n,i}return t}(Error);function sS(e){return Promise.all(Object.keys(e).reduce(function(t,r){var n=e[r];return typeof n=="string"?t.push([r,n]):t.push(n().then(function(i){return[r,i]})),t},[])).then(function(t){return t.reduce(function(r,n){var i=T.exports.__read(n,2),o=i[0],s=i[1];return r[o]=s,r},{})})}function Ri(e){var t=this;return function(){return T.exports.__awaiter(t,void 0,void 0,function(){var r,n,i,o,s,a,c,u,l,f,d,h,m;return T.exports.__generator(this,function(y){switch(y.label){case 0:return f=(l=e.client).send,d=zu.bind,m={CustomRoleArn:e.customRoleArn,IdentityId:e.identityId},e.logins?[4,sS(e.logins)]:[3,2];case 1:return h=y.sent(),[3,3];case 2:h=void 0,y.label=3;case 3:return[4,f.apply(l,[new(d.apply(zu,[void 0,(m.Logins=h,m)]))])];case 4:return r=y.sent().Credentials,n=r===void 0?PI():r,i=n.AccessKeyId,o=i===void 0?TI():i,s=n.Expiration,a=n.SecretKey,c=a===void 0?kI():a,u=n.SessionToken,[2,{identityId:e.identityId,accessKeyId:o,secretAccessKey:c,sessionToken:u,expiration:s}]}})})}}function TI(){throw new qs("Response from Amazon Cognito contained no access key ID")}function PI(){throw new qs("Response from Amazon Cognito contained no credentials")}function kI(){throw new qs("Response from Amazon Cognito contained no secret key")}var ba="IdentityIds",RI=function(){function e(t){t===void 0&&(t="aws:cognito-identity-ids"),this.dbName=t}return e.prototype.getItem=function(t){return this.withObjectStore("readonly",function(r){var n=r.get(t);return new Promise(function(i){n.onerror=function(){return i(null)},n.onsuccess=function(){return i(n.result?n.result.value:null)}})}).catch(function(){return null})},e.prototype.removeItem=function(t){return this.withObjectStore("readwrite",function(r){var n=r.delete(t);return new Promise(function(i,o){n.onerror=function(){return o(n.error)},n.onsuccess=function(){return i()}})})},e.prototype.setItem=function(t,r){return this.withObjectStore("readwrite",function(n){var i=n.put({id:t,value:r});return new Promise(function(o,s){i.onerror=function(){return s(i.error)},i.onsuccess=function(){return o()}})})},e.prototype.getDb=function(){var t=self.indexedDB.open(this.dbName,1);return new Promise(function(r,n){t.onsuccess=function(){r(t.result)},t.onerror=function(){n(t.error)},t.onblocked=function(){n(new Error("Unable to access DB"))},t.onupgradeneeded=function(){var i=t.result;i.onerror=function(){n(new Error("Failed to create object store"))},i.createObjectStore(ba,{keyPath:"id"})}})},e.prototype.withObjectStore=function(t,r){return this.getDb().then(function(n){var i=n.transaction(ba,t);return i.oncomplete=function(){return n.close()},new Promise(function(o,s){i.onerror=function(){return s(i.error)},o(r(i.objectStore(ba)))}).catch(function(o){throw n.close(),o})})},e}(),OI=function(){function e(t){t===void 0&&(t={}),this.store=t}return e.prototype.getItem=function(t){return t in this.store?this.store[t]:null},e.prototype.removeItem=function(t){delete this.store[t]},e.prototype.setItem=function(t,r){this.store[t]=r},e}(),UI=new OI;function LI(){return typeof self=="object"&&self.indexedDB?new RI:typeof window=="object"&&window.localStorage?window.localStorage:UI}function MI(e){var t=this,r=e.accountId,n=e.cache,i=n===void 0?LI():n,o=e.client,s=e.customRoleArn,a=e.identityPoolId,c=e.logins,u=e.userIdentifier,l=u===void 0?!c||Object.keys(c).length===0?"ANONYMOUS":void 0:u,f=l?"aws:cognito-identity-credentials:"+a+":"+l:void 0,d=function(){return T.exports.__awaiter(t,void 0,void 0,function(){var h,m,y,_,C,w,A,I,O;return T.exports.__generator(this,function(D){switch(D.label){case 0:return m=f,m?[4,i.getItem(f)]:[3,2];case 1:m=D.sent(),D.label=2;case 2:return h=m,h?[3,7]:(w=(C=o).send,A=Fi.bind,O={AccountId:r,IdentityPoolId:a},c?[4,sS(c)]:[3,4]);case 3:return I=D.sent(),[3,5];case 4:I=void 0,D.label=5;case 5:return[4,w.apply(C,[new(A.apply(Fi,[void 0,(O.Logins=I,O)]))])];case 6:y=D.sent().IdentityId,_=y===void 0?NI():y,h=_,f&&Promise.resolve(i.setItem(f,h)).catch(function(){}),D.label=7;case 7:return d=Ri({client:o,customRoleArn:s,logins:c,identityId:h}),[2,d()]}})})};return function(){return d().catch(function(h){return T.exports.__awaiter(t,void 0,void 0,function(){return T.exports.__generator(this,function(m){throw f&&Promise.resolve(i.removeItem(f)).catch(function(){}),h})})})}}function NI(){throw new qs("Response from Amazon Cognito contained no identity ID")}var is=globalThis&&globalThis.__assign||function(){return is=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},is.apply(this,arguments)},wt=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(f){s(f)}}function c(l){try{u(n.throw(l))}catch(f){s(f)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})},St=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},be=new qe("Credentials"),DI=50*60*1e3,BI="CognitoIdentityId-",FI=function(){function e(t){this._gettingCredPromise=null,this._refreshHandlers={},this.Auth=void 0,this.configure(t),this._refreshHandlers.google=xA.refreshGoogleToken,this._refreshHandlers.facebook=AA.refreshFacebookToken}return e.prototype.getModuleName=function(){return"Credentials"},e.prototype.getCredSource=function(){return this._credentials_source},e.prototype.configure=function(t){if(!t)return this._config||{};this._config=Object.assign({},this._config,t);var r=this._config.refreshHandlers;return r&&(this._refreshHandlers=is(is({},this._refreshHandlers),r)),this._storage=this._config.storage,this._storage||(this._storage=new zs().getStorage()),this._storageSync=Promise.resolve(),typeof this._storage.sync=="function"&&(this._storageSync=this._storage.sync()),this._config},e.prototype.get=function(){return be.debug("getting credentials"),this._pickupCredentials()},e.prototype._getCognitoIdentityIdStorageKey=function(t){return""+BI+t},e.prototype._pickupCredentials=function(){return be.debug("picking up credentials"),!this._gettingCredPromise||!this._gettingCredPromise.isPending()?(be.debug("getting new cred promise"),this._gettingCredPromise=y1(this._keepAlive())):be.debug("getting old cred promise"),this._gettingCredPromise},e.prototype._keepAlive=function(){return wt(this,void 0,void 0,function(){var t,r,n,i,o,s,a,c;return St(this,function(u){switch(u.label){case 0:if(be.debug("checking if credentials exists and not expired"),t=this._credentials,t&&!this._isExpired(t)&&!this._isPastTTL())return be.debug("credentials not changed and not expired, directly return"),[2,Promise.resolve(t)];if(be.debug("need to get a new credential or refresh the existing one"),r=this.Auth,n=r===void 0?Ut.Auth:r,!n||typeof n.currentUserCredentials!="function")return[2,Promise.reject("No Auth module registered in Amplify")];if(!(!this._isExpired(t)&&this._isPastTTL()))return[3,6];be.debug("ttl has passed but token is not yet expired"),u.label=1;case 1:return u.trys.push([1,5,,6]),[4,n.currentUserPoolUser()];case 2:return i=u.sent(),[4,n.currentSession()];case 3:return o=u.sent(),s=o.refreshToken,a=new Promise(function(l,f){i.refreshSession(s,function(d,h){return d?f(d):l(h)})}),[4,a];case 4:return u.sent(),[3,6];case 5:return c=u.sent(),be.debug("Error attempting to refreshing the session",c),[3,6];case 6:return[2,n.currentUserCredentials()]}})})},e.prototype.refreshFederatedToken=function(t){be.debug("Getting federated credentials");var r=t.provider,n=t.user,i=t.token,o=t.identity_id,s=t.expires_at;s=new Date(s).getFullYear()===1970?s*1e3:s;var a=this;return be.debug("checking if federated jwt token expired"),s>new Date().getTime()?(be.debug("token not expired"),this._setCredentialsFromFederation({provider:r,token:i,user:n,identity_id:o,expires_at:s})):a._refreshHandlers[r]&&typeof a._refreshHandlers[r]=="function"?(be.debug("getting refreshed jwt token from federation provider"),this._providerRefreshWithRetry({refreshHandler:a._refreshHandlers[r],provider:r,user:n})):(be.debug("no refresh handler for provider:",r),this.clear(),Promise.reject("no refresh handler for provider"))},e.prototype._providerRefreshWithRetry=function(t){var r=this,n=t.refreshHandler,i=t.provider,o=t.user,s=10*1e3;return K1(n,[],s).then(function(a){return be.debug("refresh federated token sucessfully",a),r._setCredentialsFromFederation({provider:i,token:a.token,user:o,identity_id:a.identity_id,expires_at:a.expires_at})}).catch(function(a){var c=typeof a=="string"&&a.toLowerCase().lastIndexOf("network error",a.length)===0;return c||r.clear(),be.debug("refresh federated token failed",a),Promise.reject("refreshing federation token failed: "+a)})},e.prototype._isExpired=function(t){if(!t)return be.debug("no credentials for expiration check"),!0;be.debug("are these credentials expired?",t);var r=Date.now(),n=t.expiration;return n.getTime()<=r},e.prototype._isPastTTL=function(){return this._nextCredentialsRefresh<=Date.now()},e.prototype._setCredentialsForGuest=function(){return wt(this,void 0,void 0,function(){var t,r,n,i,o,s,a,c,u,l,f=this;return St(this,function(d){switch(d.label){case 0:return be.debug("setting credentials for guest"),t=this._config,r=t.identityPoolId,n=t.region,i=t.mandatorySignIn,i?[2,Promise.reject("cannot get guest credentials when mandatory signin enabled")]:r?n?(s=this,[4,this._getGuestIdentityId()]):(be.debug("region is not configured for getting the credentials"),[2,Promise.reject("region is not configured for getting the credentials")]):(be.debug("No Cognito Identity pool provided for unauthenticated access"),[2,Promise.reject("No Cognito Identity pool provided for unauthenticated access")]);case 1:return o=s._identityId=d.sent(),a=new _a({region:n,customUserAgent:qo()}),c=void 0,o?(u={identityId:o,client:a},c=Ri(u)()):(l=function(){return wt(f,void 0,void 0,function(){var h,m,y;return St(this,function(_){switch(_.label){case 0:return[4,a.send(new Fi({IdentityPoolId:r}))];case 1:return h=_.sent().IdentityId,this._identityId=h,m={client:a,identityId:h},y=Ri(m),[2,y()]}})})},c=l().catch(function(h){return wt(f,void 0,void 0,function(){return St(this,function(m){throw h})})})),[2,this._loadCredentials(c,"guest",!1,null).then(function(h){return h}).catch(function(h){return wt(f,void 0,void 0,function(){var m,y=this;return St(this,function(_){switch(_.label){case 0:return h.name==="ResourceNotFoundException"&&h.message==="Identity '"+o+"' not found."?(be.debug("Failed to load guest credentials"),[4,this._removeGuestIdentityId()]):[3,2];case 1:return _.sent(),m=function(){return wt(y,void 0,void 0,function(){var C,w,A;return St(this,function(I){switch(I.label){case 0:return[4,a.send(new Fi({IdentityPoolId:r}))];case 1:return C=I.sent().IdentityId,this._identityId=C,w={client:a,identityId:C},A=Ri(w),[2,A()]}})})},c=m().catch(function(C){return wt(y,void 0,void 0,function(){return St(this,function(w){throw C})})}),[2,this._loadCredentials(c,"guest",!1,null)];case 2:return[2,h]}})})})]}})})},e.prototype._setCredentialsFromFederation=function(t){var r=t.provider,n=t.token,i=t.identity_id,o={google:"accounts.google.com",facebook:"graph.facebook.com",amazon:"www.amazon.com",developer:"cognito-identity.amazonaws.com"},s=o[r]||r;if(!s)return Promise.reject("You must specify a federated provider");var a={};a[s]=n;var c=this._config,u=c.identityPoolId,l=c.region;if(!u)return be.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!l)return be.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var f=new _a({region:l,customUserAgent:qo()}),d=void 0;if(i){var h={identityId:i,logins:a,client:f};d=Ri(h)()}else{var h={logins:a,identityPoolId:u,client:f};d=MI(h)()}return this._loadCredentials(d,"federated",!0,t)},e.prototype._setCredentialsFromSession=function(t){var r=this;be.debug("set credentials from session");var n=t.getIdToken().getJwtToken(),i=this._config,o=i.region,s=i.userPoolId,a=i.identityPoolId;if(!a)return be.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!o)return be.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var c="cognito-idp."+o+".amazonaws.com/"+s,u={};u[c]=n;var l=new _a({region:o,customUserAgent:qo()}),f=function(){return wt(r,void 0,void 0,function(){var h,m,y,_,C,w,A,I,O,D;return St(this,function(q){switch(q.label){case 0:return[4,this._getGuestIdentityId()];case 1:return h=q.sent(),h?[3,3]:[4,l.send(new Fi({IdentityPoolId:a,Logins:u}))];case 2:y=q.sent().IdentityId,m=y,q.label=3;case 3:return[4,l.send(new zu({IdentityId:h||m,Logins:u}))];case 4:return _=q.sent(),C=_.Credentials,w=C.AccessKeyId,A=C.Expiration,I=C.SecretKey,O=C.SessionToken,D=_.IdentityId,this._identityId=D,h?(be.debug("The guest identity "+h+" has been successfully linked to the logins"),h===D&&be.debug("The guest identity "+h+" has become the primary identity"),[4,this._removeGuestIdentityId()]):[3,6];case 5:q.sent(),q.label=6;case 6:return[2,{accessKeyId:w,secretAccessKey:I,sessionToken:O,expiration:A,identityId:D}]}})})},d=f().catch(function(h){return wt(r,void 0,void 0,function(){return St(this,function(m){throw h})})});return this._loadCredentials(d,"userPool",!0,null)},e.prototype._loadCredentials=function(t,r,n,i){var o=this,s=this;return new Promise(function(a,c){t.then(function(u){return wt(o,void 0,void 0,function(){var l,f,d,h,m;return St(this,function(y){switch(y.label){case 0:if(be.debug("Load credentials successfully",u),this._identityId&&!u.identityId&&(u.identityId=this._identityId),s._credentials=u,s._credentials.authenticated=n,s._credentials_source=r,s._nextCredentialsRefresh=new Date().getTime()+DI,r==="federated"){l=Object.assign({id:this._credentials.identityId},i.user),f=i.provider,d=i.token,h=i.expires_at,m=i.identity_id;try{this._storage.setItem("aws-amplify-federatedInfo",JSON.stringify({provider:f,token:d,user:l,expires_at:h,identity_id:m}))}catch(_){be.debug("Failed to put federated info into auth storage",_)}}return r!=="guest"?[3,2]:[4,this._setGuestIdentityId(u.identityId)];case 1:y.sent(),y.label=2;case 2:return a(s._credentials),[2]}})})}).catch(function(u){if(u){be.debug("Failed to load credentials",t),be.debug("Error loading credentials",u),c(u);return}})})},e.prototype.set=function(t,r){return r==="session"?this._setCredentialsFromSession(t):r==="federation"?this._setCredentialsFromFederation(t):r==="guest"?this._setCredentialsForGuest():(be.debug("no source specified for setting credentials"),Promise.reject("invalid source"))},e.prototype.clear=function(){return wt(this,void 0,void 0,function(){return St(this,function(t){return this._credentials=null,this._credentials_source=null,be.debug("removing aws-amplify-federatedInfo from storage"),this._storage.removeItem("aws-amplify-federatedInfo"),[2]})})},e.prototype._getGuestIdentityId=function(){return wt(this,void 0,void 0,function(){var t,r;return St(this,function(n){switch(n.label){case 0:t=this._config.identityPoolId,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this._storageSync];case 2:return n.sent(),[2,this._storage.getItem(this._getCognitoIdentityIdStorageKey(t))];case 3:return r=n.sent(),be.debug("Failed to get the cached guest identityId",r),[3,4];case 4:return[2]}})})},e.prototype._setGuestIdentityId=function(t){return wt(this,void 0,void 0,function(){var r,n;return St(this,function(i){switch(i.label){case 0:r=this._config.identityPoolId,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this._storageSync];case 2:return i.sent(),this._storage.setItem(this._getCognitoIdentityIdStorageKey(r),t),[3,4];case 3:return n=i.sent(),be.debug("Failed to cache guest identityId",n),[3,4];case 4:return[2]}})})},e.prototype._removeGuestIdentityId=function(){return wt(this,void 0,void 0,function(){var t;return St(this,function(r){return t=this._config.identityPoolId,be.debug("removing "+this._getCognitoIdentityIdStorageKey(t)+" from storage"),this._storage.removeItem(this._getCognitoIdentityIdStorageKey(t)),[2]})})},e.prototype.shear=function(t){return{accessKeyId:t.accessKeyId,sessionToken:t.sessionToken,secretAccessKey:t.secretAccessKey,identityId:t.identityId,authenticated:t.authenticated}},e}(),cr=new FI(null);Ut.register(cr);var zI=function(){function e(){this._logger=new qe("ServiceWorker")}return Object.defineProperty(e.prototype,"serviceWorker",{get:function(){return this._serviceWorker},enumerable:!0,configurable:!0}),e.prototype.register=function(t,r){var n=this;return t===void 0&&(t="/service-worker.js"),r===void 0&&(r="/"),this._logger.debug("registering "+t),this._logger.debug("registering service worker with scope "+r),new Promise(function(i,o){if(navigator&&"serviceWorker"in navigator)navigator.serviceWorker.register(t,{scope:r}).then(function(s){return s.installing?n._serviceWorker=s.installing:s.waiting?n._serviceWorker=s.waiting:s.active&&(n._serviceWorker=s.active),n._registration=s,n._setupListeners(),n._logger.debug("Service Worker Registration Success: "+s),i(s)}).catch(function(s){return n._logger.debug("Service Worker Registration Failed "+s),o(s)});else return o(new Error("Service Worker not available"))})},e.prototype.enablePush=function(t){var r=this;if(!this._registration)throw new Error("Service Worker not registered");return this._publicKey=t,new Promise(function(n,i){if(dr().isBrowser)r._registration.pushManager.getSubscription().then(function(o){if(o)r._subscription=o,r._logger.debug("User is subscribed to push: "+JSON.stringify(o)),n(o);else return r._logger.debug("User is NOT subscribed to push"),r._registration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:r._urlB64ToUint8Array(t)}).then(function(s){r._subscription=s,r._logger.debug("User subscribed: "+JSON.stringify(s)),n(s)}).catch(function(s){r._logger.error(s)})});else return i(new Error("Service Worker not available"))})},e.prototype._urlB64ToUint8Array=function(t){for(var r="=".repeat((4-t.length%4)%4),n=(t+r).replace(/\-/g,"+").replace(/_/g,"/"),i=window.atob(n),o=new Uint8Array(i.length),s=0;s<i.length;++s)o[s]=i.charCodeAt(s);return o},e.prototype.send=function(t){this._serviceWorker&&this._serviceWorker.postMessage(typeof t=="object"?JSON.stringify(t):t)},e.prototype._setupListeners=function(){var t=this;this._serviceWorker.addEventListener("statechange",function(r){var n=t._serviceWorker.state;t._logger.debug("ServiceWorker statechange: "+n),Ut.Analytics&&typeof Ut.Analytics.record=="function"&&Ut.Analytics.record({name:"ServiceWorker",attributes:{state:n}})}),this._serviceWorker.addEventListener("message",function(r){t._logger.debug("ServiceWorker message event: "+r)})},e}();/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var aS=jI,oh=$I,KI=decodeURIComponent,qI=encodeURIComponent,Po=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function jI(e,t){if(typeof e!="string")throw new TypeError("argument str must be a string");for(var r={},n=t||{},i=e.split(";"),o=n.decode||KI,s=0;s<i.length;s++){var a=i[s],c=a.indexOf("=");if(!(c<0)){var u=a.substring(0,c).trim();if(r[u]==null){var l=a.substring(c+1,a.length).trim();l[0]==='"'&&(l=l.slice(1,-1)),r[u]=HI(l,o)}}}return r}function $I(e,t,r){var n=r||{},i=n.encode||qI;if(typeof i!="function")throw new TypeError("option encode is invalid");if(!Po.test(e))throw new TypeError("argument name is invalid");var o=i(t);if(o&&!Po.test(o))throw new TypeError("argument val is invalid");var s=e+"="+o;if(n.maxAge!=null){var a=n.maxAge-0;if(isNaN(a)||!isFinite(a))throw new TypeError("option maxAge is invalid");s+="; Max-Age="+Math.floor(a)}if(n.domain){if(!Po.test(n.domain))throw new TypeError("option domain is invalid");s+="; Domain="+n.domain}if(n.path){if(!Po.test(n.path))throw new TypeError("option path is invalid");s+="; Path="+n.path}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");s+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.sameSite){var c=typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite;switch(c){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return s}function HI(e,t){try{return t(e)}catch{return e}}function VI(){return typeof document=="object"&&typeof document.cookie=="string"}function GI(e,t){return typeof e=="string"?aS(e,t):typeof e=="object"&&e!==null?e:{}}function WI(e,t){return typeof t>"u"&&(t=!e||e[0]!=="{"&&e[0]!=="["&&e[0]!=='"'),!t}function sh(e,t){t===void 0&&(t={});var r=YI(e);if(WI(r,t.doNotParse))try{return JSON.parse(r)}catch{}return e}function YI(e){return e&&e[0]==="j"&&e[1]===":"?e.substr(2):e}var _n=globalThis&&globalThis.__assign||function(){return _n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},_n.apply(this,arguments)},XI=function(){function e(t,r){var n=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=GI(t,r),new Promise(function(){n.HAS_DOCUMENT_COOKIE=VI()}).catch(function(){})}return e.prototype._updateBrowserValues=function(t){!this.HAS_DOCUMENT_COOKIE||(this.cookies=aS(document.cookie,t))},e.prototype._emitChange=function(t){for(var r=0;r<this.changeListeners.length;++r)this.changeListeners[r](t)},e.prototype.get=function(t,r,n){return r===void 0&&(r={}),this._updateBrowserValues(n),sh(this.cookies[t],r)},e.prototype.getAll=function(t,r){t===void 0&&(t={}),this._updateBrowserValues(r);var n={};for(var i in this.cookies)n[i]=sh(this.cookies[i],t);return n},e.prototype.set=function(t,r,n){var i;typeof r=="object"&&(r=JSON.stringify(r)),this.cookies=_n(_n({},this.cookies),(i={},i[t]=r,i)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=oh(t,r,n)),this._emitChange({name:t,value:r,options:n})},e.prototype.remove=function(t,r){var n=r=_n(_n({},r),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=_n({},this.cookies),delete this.cookies[t],this.HAS_DOCUMENT_COOKIE&&(document.cookie=oh(t,"",n)),this._emitChange({name:t,value:void 0,options:r})},e.prototype.addChangeListener=function(t){this.changeListeners.push(t)},e.prototype.removeChangeListener=function(t){var r=this.changeListeners.indexOf(t);r>=0&&this.changeListeners.splice(r,1)},e}();const Ca=XI;var ah=dr().isBrowser,JI=function(){function e(t){t===void 0&&(t={}),this.cookies=new Ca,this.store=ah?window.localStorage:Object.create(null),this.cookies=t.req?new Ca(t.req.headers.cookie):new Ca,Object.assign(this.store,this.cookies.getAll())}return Object.defineProperty(e.prototype,"length",{get:function(){return Object.entries(this.store).length},enumerable:!0,configurable:!0}),e.prototype.clear=function(){var t=this;Array.from(new Array(this.length)).map(function(r,n){return t.key(n)}).forEach(function(r){return t.removeItem(r)})},e.prototype.getItem=function(t){return this.getLocalItem(t)},e.prototype.getLocalItem=function(t){return Object.prototype.hasOwnProperty.call(this.store,t)?this.store[t]:null},e.prototype.getUniversalItem=function(t){return this.cookies.get(t)},e.prototype.key=function(t){return Object.keys(this.store)[t]},e.prototype.removeItem=function(t){this.removeLocalItem(t),this.removeUniversalItem(t)},e.prototype.removeLocalItem=function(t){delete this.store[t]},e.prototype.removeUniversalItem=function(t){this.cookies.remove(t,{path:"/"})},e.prototype.setItem=function(t,r){this.setLocalItem(t,r);var n=t.split(".").pop();switch(n){case"LastAuthUser":case"accessToken":case"refreshToken":case"idToken":ah?this.setUniversalItem(t,r):this.setLocalItem(t,r)}},e.prototype.setLocalItem=function(t,r){this.store[t]=r},e.prototype.setUniversalItem=function(t,r){this.cookies.set(t,r,{path:"/",sameSite:!0,secure:window.location.hostname!=="localhost"})},e}();Ar.userAgent;var os;(function(e){e.Cognito="COGNITO",e.Google="Google",e.Facebook="Facebook",e.Amazon="LoginWithAmazon",e.Apple="SignInWithApple"})(os||(os={}));function Ea(e){var t=["provider"];return e&&!!t.find(function(r){return e.hasOwnProperty(r)})}function ZI(e){var t=["customProvider"];return e&&!!t.find(function(r){return e.hasOwnProperty(r)})}function QI(e){var t=["customState"];return e&&!!t.find(function(r){return e.hasOwnProperty(r)})}function En(e){return e.redirectSignIn!==void 0}var Pe;(function(e){e.NoConfig="noConfig",e.MissingAuthConfig="missingAuthConfig",e.EmptyUsername="emptyUsername",e.InvalidUsername="invalidUsername",e.EmptyPassword="emptyPassword",e.EmptyCode="emptyCode",e.SignUpError="signUpError",e.NoMFA="noMFA",e.InvalidMFA="invalidMFA",e.EmptyChallengeResponse="emptyChallengeResponse",e.NoUserSession="noUserSession",e.Default="default",e.DeviceConfig="deviceConfig",e.NetworkError="networkError",e.AutoSignInError="autoSignInError"})(Pe||(Pe={}));function eT(e){return!!e.username}var uh;(function(e){e.API_KEY="API_KEY",e.AWS_IAM="AWS_IAM",e.OPENID_CONNECT="OPENID_CONNECT",e.AMAZON_COGNITO_USER_POOLS="AMAZON_COGNITO_USER_POOLS",e.AWS_LAMBDA="AWS_LAMBDA"})(uh||(uh={}));/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var ch=function(){function e(r){var n=r||{},i=n.ValidationData,o=n.Username,s=n.Password,a=n.AuthParameters,c=n.ClientMetadata;this.validationData=i||{},this.authParameters=a||{},this.clientMetadata=c||{},this.username=o,this.password=s}var t=e.prototype;return t.getUsername=function(){return this.username},t.getPassword=function(){return this.password},t.getValidationData=function(){return this.validationData},t.getAuthParameters=function(){return this.authParameters},t.getClientMetadata=function(){return this.clientMetadata},e}(),Be={},js={};js.byteLength=nT;js.toByteArray=oT;js.fromByteArray=uT;var ur=[],Dt=[],tT=typeof Uint8Array<"u"?Uint8Array:Array,xa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Nn=0,rT=xa.length;Nn<rT;++Nn)ur[Nn]=xa[Nn],Dt[xa.charCodeAt(Nn)]=Nn;Dt["-".charCodeAt(0)]=62;Dt["_".charCodeAt(0)]=63;function uS(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function nT(e){var t=uS(e),r=t[0],n=t[1];return(r+n)*3/4-n}function iT(e,t,r){return(t+r)*3/4-r}function oT(e){var t,r=uS(e),n=r[0],i=r[1],o=new tT(iT(e,n,i)),s=0,a=i>0?n-4:n,c;for(c=0;c<a;c+=4)t=Dt[e.charCodeAt(c)]<<18|Dt[e.charCodeAt(c+1)]<<12|Dt[e.charCodeAt(c+2)]<<6|Dt[e.charCodeAt(c+3)],o[s++]=t>>16&255,o[s++]=t>>8&255,o[s++]=t&255;return i===2&&(t=Dt[e.charCodeAt(c)]<<2|Dt[e.charCodeAt(c+1)]>>4,o[s++]=t&255),i===1&&(t=Dt[e.charCodeAt(c)]<<10|Dt[e.charCodeAt(c+1)]<<4|Dt[e.charCodeAt(c+2)]>>2,o[s++]=t>>8&255,o[s++]=t&255),o}function sT(e){return ur[e>>18&63]+ur[e>>12&63]+ur[e>>6&63]+ur[e&63]}function aT(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(e[o+2]&255),i.push(sT(n));return i.join("")}function uT(e){for(var t,r=e.length,n=r%3,i=[],o=16383,s=0,a=r-n;s<a;s+=o)i.push(aT(e,s,s+o>a?a:s+o));return n===1?(t=e[r-1],i.push(ur[t>>2]+ur[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push(ur[t>>10]+ur[t>>4&63]+ur[t<<2&63]+"=")),i.join("")}var Rl={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Rl.read=function(e,t,r,n,i){var o,s,a=i*8-n-1,c=(1<<a)-1,u=c>>1,l=-7,f=r?i-1:0,d=r?-1:1,h=e[t+f];for(f+=d,o=h&(1<<-l)-1,h>>=-l,l+=a;l>0;o=o*256+e[t+f],f+=d,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=n;l>0;s=s*256+e[t+f],f+=d,l-=8);if(o===0)o=1-u;else{if(o===c)return s?NaN:(h?-1:1)*(1/0);s=s+Math.pow(2,n),o=o-u}return(h?-1:1)*s*Math.pow(2,o-n)};Rl.write=function(e,t,r,n,i,o){var s,a,c,u=o*8-i-1,l=(1<<u)-1,f=l>>1,d=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:o-1,m=n?1:-1,y=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),s+f>=1?t+=d/c:t+=d*Math.pow(2,1-f),t*c>=2&&(s++,c/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(t*c-1)*Math.pow(2,i),s=s+f):(a=t*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;e[r+h]=a&255,h+=m,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[r+h]=s&255,h+=m,s/=256,u-=8);e[r+h-m]|=y*128};var cT={}.toString,lT=Array.isArray||function(e){return cT.call(e)=="[object Array]"};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */(function(e){var t=js,r=Rl,n=lT;e.Buffer=a,e.SlowBuffer=C,e.INSPECT_MAX_BYTES=50,a.TYPED_ARRAY_SUPPORT=nt.TYPED_ARRAY_SUPPORT!==void 0?nt.TYPED_ARRAY_SUPPORT:i(),e.kMaxLength=o();function i(){try{var S=new Uint8Array(1);return S.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},S.foo()===42&&typeof S.subarray=="function"&&S.subarray(1,1).byteLength===0}catch{return!1}}function o(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(S,v){if(o()<v)throw new RangeError("Invalid typed array length");return a.TYPED_ARRAY_SUPPORT?(S=new Uint8Array(v),S.__proto__=a.prototype):(S===null&&(S=new a(v)),S.length=v),S}function a(S,v,g){if(!a.TYPED_ARRAY_SUPPORT&&!(this instanceof a))return new a(S,v,g);if(typeof S=="number"){if(typeof v=="string")throw new Error("If encoding is specified then the first argument must be a string");return f(this,S)}return c(this,S,v,g)}a.poolSize=8192,a._augment=function(S){return S.__proto__=a.prototype,S};function c(S,v,g,b){if(typeof v=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&v instanceof ArrayBuffer?m(S,v,g,b):typeof v=="string"?d(S,v,g):y(S,v)}a.from=function(S,v,g){return c(null,S,v,g)},a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0}));function u(S){if(typeof S!="number")throw new TypeError('"size" argument must be a number');if(S<0)throw new RangeError('"size" argument must not be negative')}function l(S,v,g,b){return u(v),v<=0?s(S,v):g!==void 0?typeof b=="string"?s(S,v).fill(g,b):s(S,v).fill(g):s(S,v)}a.alloc=function(S,v,g){return l(null,S,v,g)};function f(S,v){if(u(v),S=s(S,v<0?0:_(v)|0),!a.TYPED_ARRAY_SUPPORT)for(var g=0;g<v;++g)S[g]=0;return S}a.allocUnsafe=function(S){return f(null,S)},a.allocUnsafeSlow=function(S){return f(null,S)};function d(S,v,g){if((typeof g!="string"||g==="")&&(g="utf8"),!a.isEncoding(g))throw new TypeError('"encoding" must be a valid string encoding');var b=w(v,g)|0;S=s(S,b);var E=S.write(v,g);return E!==b&&(S=S.slice(0,E)),S}function h(S,v){var g=v.length<0?0:_(v.length)|0;S=s(S,g);for(var b=0;b<g;b+=1)S[b]=v[b]&255;return S}function m(S,v,g,b){if(v.byteLength,g<0||v.byteLength<g)throw new RangeError("'offset' is out of bounds");if(v.byteLength<g+(b||0))throw new RangeError("'length' is out of bounds");return g===void 0&&b===void 0?v=new Uint8Array(v):b===void 0?v=new Uint8Array(v,g):v=new Uint8Array(v,g,b),a.TYPED_ARRAY_SUPPORT?(S=v,S.__proto__=a.prototype):S=h(S,v),S}function y(S,v){if(a.isBuffer(v)){var g=_(v.length)|0;return S=s(S,g),S.length===0||v.copy(S,0,0,g),S}if(v){if(typeof ArrayBuffer<"u"&&v.buffer instanceof ArrayBuffer||"length"in v)return typeof v.length!="number"||X(v.length)?s(S,0):h(S,v);if(v.type==="Buffer"&&n(v.data))return h(S,v.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function _(S){if(S>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return S|0}function C(S){return+S!=S&&(S=0),a.alloc(+S)}a.isBuffer=function(v){return!!(v!=null&&v._isBuffer)},a.compare=function(v,g){if(!a.isBuffer(v)||!a.isBuffer(g))throw new TypeError("Arguments must be Buffers");if(v===g)return 0;for(var b=v.length,E=g.length,M=0,N=Math.min(b,E);M<N;++M)if(v[M]!==g[M]){b=v[M],E=g[M];break}return b<E?-1:E<b?1:0},a.isEncoding=function(v){switch(String(v).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(v,g){if(!n(v))throw new TypeError('"list" argument must be an Array of Buffers');if(v.length===0)return a.alloc(0);var b;if(g===void 0)for(g=0,b=0;b<v.length;++b)g+=v[b].length;var E=a.allocUnsafe(g),M=0;for(b=0;b<v.length;++b){var N=v[b];if(!a.isBuffer(N))throw new TypeError('"list" argument must be an Array of Buffers');N.copy(E,M),M+=N.length}return E};function w(S,v){if(a.isBuffer(S))return S.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(S)||S instanceof ArrayBuffer))return S.byteLength;typeof S!="string"&&(S=""+S);var g=S.length;if(g===0)return 0;for(var b=!1;;)switch(v){case"ascii":case"latin1":case"binary":return g;case"utf8":case"utf-8":case void 0:return ce(S).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return g*2;case"hex":return g>>>1;case"base64":return B(S).length;default:if(b)return ce(S).length;v=(""+v).toLowerCase(),b=!0}}a.byteLength=w;function A(S,v,g){var b=!1;if((v===void 0||v<0)&&(v=0),v>this.length||((g===void 0||g>this.length)&&(g=this.length),g<=0)||(g>>>=0,v>>>=0,g<=v))return"";for(S||(S="utf8");;)switch(S){case"hex":return de(this,v,g);case"utf8":case"utf-8":return V(this,v,g);case"ascii":return ue(this,v,g);case"latin1":case"binary":return me(this,v,g);case"base64":return j(this,v,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ee(this,v,g);default:if(b)throw new TypeError("Unknown encoding: "+S);S=(S+"").toLowerCase(),b=!0}}a.prototype._isBuffer=!0;function I(S,v,g){var b=S[v];S[v]=S[g],S[g]=b}a.prototype.swap16=function(){var v=this.length;if(v%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var g=0;g<v;g+=2)I(this,g,g+1);return this},a.prototype.swap32=function(){var v=this.length;if(v%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var g=0;g<v;g+=4)I(this,g,g+3),I(this,g+1,g+2);return this},a.prototype.swap64=function(){var v=this.length;if(v%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var g=0;g<v;g+=8)I(this,g,g+7),I(this,g+1,g+6),I(this,g+2,g+5),I(this,g+3,g+4);return this},a.prototype.toString=function(){var v=this.length|0;return v===0?"":arguments.length===0?V(this,0,v):A.apply(this,arguments)},a.prototype.equals=function(v){if(!a.isBuffer(v))throw new TypeError("Argument must be a Buffer");return this===v?!0:a.compare(this,v)===0},a.prototype.inspect=function(){var v="",g=e.INSPECT_MAX_BYTES;return this.length>0&&(v=this.toString("hex",0,g).match(/.{2}/g).join(" "),this.length>g&&(v+=" ... ")),"<Buffer "+v+">"},a.prototype.compare=function(v,g,b,E,M){if(!a.isBuffer(v))throw new TypeError("Argument must be a Buffer");if(g===void 0&&(g=0),b===void 0&&(b=v?v.length:0),E===void 0&&(E=0),M===void 0&&(M=this.length),g<0||b>v.length||E<0||M>this.length)throw new RangeError("out of range index");if(E>=M&&g>=b)return 0;if(E>=M)return-1;if(g>=b)return 1;if(g>>>=0,b>>>=0,E>>>=0,M>>>=0,this===v)return 0;for(var N=M-E,Z=b-g,ie=Math.min(N,Z),le=this.slice(E,M),ve=v.slice(g,b),he=0;he<ie;++he)if(le[he]!==ve[he]){N=le[he],Z=ve[he];break}return N<Z?-1:Z<N?1:0};function O(S,v,g,b,E){if(S.length===0)return-1;if(typeof g=="string"?(b=g,g=0):g>2147483647?g=2147483647:g<-2147483648&&(g=-2147483648),g=+g,isNaN(g)&&(g=E?0:S.length-1),g<0&&(g=S.length+g),g>=S.length){if(E)return-1;g=S.length-1}else if(g<0)if(E)g=0;else return-1;if(typeof v=="string"&&(v=a.from(v,b)),a.isBuffer(v))return v.length===0?-1:D(S,v,g,b,E);if(typeof v=="number")return v=v&255,a.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?E?Uint8Array.prototype.indexOf.call(S,v,g):Uint8Array.prototype.lastIndexOf.call(S,v,g):D(S,[v],g,b,E);throw new TypeError("val must be string, number or Buffer")}function D(S,v,g,b,E){var M=1,N=S.length,Z=v.length;if(b!==void 0&&(b=String(b).toLowerCase(),b==="ucs2"||b==="ucs-2"||b==="utf16le"||b==="utf-16le")){if(S.length<2||v.length<2)return-1;M=2,N/=2,Z/=2,g/=2}function ie(yt,yr){return M===1?yt[yr]:yt.readUInt16BE(yr*M)}var le;if(E){var ve=-1;for(le=g;le<N;le++)if(ie(S,le)===ie(v,ve===-1?0:le-ve)){if(ve===-1&&(ve=le),le-ve+1===Z)return ve*M}else ve!==-1&&(le-=le-ve),ve=-1}else for(g+Z>N&&(g=N-Z),le=g;le>=0;le--){for(var he=!0,ke=0;ke<Z;ke++)if(ie(S,le+ke)!==ie(v,ke)){he=!1;break}if(he)return le}return-1}a.prototype.includes=function(v,g,b){return this.indexOf(v,g,b)!==-1},a.prototype.indexOf=function(v,g,b){return O(this,v,g,b,!0)},a.prototype.lastIndexOf=function(v,g,b){return O(this,v,g,b,!1)};function q(S,v,g,b){g=Number(g)||0;var E=S.length-g;b?(b=Number(b),b>E&&(b=E)):b=E;var M=v.length;if(M%2!==0)throw new TypeError("Invalid hex string");b>M/2&&(b=M/2);for(var N=0;N<b;++N){var Z=parseInt(v.substr(N*2,2),16);if(isNaN(Z))return N;S[g+N]=Z}return N}function L(S,v,g,b){return G(ce(v,S.length-g),S,g,b)}function H(S,v,g,b){return G(x(v),S,g,b)}function k(S,v,g,b){return H(S,v,g,b)}function U(S,v,g,b){return G(B(v),S,g,b)}function R(S,v,g,b){return G(P(v,S.length-g),S,g,b)}a.prototype.write=function(v,g,b,E){if(g===void 0)E="utf8",b=this.length,g=0;else if(b===void 0&&typeof g=="string")E=g,b=this.length,g=0;else if(isFinite(g))g=g|0,isFinite(b)?(b=b|0,E===void 0&&(E="utf8")):(E=b,b=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var M=this.length-g;if((b===void 0||b>M)&&(b=M),v.length>0&&(b<0||g<0)||g>this.length)throw new RangeError("Attempt to write outside buffer bounds");E||(E="utf8");for(var N=!1;;)switch(E){case"hex":return q(this,v,g,b);case"utf8":case"utf-8":return L(this,v,g,b);case"ascii":return H(this,v,g,b);case"latin1":case"binary":return k(this,v,g,b);case"base64":return U(this,v,g,b);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,v,g,b);default:if(N)throw new TypeError("Unknown encoding: "+E);E=(""+E).toLowerCase(),N=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function j(S,v,g){return v===0&&g===S.length?t.fromByteArray(S):t.fromByteArray(S.slice(v,g))}function V(S,v,g){g=Math.min(S.length,g);for(var b=[],E=v;E<g;){var M=S[E],N=null,Z=M>239?4:M>223?3:M>191?2:1;if(E+Z<=g){var ie,le,ve,he;switch(Z){case 1:M<128&&(N=M);break;case 2:ie=S[E+1],(ie&192)===128&&(he=(M&31)<<6|ie&63,he>127&&(N=he));break;case 3:ie=S[E+1],le=S[E+2],(ie&192)===128&&(le&192)===128&&(he=(M&15)<<12|(ie&63)<<6|le&63,he>2047&&(he<55296||he>57343)&&(N=he));break;case 4:ie=S[E+1],le=S[E+2],ve=S[E+3],(ie&192)===128&&(le&192)===128&&(ve&192)===128&&(he=(M&15)<<18|(ie&63)<<12|(le&63)<<6|ve&63,he>65535&&he<1114112&&(N=he))}}N===null?(N=65533,Z=1):N>65535&&(N-=65536,b.push(N>>>10&1023|55296),N=56320|N&1023),b.push(N),E+=Z}return ne(b)}var $=4096;function ne(S){var v=S.length;if(v<=$)return String.fromCharCode.apply(String,S);for(var g="",b=0;b<v;)g+=String.fromCharCode.apply(String,S.slice(b,b+=$));return g}function ue(S,v,g){var b="";g=Math.min(S.length,g);for(var E=v;E<g;++E)b+=String.fromCharCode(S[E]&127);return b}function me(S,v,g){var b="";g=Math.min(S.length,g);for(var E=v;E<g;++E)b+=String.fromCharCode(S[E]);return b}function de(S,v,g){var b=S.length;(!v||v<0)&&(v=0),(!g||g<0||g>b)&&(g=b);for(var E="",M=v;M<g;++M)E+=fe(S[M]);return E}function ee(S,v,g){for(var b=S.slice(v,g),E="",M=0;M<b.length;M+=2)E+=String.fromCharCode(b[M]+b[M+1]*256);return E}a.prototype.slice=function(v,g){var b=this.length;v=~~v,g=g===void 0?b:~~g,v<0?(v+=b,v<0&&(v=0)):v>b&&(v=b),g<0?(g+=b,g<0&&(g=0)):g>b&&(g=b),g<v&&(g=v);var E;if(a.TYPED_ARRAY_SUPPORT)E=this.subarray(v,g),E.__proto__=a.prototype;else{var M=g-v;E=new a(M,void 0);for(var N=0;N<M;++N)E[N]=this[N+v]}return E};function te(S,v,g){if(S%1!==0||S<0)throw new RangeError("offset is not uint");if(S+v>g)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUIntLE=function(v,g,b){v=v|0,g=g|0,b||te(v,g,this.length);for(var E=this[v],M=1,N=0;++N<g&&(M*=256);)E+=this[v+N]*M;return E},a.prototype.readUIntBE=function(v,g,b){v=v|0,g=g|0,b||te(v,g,this.length);for(var E=this[v+--g],M=1;g>0&&(M*=256);)E+=this[v+--g]*M;return E},a.prototype.readUInt8=function(v,g){return g||te(v,1,this.length),this[v]},a.prototype.readUInt16LE=function(v,g){return g||te(v,2,this.length),this[v]|this[v+1]<<8},a.prototype.readUInt16BE=function(v,g){return g||te(v,2,this.length),this[v]<<8|this[v+1]},a.prototype.readUInt32LE=function(v,g){return g||te(v,4,this.length),(this[v]|this[v+1]<<8|this[v+2]<<16)+this[v+3]*16777216},a.prototype.readUInt32BE=function(v,g){return g||te(v,4,this.length),this[v]*16777216+(this[v+1]<<16|this[v+2]<<8|this[v+3])},a.prototype.readIntLE=function(v,g,b){v=v|0,g=g|0,b||te(v,g,this.length);for(var E=this[v],M=1,N=0;++N<g&&(M*=256);)E+=this[v+N]*M;return M*=128,E>=M&&(E-=Math.pow(2,8*g)),E},a.prototype.readIntBE=function(v,g,b){v=v|0,g=g|0,b||te(v,g,this.length);for(var E=g,M=1,N=this[v+--E];E>0&&(M*=256);)N+=this[v+--E]*M;return M*=128,N>=M&&(N-=Math.pow(2,8*g)),N},a.prototype.readInt8=function(v,g){return g||te(v,1,this.length),this[v]&128?(255-this[v]+1)*-1:this[v]},a.prototype.readInt16LE=function(v,g){g||te(v,2,this.length);var b=this[v]|this[v+1]<<8;return b&32768?b|4294901760:b},a.prototype.readInt16BE=function(v,g){g||te(v,2,this.length);var b=this[v+1]|this[v]<<8;return b&32768?b|4294901760:b},a.prototype.readInt32LE=function(v,g){return g||te(v,4,this.length),this[v]|this[v+1]<<8|this[v+2]<<16|this[v+3]<<24},a.prototype.readInt32BE=function(v,g){return g||te(v,4,this.length),this[v]<<24|this[v+1]<<16|this[v+2]<<8|this[v+3]},a.prototype.readFloatLE=function(v,g){return g||te(v,4,this.length),r.read(this,v,!0,23,4)},a.prototype.readFloatBE=function(v,g){return g||te(v,4,this.length),r.read(this,v,!1,23,4)},a.prototype.readDoubleLE=function(v,g){return g||te(v,8,this.length),r.read(this,v,!0,52,8)},a.prototype.readDoubleBE=function(v,g){return g||te(v,8,this.length),r.read(this,v,!1,52,8)};function re(S,v,g,b,E,M){if(!a.isBuffer(S))throw new TypeError('"buffer" argument must be a Buffer instance');if(v>E||v<M)throw new RangeError('"value" argument is out of bounds');if(g+b>S.length)throw new RangeError("Index out of range")}a.prototype.writeUIntLE=function(v,g,b,E){if(v=+v,g=g|0,b=b|0,!E){var M=Math.pow(2,8*b)-1;re(this,v,g,b,M,0)}var N=1,Z=0;for(this[g]=v&255;++Z<b&&(N*=256);)this[g+Z]=v/N&255;return g+b},a.prototype.writeUIntBE=function(v,g,b,E){if(v=+v,g=g|0,b=b|0,!E){var M=Math.pow(2,8*b)-1;re(this,v,g,b,M,0)}var N=b-1,Z=1;for(this[g+N]=v&255;--N>=0&&(Z*=256);)this[g+N]=v/Z&255;return g+b},a.prototype.writeUInt8=function(v,g,b){return v=+v,g=g|0,b||re(this,v,g,1,255,0),a.TYPED_ARRAY_SUPPORT||(v=Math.floor(v)),this[g]=v&255,g+1};function ge(S,v,g,b){v<0&&(v=65535+v+1);for(var E=0,M=Math.min(S.length-g,2);E<M;++E)S[g+E]=(v&255<<8*(b?E:1-E))>>>(b?E:1-E)*8}a.prototype.writeUInt16LE=function(v,g,b){return v=+v,g=g|0,b||re(this,v,g,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[g]=v&255,this[g+1]=v>>>8):ge(this,v,g,!0),g+2},a.prototype.writeUInt16BE=function(v,g,b){return v=+v,g=g|0,b||re(this,v,g,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[g]=v>>>8,this[g+1]=v&255):ge(this,v,g,!1),g+2};function Ce(S,v,g,b){v<0&&(v=4294967295+v+1);for(var E=0,M=Math.min(S.length-g,4);E<M;++E)S[g+E]=v>>>(b?E:3-E)*8&255}a.prototype.writeUInt32LE=function(v,g,b){return v=+v,g=g|0,b||re(this,v,g,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[g+3]=v>>>24,this[g+2]=v>>>16,this[g+1]=v>>>8,this[g]=v&255):Ce(this,v,g,!0),g+4},a.prototype.writeUInt32BE=function(v,g,b){return v=+v,g=g|0,b||re(this,v,g,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[g]=v>>>24,this[g+1]=v>>>16,this[g+2]=v>>>8,this[g+3]=v&255):Ce(this,v,g,!1),g+4},a.prototype.writeIntLE=function(v,g,b,E){if(v=+v,g=g|0,!E){var M=Math.pow(2,8*b-1);re(this,v,g,b,M-1,-M)}var N=0,Z=1,ie=0;for(this[g]=v&255;++N<b&&(Z*=256);)v<0&&ie===0&&this[g+N-1]!==0&&(ie=1),this[g+N]=(v/Z>>0)-ie&255;return g+b},a.prototype.writeIntBE=function(v,g,b,E){if(v=+v,g=g|0,!E){var M=Math.pow(2,8*b-1);re(this,v,g,b,M-1,-M)}var N=b-1,Z=1,ie=0;for(this[g+N]=v&255;--N>=0&&(Z*=256);)v<0&&ie===0&&this[g+N+1]!==0&&(ie=1),this[g+N]=(v/Z>>0)-ie&255;return g+b},a.prototype.writeInt8=function(v,g,b){return v=+v,g=g|0,b||re(this,v,g,1,127,-128),a.TYPED_ARRAY_SUPPORT||(v=Math.floor(v)),v<0&&(v=255+v+1),this[g]=v&255,g+1},a.prototype.writeInt16LE=function(v,g,b){return v=+v,g=g|0,b||re(this,v,g,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[g]=v&255,this[g+1]=v>>>8):ge(this,v,g,!0),g+2},a.prototype.writeInt16BE=function(v,g,b){return v=+v,g=g|0,b||re(this,v,g,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[g]=v>>>8,this[g+1]=v&255):ge(this,v,g,!1),g+2},a.prototype.writeInt32LE=function(v,g,b){return v=+v,g=g|0,b||re(this,v,g,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[g]=v&255,this[g+1]=v>>>8,this[g+2]=v>>>16,this[g+3]=v>>>24):Ce(this,v,g,!0),g+4},a.prototype.writeInt32BE=function(v,g,b){return v=+v,g=g|0,b||re(this,v,g,4,2147483647,-2147483648),v<0&&(v=4294967295+v+1),a.TYPED_ARRAY_SUPPORT?(this[g]=v>>>24,this[g+1]=v>>>16,this[g+2]=v>>>8,this[g+3]=v&255):Ce(this,v,g,!1),g+4};function F(S,v,g,b,E,M){if(g+b>S.length)throw new RangeError("Index out of range");if(g<0)throw new RangeError("Index out of range")}function Q(S,v,g,b,E){return E||F(S,v,g,4),r.write(S,v,g,b,23,4),g+4}a.prototype.writeFloatLE=function(v,g,b){return Q(this,v,g,!0,b)},a.prototype.writeFloatBE=function(v,g,b){return Q(this,v,g,!1,b)};function J(S,v,g,b,E){return E||F(S,v,g,8),r.write(S,v,g,b,52,8),g+8}a.prototype.writeDoubleLE=function(v,g,b){return J(this,v,g,!0,b)},a.prototype.writeDoubleBE=function(v,g,b){return J(this,v,g,!1,b)},a.prototype.copy=function(v,g,b,E){if(b||(b=0),!E&&E!==0&&(E=this.length),g>=v.length&&(g=v.length),g||(g=0),E>0&&E<b&&(E=b),E===b||v.length===0||this.length===0)return 0;if(g<0)throw new RangeError("targetStart out of bounds");if(b<0||b>=this.length)throw new RangeError("sourceStart out of bounds");if(E<0)throw new RangeError("sourceEnd out of bounds");E>this.length&&(E=this.length),v.length-g<E-b&&(E=v.length-g+b);var M=E-b,N;if(this===v&&b<g&&g<E)for(N=M-1;N>=0;--N)v[N+g]=this[N+b];else if(M<1e3||!a.TYPED_ARRAY_SUPPORT)for(N=0;N<M;++N)v[N+g]=this[N+b];else Uint8Array.prototype.set.call(v,this.subarray(b,b+M),g);return M},a.prototype.fill=function(v,g,b,E){if(typeof v=="string"){if(typeof g=="string"?(E=g,g=0,b=this.length):typeof b=="string"&&(E=b,b=this.length),v.length===1){var M=v.charCodeAt(0);M<256&&(v=M)}if(E!==void 0&&typeof E!="string")throw new TypeError("encoding must be a string");if(typeof E=="string"&&!a.isEncoding(E))throw new TypeError("Unknown encoding: "+E)}else typeof v=="number"&&(v=v&255);if(g<0||this.length<g||this.length<b)throw new RangeError("Out of range index");if(b<=g)return this;g=g>>>0,b=b===void 0?this.length:b>>>0,v||(v=0);var N;if(typeof v=="number")for(N=g;N<b;++N)this[N]=v;else{var Z=a.isBuffer(v)?v:ce(new a(v,E).toString()),ie=Z.length;for(N=0;N<b-g;++N)this[N+g]=Z[N%ie]}return this};var oe=/[^+\/0-9A-Za-z-_]/g;function we(S){if(S=_e(S).replace(oe,""),S.length<2)return"";for(;S.length%4!==0;)S=S+"=";return S}function _e(S){return S.trim?S.trim():S.replace(/^\s+|\s+$/g,"")}function fe(S){return S<16?"0"+S.toString(16):S.toString(16)}function ce(S,v){v=v||1/0;for(var g,b=S.length,E=null,M=[],N=0;N<b;++N){if(g=S.charCodeAt(N),g>55295&&g<57344){if(!E){if(g>56319){(v-=3)>-1&&M.push(239,191,189);continue}else if(N+1===b){(v-=3)>-1&&M.push(239,191,189);continue}E=g;continue}if(g<56320){(v-=3)>-1&&M.push(239,191,189),E=g;continue}g=(E-55296<<10|g-56320)+65536}else E&&(v-=3)>-1&&M.push(239,191,189);if(E=null,g<128){if((v-=1)<0)break;M.push(g)}else if(g<2048){if((v-=2)<0)break;M.push(g>>6|192,g&63|128)}else if(g<65536){if((v-=3)<0)break;M.push(g>>12|224,g>>6&63|128,g&63|128)}else if(g<1114112){if((v-=4)<0)break;M.push(g>>18|240,g>>12&63|128,g>>6&63|128,g&63|128)}else throw new Error("Invalid code point")}return M}function x(S){for(var v=[],g=0;g<S.length;++g)v.push(S.charCodeAt(g)&255);return v}function P(S,v){for(var g,b,E,M=[],N=0;N<S.length&&!((v-=2)<0);++N)g=S.charCodeAt(N),b=g>>8,E=g%256,M.push(E),M.push(b);return M}function B(S){return t.toByteArray(we(S))}function G(S,v,g,b){for(var E=0;E<b&&!(E+g>=v.length||E>=S.length);++E)v[E+g]=S[E];return E}function X(S){return S!==S}})(Be);function fT(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var On={exports:{}};const dT={},hT=Object.freeze(Object.defineProperty({__proto__:null,default:dT},Symbol.toStringTag,{value:"Module"})),gT=Ps(hT);(function(e,t){(function(r,n){e.exports=n()})(nt,function(){var r=r||function(n,i){var o;if(typeof window<"u"&&window.crypto&&(o=window.crypto),typeof self<"u"&&self.crypto&&(o=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(o=globalThis.crypto),!o&&typeof window<"u"&&window.msCrypto&&(o=window.msCrypto),!o&&typeof nt<"u"&&nt.crypto&&(o=nt.crypto),!o&&typeof fT=="function")try{o=gT}catch{}var s=function(){if(o){if(typeof o.getRandomValues=="function")try{return o.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof o.randomBytes=="function")try{return o.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function w(){}return function(A){var I;return w.prototype=A,I=new w,w.prototype=null,I}}(),c={},u=c.lib={},l=u.Base=function(){return{extend:function(w){var A=a(this);return w&&A.mixIn(w),(!A.hasOwnProperty("init")||this.init===A.init)&&(A.init=function(){A.$super.init.apply(this,arguments)}),A.init.prototype=A,A.$super=this,A},create:function(){var w=this.extend();return w.init.apply(w,arguments),w},init:function(){},mixIn:function(w){for(var A in w)w.hasOwnProperty(A)&&(this[A]=w[A]);w.hasOwnProperty("toString")&&(this.toString=w.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),f=u.WordArray=l.extend({init:function(w,A){w=this.words=w||[],A!=i?this.sigBytes=A:this.sigBytes=w.length*4},toString:function(w){return(w||h).stringify(this)},concat:function(w){var A=this.words,I=w.words,O=this.sigBytes,D=w.sigBytes;if(this.clamp(),O%4)for(var q=0;q<D;q++){var L=I[q>>>2]>>>24-q%4*8&255;A[O+q>>>2]|=L<<24-(O+q)%4*8}else for(var H=0;H<D;H+=4)A[O+H>>>2]=I[H>>>2];return this.sigBytes+=D,this},clamp:function(){var w=this.words,A=this.sigBytes;w[A>>>2]&=4294967295<<32-A%4*8,w.length=n.ceil(A/4)},clone:function(){var w=l.clone.call(this);return w.words=this.words.slice(0),w},random:function(w){for(var A=[],I=0;I<w;I+=4)A.push(s());return new f.init(A,w)}}),d=c.enc={},h=d.Hex={stringify:function(w){for(var A=w.words,I=w.sigBytes,O=[],D=0;D<I;D++){var q=A[D>>>2]>>>24-D%4*8&255;O.push((q>>>4).toString(16)),O.push((q&15).toString(16))}return O.join("")},parse:function(w){for(var A=w.length,I=[],O=0;O<A;O+=2)I[O>>>3]|=parseInt(w.substr(O,2),16)<<24-O%8*4;return new f.init(I,A/2)}},m=d.Latin1={stringify:function(w){for(var A=w.words,I=w.sigBytes,O=[],D=0;D<I;D++){var q=A[D>>>2]>>>24-D%4*8&255;O.push(String.fromCharCode(q))}return O.join("")},parse:function(w){for(var A=w.length,I=[],O=0;O<A;O++)I[O>>>2]|=(w.charCodeAt(O)&255)<<24-O%4*8;return new f.init(I,A)}},y=d.Utf8={stringify:function(w){try{return decodeURIComponent(escape(m.stringify(w)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(w){return m.parse(unescape(encodeURIComponent(w)))}},_=u.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new f.init,this._nDataBytes=0},_append:function(w){typeof w=="string"&&(w=y.parse(w)),this._data.concat(w),this._nDataBytes+=w.sigBytes},_process:function(w){var A,I=this._data,O=I.words,D=I.sigBytes,q=this.blockSize,L=q*4,H=D/L;w?H=n.ceil(H):H=n.max((H|0)-this._minBufferSize,0);var k=H*q,U=n.min(k*4,D);if(k){for(var R=0;R<k;R+=q)this._doProcessBlock(O,R);A=O.splice(0,k),I.sigBytes-=U}return new f.init(A,U)},clone:function(){var w=l.clone.call(this);return w._data=this._data.clone(),w},_minBufferSize:0});u.Hasher=_.extend({cfg:l.extend(),init:function(w){this.cfg=this.cfg.extend(w),this.reset()},reset:function(){_.reset.call(this),this._doReset()},update:function(w){return this._append(w),this._process(),this},finalize:function(w){w&&this._append(w);var A=this._doFinalize();return A},blockSize:16,_createHelper:function(w){return function(A,I){return new w.init(I).finalize(A)}},_createHmacHelper:function(w){return function(A,I){return new C.HMAC.init(w,I).finalize(A)}}});var C=c.algo={};return c}(Math);return r})})(On);const Yr=On.exports;var pT={exports:{}};(function(e,t){(function(r,n){e.exports=n(On.exports)})(nt,function(r){return function(){if(typeof ArrayBuffer=="function"){var n=r,i=n.lib,o=i.WordArray,s=o.init,a=o.init=function(c){if(c instanceof ArrayBuffer&&(c=new Uint8Array(c)),(c instanceof Int8Array||typeof Uint8ClampedArray<"u"&&c instanceof Uint8ClampedArray||c instanceof Int16Array||c instanceof Uint16Array||c instanceof Int32Array||c instanceof Uint32Array||c instanceof Float32Array||c instanceof Float64Array)&&(c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength)),c instanceof Uint8Array){for(var u=c.byteLength,l=[],f=0;f<u;f++)l[f>>>2]|=c[f]<<24-f%4*8;s.call(this,l,u)}else s.apply(this,arguments)};a.prototype=o}}(),r.lib.WordArray})})(pT);var Ol={exports:{}};(function(e,t){(function(r,n){e.exports=n(On.exports)})(nt,function(r){return function(n){var i=r,o=i.lib,s=o.WordArray,a=o.Hasher,c=i.algo,u=[],l=[];(function(){function h(C){for(var w=n.sqrt(C),A=2;A<=w;A++)if(!(C%A))return!1;return!0}function m(C){return(C-(C|0))*4294967296|0}for(var y=2,_=0;_<64;)h(y)&&(_<8&&(u[_]=m(n.pow(y,1/2))),l[_]=m(n.pow(y,1/3)),_++),y++})();var f=[],d=c.SHA256=a.extend({_doReset:function(){this._hash=new s.init(u.slice(0))},_doProcessBlock:function(h,m){for(var y=this._hash.words,_=y[0],C=y[1],w=y[2],A=y[3],I=y[4],O=y[5],D=y[6],q=y[7],L=0;L<64;L++){if(L<16)f[L]=h[m+L]|0;else{var H=f[L-15],k=(H<<25|H>>>7)^(H<<14|H>>>18)^H>>>3,U=f[L-2],R=(U<<15|U>>>17)^(U<<13|U>>>19)^U>>>10;f[L]=k+f[L-7]+R+f[L-16]}var j=I&O^~I&D,V=_&C^_&w^C&w,$=(_<<30|_>>>2)^(_<<19|_>>>13)^(_<<10|_>>>22),ne=(I<<26|I>>>6)^(I<<21|I>>>11)^(I<<7|I>>>25),ue=q+ne+j+l[L]+f[L],me=$+V;q=D,D=O,O=I,I=A+ue|0,A=w,w=C,C=_,_=ue+me|0}y[0]=y[0]+_|0,y[1]=y[1]+C|0,y[2]=y[2]+w|0,y[3]=y[3]+A|0,y[4]=y[4]+I|0,y[5]=y[5]+O|0,y[6]=y[6]+D|0,y[7]=y[7]+q|0},_doFinalize:function(){var h=this._data,m=h.words,y=this._nDataBytes*8,_=h.sigBytes*8;return m[_>>>5]|=128<<24-_%32,m[(_+64>>>9<<4)+14]=n.floor(y/4294967296),m[(_+64>>>9<<4)+15]=y,h.sigBytes=m.length*4,this._process(),this._hash},clone:function(){var h=a.clone.call(this);return h._hash=this._hash.clone(),h}});i.SHA256=a._createHelper(d),i.HmacSHA256=a._createHmacHelper(d)}(Math),r.SHA256})})(Ol);const cS=Ol.exports;var lS={exports:{}},Aa={exports:{}},lh;function vT(){return lh||(lh=1,function(e,t){(function(r,n){e.exports=n(On.exports)})(nt,function(r){(function(){var n=r,i=n.lib,o=i.Base,s=n.enc,a=s.Utf8,c=n.algo;c.HMAC=o.extend({init:function(u,l){u=this._hasher=new u.init,typeof l=="string"&&(l=a.parse(l));var f=u.blockSize,d=f*4;l.sigBytes>d&&(l=u.finalize(l)),l.clamp();for(var h=this._oKey=l.clone(),m=this._iKey=l.clone(),y=h.words,_=m.words,C=0;C<f;C++)y[C]^=1549556828,_[C]^=909522486;h.sigBytes=m.sigBytes=d,this.reset()},reset:function(){var u=this._hasher;u.reset(),u.update(this._iKey)},update:function(u){return this._hasher.update(u),this},finalize:function(u){var l=this._hasher,f=l.finalize(u);l.reset();var d=l.finalize(this._oKey.clone().concat(f));return d}})})()})}(Aa)),Aa.exports}(function(e,t){(function(r,n,i){e.exports=n(On.exports,Ol.exports,vT())})(nt,function(r){return r.HmacSHA256})})(lS);const ss=lS.exports;var Ft;typeof window<"u"&&window.crypto&&(Ft=window.crypto);!Ft&&typeof window<"u"&&window.msCrypto&&(Ft=window.msCrypto);!Ft&&typeof global<"u"&&global.crypto&&(Ft=global.crypto);if(!Ft&&typeof require=="function")try{Ft=require("crypto")}catch{}function mT(){if(Ft){if(typeof Ft.getRandomValues=="function")try{return Ft.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof Ft.randomBytes=="function")try{return Ft.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")}function yT(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push((o>>>4).toString(16)),n.push((o&15).toString(16))}return n.join("")}var wT=function(){function e(r,n){r=this.words=r||[],n!=null?this.sigBytes=n:this.sigBytes=r.length*4}var t=e.prototype;return t.random=function(n){for(var i=[],o=0;o<n;o+=4)i.push(mT());return new e(i,n)},t.toString=function(){return yT(this)},e}();function ae(e,t){e!=null&&this.fromString(e,t)}function vt(){return new ae(null)}var Zr,ST=0xdeadbeefcafe,fh=(ST&16777215)==15715070;function _T(e,t,r,n,i,o){for(;--o>=0;){var s=t*this[e++]+r[n]+i;i=Math.floor(s/67108864),r[n++]=s&67108863}return i}function bT(e,t,r,n,i,o){for(var s=t&32767,a=t>>15;--o>=0;){var c=this[e]&32767,u=this[e++]>>15,l=a*c+u*s;c=s*c+((l&32767)<<15)+r[n]+(i&1073741823),i=(c>>>30)+(l>>>15)+a*u+(i>>>30),r[n++]=c&1073741823}return i}function CT(e,t,r,n,i,o){for(var s=t&16383,a=t>>14;--o>=0;){var c=this[e]&16383,u=this[e++]>>14,l=a*c+u*s;c=s*c+((l&16383)<<14)+r[n]+i,i=(c>>28)+(l>>14)+a*u,r[n++]=c&268435455}return i}var dh=typeof navigator<"u";dh&&fh&&navigator.appName=="Microsoft Internet Explorer"?(ae.prototype.am=bT,Zr=30):dh&&fh&&navigator.appName!="Netscape"?(ae.prototype.am=_T,Zr=26):(ae.prototype.am=CT,Zr=28);ae.prototype.DB=Zr;ae.prototype.DM=(1<<Zr)-1;ae.prototype.DV=1<<Zr;var Ul=52;ae.prototype.FV=Math.pow(2,Ul);ae.prototype.F1=Ul-Zr;ae.prototype.F2=2*Zr-Ul;var ET="0123456789abcdefghijklmnopqrstuvwxyz",$s=new Array,mi,zt;mi="0".charCodeAt(0);for(zt=0;zt<=9;++zt)$s[mi++]=zt;mi="a".charCodeAt(0);for(zt=10;zt<36;++zt)$s[mi++]=zt;mi="A".charCodeAt(0);for(zt=10;zt<36;++zt)$s[mi++]=zt;function hh(e){return ET.charAt(e)}function xT(e,t){var r=$s[e.charCodeAt(t)];return r==null?-1:r}function AT(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s}function IT(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0}function Ll(e){var t=vt();return t.fromInt(e),t}function TT(e,t){var r;if(t==16)r=4;else if(t==8)r=3;else if(t==2)r=1;else if(t==32)r=5;else if(t==4)r=2;else throw new Error("Only radix 2, 4, 8, 16, 32 are supported");this.t=0,this.s=0;for(var n=e.length,i=!1,o=0;--n>=0;){var s=xT(e,n);if(s<0){e.charAt(n)=="-"&&(i=!0);continue}i=!1,o==0?this[this.t++]=s:o+r>this.DB?(this[this.t-1]|=(s&(1<<this.DB-o)-1)<<o,this[this.t++]=s>>this.DB-o):this[this.t-1]|=s<<o,o+=r,o>=this.DB&&(o-=this.DB)}this.clamp(),i&&ae.ZERO.subTo(this,this)}function PT(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t}function kT(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(e==16)t=4;else if(e==8)t=3;else if(e==2)t=1;else if(e==32)t=5;else if(e==4)t=2;else throw new Error("Only radix 2, 4, 8, 16, 32 are supported");var r=(1<<t)-1,n,i=!1,o="",s=this.t,a=this.DB-s*this.DB%t;if(s-- >0)for(a<this.DB&&(n=this[s]>>a)>0&&(i=!0,o=hh(n));s>=0;)a<t?(n=(this[s]&(1<<a)-1)<<t-a,n|=this[--s]>>(a+=this.DB-t)):(n=this[s]>>(a-=t)&r,a<=0&&(a+=this.DB,--s)),n>0&&(i=!0),i&&(o+=hh(n));return i?o:"0"}function RT(){var e=vt();return ae.ZERO.subTo(this,e),e}function OT(){return this.s<0?this.negate():this}function UT(e){var t=this.s-e.s;if(t!=0)return t;var r=this.t;if(t=r-e.t,t!=0)return this.s<0?-t:t;for(;--r>=0;)if((t=this[r]-e[r])!=0)return t;return 0}function Ml(e){var t=1,r;return(r=e>>>16)!=0&&(e=r,t+=16),(r=e>>8)!=0&&(e=r,t+=8),(r=e>>4)!=0&&(e=r,t+=4),(r=e>>2)!=0&&(e=r,t+=2),(r=e>>1)!=0&&(e=r,t+=1),t}function LT(){return this.t<=0?0:this.DB*(this.t-1)+Ml(this[this.t-1]^this.s&this.DM)}function MT(e,t){var r;for(r=this.t-1;r>=0;--r)t[r+e]=this[r];for(r=e-1;r>=0;--r)t[r]=0;t.t=this.t+e,t.s=this.s}function NT(e,t){for(var r=e;r<this.t;++r)t[r-e]=this[r];t.t=Math.max(this.t-e,0),t.s=this.s}function DT(e,t){var r=e%this.DB,n=this.DB-r,i=(1<<n)-1,o=Math.floor(e/this.DB),s=this.s<<r&this.DM,a;for(a=this.t-1;a>=0;--a)t[a+o+1]=this[a]>>n|s,s=(this[a]&i)<<r;for(a=o-1;a>=0;--a)t[a]=0;t[o]=s,t.t=this.t+o+1,t.s=this.s,t.clamp()}function BT(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t){t.t=0;return}var n=e%this.DB,i=this.DB-n,o=(1<<n)-1;t[0]=this[r]>>n;for(var s=r+1;s<this.t;++s)t[s-r-1]|=(this[s]&o)<<i,t[s-r]=this[s]>>n;n>0&&(t[this.t-r-1]|=(this.s&o)<<i),t.t=this.t-r,t.clamp()}function FT(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this[r]-e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e[r],t[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t[r++]=this.DV+n:n>0&&(t[r++]=n),t.t=r,t.clamp()}function zT(e,t){var r=this.abs(),n=e.abs(),i=r.t;for(t.t=i+n.t;--i>=0;)t[i]=0;for(i=0;i<n.t;++i)t[i+r.t]=r.am(0,n[i],t,i,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&ae.ZERO.subTo(t,t)}function KT(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t[r],e,2*r,0,1);(e[r+t.t]+=t.am(r+1,2*t[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e[r+t.t]-=t.DV,e[r+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(r,t[r],e,2*r,0,1)),e.s=0,e.clamp()}function qT(e,t,r){var n=e.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t){t!=null&&t.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=vt());var o=vt(),s=this.s,a=e.s,c=this.DB-Ml(n[n.t-1]);c>0?(n.lShiftTo(c,o),i.lShiftTo(c,r)):(n.copyTo(o),i.copyTo(r));var u=o.t,l=o[u-1];if(l!=0){var f=l*(1<<this.F1)+(u>1?o[u-2]>>this.F2:0),d=this.FV/f,h=(1<<this.F1)/f,m=1<<this.F2,y=r.t,_=y-u,C=t==null?vt():t;for(o.dlShiftTo(_,C),r.compareTo(C)>=0&&(r[r.t++]=1,r.subTo(C,r)),ae.ONE.dlShiftTo(u,C),C.subTo(o,o);o.t<u;)o[o.t++]=0;for(;--_>=0;){var w=r[--y]==l?this.DM:Math.floor(r[y]*d+(r[y-1]+m)*h);if((r[y]+=o.am(0,w,r,_,0,u))<w)for(o.dlShiftTo(_,C),r.subTo(C,r);r[y]<--w;)r.subTo(C,r)}t!=null&&(r.drShiftTo(u,t),s!=a&&ae.ZERO.subTo(t,t)),r.t=u,r.clamp(),c>0&&r.rShiftTo(c,r),s<0&&ae.ZERO.subTo(r,r)}}}function jT(e){var t=vt();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(ae.ZERO)>0&&e.subTo(t,t),t}function $T(){if(this.t<1)return 0;var e=this[0];if((e&1)==0)return 0;var t=e&3;return t=t*(2-(e&15)*t)&15,t=t*(2-(e&255)*t)&255,t=t*(2-((e&65535)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}function HT(e){return this.compareTo(e)==0}function VT(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this[r]+e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e[r],t[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t[r++]=n:n<-1&&(t[r++]=this.DV+n),t.t=r,t.clamp()}function GT(e){var t=vt();return this.addTo(e,t),t}function WT(e){var t=vt();return this.subTo(e,t),t}function YT(e){var t=vt();return this.multiplyTo(e,t),t}function XT(e){var t=vt();return this.divRemTo(e,t,null),t}function yi(e){this.m=e,this.mp=e.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function JT(e){var t=vt();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(ae.ZERO)>0&&this.m.subTo(t,t),t}function ZT(e){var t=vt();return e.copyTo(t),this.reduce(t),t}function QT(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=e[t]&32767,n=r*this.mpl+((r*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e[r]+=this.m.am(0,n,e,t,0,this.m.t);e[r]>=e.DV;)e[r]-=e.DV,e[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function eP(e,t){e.squareTo(t),this.reduce(t)}function tP(e,t,r){e.multiplyTo(t,r),this.reduce(r)}yi.prototype.convert=JT;yi.prototype.revert=ZT;yi.prototype.reduce=QT;yi.prototype.mulTo=tP;yi.prototype.sqrTo=eP;function rP(e,t,r){var n=e.bitLength(),i,o=Ll(1),s=new yi(t);if(n<=0)return o;n<18?i=1:n<48?i=3:n<144?i=4:n<768?i=5:i=6;var a=new Array,c=3,u=i-1,l=(1<<i)-1;if(a[1]=s.convert(this),i>1){var f=vt();for(s.sqrTo(a[1],f);c<=l;)a[c]=vt(),s.mulTo(f,a[c-2],a[c]),c+=2}var d=e.t-1,h,m=!0,y=vt(),_;for(n=Ml(e[d])-1;d>=0;){for(n>=u?h=e[d]>>n-u&l:(h=(e[d]&(1<<n+1)-1)<<u-n,d>0&&(h|=e[d-1]>>this.DB+n-u)),c=i;(h&1)==0;)h>>=1,--c;if((n-=c)<0&&(n+=this.DB,--d),m)a[h].copyTo(o),m=!1;else{for(;c>1;)s.sqrTo(o,y),s.sqrTo(y,o),c-=2;c>0?s.sqrTo(o,y):(_=o,o=y,y=_),s.mulTo(y,a[h],o)}for(;d>=0&&(e[d]&1<<n)==0;)s.sqrTo(o,y),_=o,o=y,y=_,--n<0&&(n=this.DB-1,--d)}var C=s.revert(o);return r(null,C),C}ae.prototype.copyTo=AT;ae.prototype.fromInt=IT;ae.prototype.fromString=TT;ae.prototype.clamp=PT;ae.prototype.dlShiftTo=MT;ae.prototype.drShiftTo=NT;ae.prototype.lShiftTo=DT;ae.prototype.rShiftTo=BT;ae.prototype.subTo=FT;ae.prototype.multiplyTo=zT;ae.prototype.squareTo=KT;ae.prototype.divRemTo=qT;ae.prototype.invDigit=$T;ae.prototype.addTo=VT;ae.prototype.toString=kT;ae.prototype.negate=RT;ae.prototype.abs=OT;ae.prototype.compareTo=UT;ae.prototype.bitLength=LT;ae.prototype.mod=jT;ae.prototype.equals=HT;ae.prototype.add=GT;ae.prototype.subtract=WT;ae.prototype.multiply=YT;ae.prototype.divide=XT;ae.prototype.modPow=rP;ae.ZERO=Ll(0);ae.ONE=Ll(1);/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */function Ia(e){return Be.Buffer.from(new wT().random(e).toString(),"hex")}var nP=/^[89a-f]/i,iP="FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",oP="userAttributes.",Dn=function(){function e(r){this.N=new ae(iP,16),this.g=new ae("2",16),this.k=new ae(this.hexHash(""+this.padHex(this.N)+this.padHex(this.g)),16),this.smallAValue=this.generateRandomSmallA(),this.getLargeAValue(function(){}),this.infoBits=Be.Buffer.from("Caldera Derived Key","utf8"),this.poolName=r}var t=e.prototype;return t.getSmallAValue=function(){return this.smallAValue},t.getLargeAValue=function(n){var i=this;this.largeAValue?n(null,this.largeAValue):this.calculateA(this.smallAValue,function(o,s){o&&n(o,null),i.largeAValue=s,n(null,i.largeAValue)})},t.generateRandomSmallA=function(){var n=Ia(128).toString("hex"),i=new ae(n,16);return i},t.generateRandomString=function(){return Ia(40).toString("base64")},t.getRandomPassword=function(){return this.randomPassword},t.getSaltDevices=function(){return this.SaltToHashDevices},t.getVerifierDevices=function(){return this.verifierDevices},t.generateHashDevice=function(n,i,o){var s=this;this.randomPassword=this.generateRandomString();var a=""+n+i+":"+this.randomPassword,c=this.hash(a),u=Ia(16).toString("hex");this.SaltToHashDevices=this.padHex(new ae(u,16)),this.g.modPow(new ae(this.hexHash(this.SaltToHashDevices+c),16),this.N,function(l,f){l&&o(l,null),s.verifierDevices=s.padHex(f),o(null,null)})},t.calculateA=function(n,i){var o=this;this.g.modPow(n,this.N,function(s,a){s&&i(s,null),a.mod(o.N).equals(ae.ZERO)&&i(new Error("Illegal paramater. A mod N cannot be 0."),null),i(null,a)})},t.calculateU=function(n,i){this.UHexHash=this.hexHash(this.padHex(n)+this.padHex(i));var o=new ae(this.UHexHash,16);return o},t.hash=function(n){var i=n instanceof Be.Buffer?Yr.lib.WordArray.create(n):n,o=cS(i).toString();return new Array(64-o.length).join("0")+o},t.hexHash=function(n){return this.hash(Be.Buffer.from(n,"hex"))},t.computehkdf=function(n,i){var o=Yr.lib.WordArray.create(Be.Buffer.concat([this.infoBits,Be.Buffer.from(String.fromCharCode(1),"utf8")])),s=n instanceof Be.Buffer?Yr.lib.WordArray.create(n):n,a=i instanceof Be.Buffer?Yr.lib.WordArray.create(i):i,c=ss(s,a),u=ss(o,c);return Be.Buffer.from(u.toString(),"hex").slice(0,16)},t.getPasswordAuthenticationKey=function(n,i,o,s,a){var c=this;if(o.mod(this.N).equals(ae.ZERO))throw new Error("B cannot be zero.");if(this.UValue=this.calculateU(this.largeAValue,o),this.UValue.equals(ae.ZERO))throw new Error("U cannot be zero.");var u=""+this.poolName+n+":"+i,l=this.hash(u),f=new ae(this.hexHash(this.padHex(s)+l),16);this.calculateS(f,o,function(d,h){d&&a(d,null);var m=c.computehkdf(Be.Buffer.from(c.padHex(h),"hex"),Be.Buffer.from(c.padHex(c.UValue),"hex"));a(null,m)})},t.calculateS=function(n,i,o){var s=this;this.g.modPow(n,this.N,function(a,c){a&&o(a,null);var u=i.subtract(s.k.multiply(c));u.modPow(s.smallAValue.add(s.UValue.multiply(n)),s.N,function(l,f){l&&o(l,null),o(null,f.mod(s.N))})})},t.getNewPasswordRequiredChallengeUserAttributePrefix=function(){return oP},t.padHex=function(n){if(!(n instanceof ae))throw new Error("Not a BigInteger");var i=n.compareTo(ae.ZERO)<0,o=n.abs().toString(16);if(o=o.length%2!==0?"0"+o:o,o=nP.test(o)?"00"+o:o,i){var s=o.split("").map(function(c){var u=~parseInt(c,16)&15;return"0123456789ABCDEF".charAt(u)}).join(""),a=new ae(s,16).add(ae.ONE);o=a.toString(16),o.toUpperCase().startsWith("FF8")&&(o=o.substring(2))}return o},e}();/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var fS=function(){function e(r){this.jwtToken=r||"",this.payload=this.decodePayload()}var t=e.prototype;return t.getJwtToken=function(){return this.jwtToken},t.getExpiration=function(){return this.payload.exp},t.getIssuedAt=function(){return this.payload.iat},t.decodePayload=function(){var n=this.jwtToken.split(".")[1];try{return JSON.parse(Be.Buffer.from(n,"base64").toString("utf8"))}catch{return{}}},e}();function sP(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ku(e,t)}function Ku(e,t){return Ku=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ku(e,t)}var qu=function(e){sP(t,e);function t(r){var n=r===void 0?{}:r,i=n.AccessToken;return e.call(this,i||"")||this}return t}(fS);function aP(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ju(e,t)}function ju(e,t){return ju=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ju(e,t)}var $u=function(e){aP(t,e);function t(r){var n=r===void 0?{}:r,i=n.IdToken;return e.call(this,i||"")||this}return t}(fS);/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var Hu=function(){function e(r){var n=r===void 0?{}:r,i=n.RefreshToken;this.token=i||""}var t=e.prototype;return t.getToken=function(){return this.token},e}(),dS={exports:{}};(function(e,t){(function(r,n){e.exports=n(On.exports)})(nt,function(r){return function(){var n=r,i=n.lib,o=i.WordArray,s=n.enc;s.Base64={stringify:function(c){var u=c.words,l=c.sigBytes,f=this._map;c.clamp();for(var d=[],h=0;h<l;h+=3)for(var m=u[h>>>2]>>>24-h%4*8&255,y=u[h+1>>>2]>>>24-(h+1)%4*8&255,_=u[h+2>>>2]>>>24-(h+2)%4*8&255,C=m<<16|y<<8|_,w=0;w<4&&h+w*.75<l;w++)d.push(f.charAt(C>>>6*(3-w)&63));var A=f.charAt(64);if(A)for(;d.length%4;)d.push(A);return d.join("")},parse:function(c){var u=c.length,l=this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var d=0;d<l.length;d++)f[l.charCodeAt(d)]=d}var h=l.charAt(64);if(h){var m=c.indexOf(h);m!==-1&&(u=m)}return a(c,u,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(c,u,l){for(var f=[],d=0,h=0;h<u;h++)if(h%4){var m=l[c.charCodeAt(h-1)]<<h%4*2,y=l[c.charCodeAt(h)]>>>6-h%4*2,_=m|y;f[d>>>2]|=_<<24-d%4*8,d++}return o.create(f,d)}}(),r.enc.Base64})})(dS);const Vu=dS.exports;/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var Gu=function(){function e(r){var n=r===void 0?{}:r,i=n.IdToken,o=n.RefreshToken,s=n.AccessToken,a=n.ClockDrift;if(s==null||i==null)throw new Error("Id token and Access Token must be present.");this.idToken=i,this.refreshToken=o,this.accessToken=s,this.clockDrift=a===void 0?this.calculateClockDrift():a}var t=e.prototype;return t.getIdToken=function(){return this.idToken},t.getRefreshToken=function(){return this.refreshToken},t.getAccessToken=function(){return this.accessToken},t.getClockDrift=function(){return this.clockDrift},t.calculateClockDrift=function(){var n=Math.floor(new Date/1e3),i=Math.min(this.accessToken.getIssuedAt(),this.idToken.getIssuedAt());return n-i},t.isValid=function(){var n=Math.floor(new Date/1e3),i=n-this.clockDrift;return i<this.accessToken.getExpiration()&&i<this.idToken.getExpiration()},e}();/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var uP=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],cP=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],gh=function(){function e(){}var t=e.prototype;return t.getNowString=function(){var n=new Date,i=cP[n.getUTCDay()],o=uP[n.getUTCMonth()],s=n.getUTCDate(),a=n.getUTCHours();a<10&&(a="0"+a);var c=n.getUTCMinutes();c<10&&(c="0"+c);var u=n.getUTCSeconds();u<10&&(u="0"+u);var l=n.getUTCFullYear(),f=i+" "+o+" "+s+" "+a+":"+c+":"+u+" UTC "+l;return f},e}();/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var Gn=function(){function e(r){var n=r===void 0?{}:r,i=n.Name,o=n.Value;this.Name=i||"",this.Value=o||""}var t=e.prototype;return t.getValue=function(){return this.Value},t.setValue=function(n){return this.Value=n,this},t.getName=function(){return this.Name},t.setName=function(n){return this.Name=n,this},t.toString=function(){return JSON.stringify(this)},t.toJSON=function(){return{Name:this.Name,Value:this.Value}},e}();/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var ln={},lP=function(){function e(){}return e.setItem=function(r,n){return ln[r]=n,ln[r]},e.getItem=function(r){return Object.prototype.hasOwnProperty.call(ln,r)?ln[r]:void 0},e.removeItem=function(r){return delete ln[r]},e.clear=function(){return ln={},ln},e}(),hS=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.cognito.test-ls",1),this.storageWindow.removeItem("aws.cognito.test-ls")}catch{this.storageWindow=lP}}var t=e.prototype;return t.getStorage=function(){return this.storageWindow},e}();/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var fP=typeof navigator<"u",ph=fP?navigator.userAgent:"nodejs",Wu=function(){function e(r){if(r==null||r.Username==null||r.Pool==null)throw new Error("Username and Pool information are required.");this.username=r.Username||"",this.pool=r.Pool,this.Session=null,this.client=r.Pool.client,this.signInUserSession=null,this.authenticationFlowType="USER_SRP_AUTH",this.storage=r.Storage||new hS().getStorage(),this.keyPrefix="CognitoIdentityServiceProvider."+this.pool.getClientId(),this.userDataKey=this.keyPrefix+"."+this.username+".userData"}var t=e.prototype;return t.setSignInUserSession=function(n){this.clearCachedUserData(),this.signInUserSession=n,this.cacheTokens()},t.getSignInUserSession=function(){return this.signInUserSession},t.getUsername=function(){return this.username},t.getAuthenticationFlowType=function(){return this.authenticationFlowType},t.setAuthenticationFlowType=function(n){this.authenticationFlowType=n},t.initiateAuth=function(n,i){var o=this,s=n.getAuthParameters();s.USERNAME=this.username;var a=Object.keys(n.getValidationData()).length!==0?n.getValidationData():n.getClientMetadata(),c={AuthFlow:"CUSTOM_AUTH",ClientId:this.pool.getClientId(),AuthParameters:s,ClientMetadata:a};this.getUserContextData()&&(c.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",c,function(u,l){if(u)return i.onFailure(u);var f=l.ChallengeName,d=l.ChallengeParameters;return f==="CUSTOM_CHALLENGE"?(o.Session=l.Session,i.customChallenge(d)):(o.signInUserSession=o.getCognitoUserSession(l.AuthenticationResult),o.cacheTokens(),i.onSuccess(o.signInUserSession))})},t.authenticateUser=function(n,i){return this.authenticationFlowType==="USER_PASSWORD_AUTH"?this.authenticateUserPlainUsernamePassword(n,i):this.authenticationFlowType==="USER_SRP_AUTH"||this.authenticationFlowType==="CUSTOM_AUTH"?this.authenticateUserDefaultAuth(n,i):i.onFailure(new Error("Authentication flow type is invalid."))},t.authenticateUserDefaultAuth=function(n,i){var o=this,s=new Dn(this.pool.getUserPoolId().split("_")[1]),a=new gh,c,u,l={};this.deviceKey!=null&&(l.DEVICE_KEY=this.deviceKey),l.USERNAME=this.username,s.getLargeAValue(function(f,d){f&&i.onFailure(f),l.SRP_A=d.toString(16),o.authenticationFlowType==="CUSTOM_AUTH"&&(l.CHALLENGE_NAME="SRP_A");var h=Object.keys(n.getValidationData()).length!==0?n.getValidationData():n.getClientMetadata(),m={AuthFlow:o.authenticationFlowType,ClientId:o.pool.getClientId(),AuthParameters:l,ClientMetadata:h};o.getUserContextData(o.username)&&(m.UserContextData=o.getUserContextData(o.username)),o.client.request("InitiateAuth",m,function(y,_){if(y)return i.onFailure(y);var C=_.ChallengeParameters;o.username=C.USER_ID_FOR_SRP,o.userDataKey=o.keyPrefix+"."+o.username+".userData",c=new ae(C.SRP_B,16),u=new ae(C.SALT,16),o.getCachedDeviceKeyAndPassword(),s.getPasswordAuthenticationKey(o.username,n.getPassword(),c,u,function(w,A){w&&i.onFailure(w);var I=a.getNowString(),O=Yr.lib.WordArray.create(Be.Buffer.concat([Be.Buffer.from(o.pool.getUserPoolId().split("_")[1],"utf8"),Be.Buffer.from(o.username,"utf8"),Be.Buffer.from(C.SECRET_BLOCK,"base64"),Be.Buffer.from(I,"utf8")])),D=Yr.lib.WordArray.create(A),q=Vu.stringify(ss(O,D)),L={};L.USERNAME=o.username,L.PASSWORD_CLAIM_SECRET_BLOCK=C.SECRET_BLOCK,L.TIMESTAMP=I,L.PASSWORD_CLAIM_SIGNATURE=q,o.deviceKey!=null&&(L.DEVICE_KEY=o.deviceKey);var H=function U(R,j){return o.client.request("RespondToAuthChallenge",R,function(V,$){return V&&V.code==="ResourceNotFoundException"&&V.message.toLowerCase().indexOf("device")!==-1?(L.DEVICE_KEY=null,o.deviceKey=null,o.randomPassword=null,o.deviceGroupKey=null,o.clearCachedDeviceKeyAndPassword(),U(R,j)):j(V,$)})},k={ChallengeName:"PASSWORD_VERIFIER",ClientId:o.pool.getClientId(),ChallengeResponses:L,Session:_.Session,ClientMetadata:h};o.getUserContextData()&&(k.UserContextData=o.getUserContextData()),H(k,function(U,R){return U?i.onFailure(U):o.authenticateUserInternal(R,s,i)})})})})},t.authenticateUserPlainUsernamePassword=function(n,i){var o=this,s={};if(s.USERNAME=this.username,s.PASSWORD=n.getPassword(),!s.PASSWORD){i.onFailure(new Error("PASSWORD parameter is required"));return}var a=new Dn(this.pool.getUserPoolId().split("_")[1]);this.getCachedDeviceKeyAndPassword(),this.deviceKey!=null&&(s.DEVICE_KEY=this.deviceKey);var c=Object.keys(n.getValidationData()).length!==0?n.getValidationData():n.getClientMetadata(),u={AuthFlow:"USER_PASSWORD_AUTH",ClientId:this.pool.getClientId(),AuthParameters:s,ClientMetadata:c};this.getUserContextData(this.username)&&(u.UserContextData=this.getUserContextData(this.username)),this.client.request("InitiateAuth",u,function(l,f){return l?i.onFailure(l):o.authenticateUserInternal(f,a,i)})},t.authenticateUserInternal=function(n,i,o){var s=this,a=n.ChallengeName,c=n.ChallengeParameters;if(a==="SMS_MFA")return this.Session=n.Session,o.mfaRequired(a,c);if(a==="SELECT_MFA_TYPE")return this.Session=n.Session,o.selectMFAType(a,c);if(a==="MFA_SETUP")return this.Session=n.Session,o.mfaSetup(a,c);if(a==="SOFTWARE_TOKEN_MFA")return this.Session=n.Session,o.totpRequired(a,c);if(a==="CUSTOM_CHALLENGE")return this.Session=n.Session,o.customChallenge(c);if(a==="NEW_PASSWORD_REQUIRED"){this.Session=n.Session;var u=null,l=null,f=[],d=i.getNewPasswordRequiredChallengeUserAttributePrefix();if(c&&(u=JSON.parse(n.ChallengeParameters.userAttributes),l=JSON.parse(n.ChallengeParameters.requiredAttributes)),l)for(var h=0;h<l.length;h++)f[h]=l[h].substr(d.length);return o.newPasswordRequired(u,f)}if(a==="DEVICE_SRP_AUTH"){this.Session=n.Session,this.getDeviceResponse(o);return}this.signInUserSession=this.getCognitoUserSession(n.AuthenticationResult),this.challengeName=a,this.cacheTokens();var m=n.AuthenticationResult.NewDeviceMetadata;if(m==null)return o.onSuccess(this.signInUserSession);i.generateHashDevice(n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,n.AuthenticationResult.NewDeviceMetadata.DeviceKey,function(y){if(y)return o.onFailure(y);var _={Salt:Be.Buffer.from(i.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:Be.Buffer.from(i.getVerifierDevices(),"hex").toString("base64")};s.verifierDevices=_.PasswordVerifier,s.deviceGroupKey=m.DeviceGroupKey,s.randomPassword=i.getRandomPassword(),s.client.request("ConfirmDevice",{DeviceKey:m.DeviceKey,AccessToken:s.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:_,DeviceName:ph},function(C,w){return C?o.onFailure(C):(s.deviceKey=n.AuthenticationResult.NewDeviceMetadata.DeviceKey,s.cacheDeviceKeyAndPassword(),w.UserConfirmationNecessary===!0?o.onSuccess(s.signInUserSession,w.UserConfirmationNecessary):o.onSuccess(s.signInUserSession))})})},t.completeNewPasswordChallenge=function(n,i,o,s){var a=this;if(!n)return o.onFailure(new Error("New password is required."));var c=new Dn(this.pool.getUserPoolId().split("_")[1]),u=c.getNewPasswordRequiredChallengeUserAttributePrefix(),l={};i&&Object.keys(i).forEach(function(d){l[u+d]=i[d]}),l.NEW_PASSWORD=n,l.USERNAME=this.username;var f={ChallengeName:"NEW_PASSWORD_REQUIRED",ClientId:this.pool.getClientId(),ChallengeResponses:l,Session:this.Session,ClientMetadata:s};this.getUserContextData()&&(f.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",f,function(d,h){return d?o.onFailure(d):a.authenticateUserInternal(h,c,o)})},t.getDeviceResponse=function(n,i){var o=this,s=new Dn(this.deviceGroupKey),a=new gh,c={};c.USERNAME=this.username,c.DEVICE_KEY=this.deviceKey,s.getLargeAValue(function(u,l){u&&n.onFailure(u),c.SRP_A=l.toString(16);var f={ChallengeName:"DEVICE_SRP_AUTH",ClientId:o.pool.getClientId(),ChallengeResponses:c,ClientMetadata:i,Session:o.Session};o.getUserContextData()&&(f.UserContextData=o.getUserContextData()),o.client.request("RespondToAuthChallenge",f,function(d,h){if(d)return n.onFailure(d);var m=h.ChallengeParameters,y=new ae(m.SRP_B,16),_=new ae(m.SALT,16);s.getPasswordAuthenticationKey(o.deviceKey,o.randomPassword,y,_,function(C,w){if(C)return n.onFailure(C);var A=a.getNowString(),I=Yr.lib.WordArray.create(Be.Buffer.concat([Be.Buffer.from(o.deviceGroupKey,"utf8"),Be.Buffer.from(o.deviceKey,"utf8"),Be.Buffer.from(m.SECRET_BLOCK,"base64"),Be.Buffer.from(A,"utf8")])),O=Yr.lib.WordArray.create(w),D=Vu.stringify(ss(I,O)),q={};q.USERNAME=o.username,q.PASSWORD_CLAIM_SECRET_BLOCK=m.SECRET_BLOCK,q.TIMESTAMP=A,q.PASSWORD_CLAIM_SIGNATURE=D,q.DEVICE_KEY=o.deviceKey;var L={ChallengeName:"DEVICE_PASSWORD_VERIFIER",ClientId:o.pool.getClientId(),ChallengeResponses:q,Session:h.Session};o.getUserContextData()&&(L.UserContextData=o.getUserContextData()),o.client.request("RespondToAuthChallenge",L,function(H,k){return H?n.onFailure(H):(o.signInUserSession=o.getCognitoUserSession(k.AuthenticationResult),o.cacheTokens(),n.onSuccess(o.signInUserSession))})})})})},t.confirmRegistration=function(n,i,o,s){var a={ClientId:this.pool.getClientId(),ConfirmationCode:n,Username:this.username,ForceAliasCreation:i,ClientMetadata:s};this.getUserContextData()&&(a.UserContextData=this.getUserContextData()),this.client.request("ConfirmSignUp",a,function(c){return c?o(c,null):o(null,"SUCCESS")})},t.sendCustomChallengeAnswer=function(n,i,o){var s=this,a={};a.USERNAME=this.username,a.ANSWER=n;var c=new Dn(this.pool.getUserPoolId().split("_")[1]);this.getCachedDeviceKeyAndPassword(),this.deviceKey!=null&&(a.DEVICE_KEY=this.deviceKey);var u={ChallengeName:"CUSTOM_CHALLENGE",ChallengeResponses:a,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:o};this.getUserContextData()&&(u.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",u,function(l,f){return l?i.onFailure(l):s.authenticateUserInternal(f,c,i)})},t.sendMFACode=function(n,i,o,s){var a=this,c={};c.USERNAME=this.username,c.SMS_MFA_CODE=n;var u=o||"SMS_MFA";u==="SOFTWARE_TOKEN_MFA"&&(c.SOFTWARE_TOKEN_MFA_CODE=n),this.deviceKey!=null&&(c.DEVICE_KEY=this.deviceKey);var l={ChallengeName:u,ChallengeResponses:c,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:s};this.getUserContextData()&&(l.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",l,function(f,d){if(f)return i.onFailure(f);var h=d.ChallengeName;if(h==="DEVICE_SRP_AUTH"){a.getDeviceResponse(i);return}if(a.signInUserSession=a.getCognitoUserSession(d.AuthenticationResult),a.cacheTokens(),d.AuthenticationResult.NewDeviceMetadata==null)return i.onSuccess(a.signInUserSession);var m=new Dn(a.pool.getUserPoolId().split("_")[1]);m.generateHashDevice(d.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,d.AuthenticationResult.NewDeviceMetadata.DeviceKey,function(y){if(y)return i.onFailure(y);var _={Salt:Be.Buffer.from(m.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:Be.Buffer.from(m.getVerifierDevices(),"hex").toString("base64")};a.verifierDevices=_.PasswordVerifier,a.deviceGroupKey=d.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,a.randomPassword=m.getRandomPassword(),a.client.request("ConfirmDevice",{DeviceKey:d.AuthenticationResult.NewDeviceMetadata.DeviceKey,AccessToken:a.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:_,DeviceName:ph},function(C,w){return C?i.onFailure(C):(a.deviceKey=d.AuthenticationResult.NewDeviceMetadata.DeviceKey,a.cacheDeviceKeyAndPassword(),w.UserConfirmationNecessary===!0?i.onSuccess(a.signInUserSession,w.UserConfirmationNecessary):i.onSuccess(a.signInUserSession))})})})},t.changePassword=function(n,i,o,s){if(!(this.signInUserSession!=null&&this.signInUserSession.isValid()))return o(new Error("User is not authenticated"),null);this.client.request("ChangePassword",{PreviousPassword:n,ProposedPassword:i,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:s},function(a){return a?o(a,null):o(null,"SUCCESS")})},t.enableMFA=function(n){if(this.signInUserSession==null||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);var i=[],o={DeliveryMedium:"SMS",AttributeName:"phone_number"};i.push(o),this.client.request("SetUserSettings",{MFAOptions:i,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(s){return s?n(s,null):n(null,"SUCCESS")})},t.setUserMfaPreference=function(n,i,o){if(this.signInUserSession==null||!this.signInUserSession.isValid())return o(new Error("User is not authenticated"),null);this.client.request("SetUserMFAPreference",{SMSMfaSettings:n,SoftwareTokenMfaSettings:i,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(s){return s?o(s,null):o(null,"SUCCESS")})},t.disableMFA=function(n){if(this.signInUserSession==null||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);var i=[];this.client.request("SetUserSettings",{MFAOptions:i,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(o){return o?n(o,null):n(null,"SUCCESS")})},t.deleteUser=function(n,i){var o=this;if(this.signInUserSession==null||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("DeleteUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:i},function(s){return s?n(s,null):(o.clearCachedUser(),n(null,"SUCCESS"))})},t.updateAttributes=function(n,i,o){var s=this;if(this.signInUserSession==null||!this.signInUserSession.isValid())return i(new Error("User is not authenticated"),null);this.client.request("UpdateUserAttributes",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserAttributes:n,ClientMetadata:o},function(a){return a?i(a,null):s.getUserData(function(){return i(null,"SUCCESS")},{bypassCache:!0})})},t.getUserAttributes=function(n){if(!(this.signInUserSession!=null&&this.signInUserSession.isValid()))return n(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(i,o){if(i)return n(i,null);for(var s=[],a=0;a<o.UserAttributes.length;a++){var c={Name:o.UserAttributes[a].Name,Value:o.UserAttributes[a].Value},u=new Gn(c);s.push(u)}return n(null,s)})},t.getMFAOptions=function(n){if(!(this.signInUserSession!=null&&this.signInUserSession.isValid()))return n(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(i,o){return i?n(i,null):n(null,o.MFAOptions)})},t.createGetUserRequest=function(){return this.client.promisifyRequest("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()})},t.refreshSessionIfPossible=function(n){var i=this;return n===void 0&&(n={}),new Promise(function(o){var s=i.signInUserSession.getRefreshToken();s&&s.getToken()?i.refreshSession(s,o,n.clientMetadata):o()})},t.getUserData=function(n,i){var o=this;if(!(this.signInUserSession!=null&&this.signInUserSession.isValid()))return this.clearCachedUserData(),n(new Error("User is not authenticated"),null);var s=this.getUserDataFromCache();if(!s){this.fetchUserData().then(function(a){n(null,a)}).catch(n);return}if(this.isFetchUserDataAndTokenRequired(i)){this.fetchUserData().then(function(a){return o.refreshSessionIfPossible(i).then(function(){return a})}).then(function(a){return n(null,a)}).catch(n);return}try{n(null,JSON.parse(s));return}catch(a){this.clearCachedUserData(),n(a,null);return}},t.getUserDataFromCache=function(){var n=this.storage.getItem(this.userDataKey);return n},t.isFetchUserDataAndTokenRequired=function(n){var i=n||{},o=i.bypassCache,s=o===void 0?!1:o;return s},t.fetchUserData=function(){var n=this;return this.createGetUserRequest().then(function(i){return n.cacheUserData(i),i})},t.deleteAttributes=function(n,i){var o=this;if(!(this.signInUserSession!=null&&this.signInUserSession.isValid()))return i(new Error("User is not authenticated"),null);this.client.request("DeleteUserAttributes",{UserAttributeNames:n,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(s){return s?i(s,null):o.getUserData(function(){return i(null,"SUCCESS")},{bypassCache:!0})})},t.resendConfirmationCode=function(n,i){var o={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:i};this.client.request("ResendConfirmationCode",o,function(s,a){return s?n(s,null):n(null,a)})},t.getSession=function(n,i){if(i===void 0&&(i={}),this.username==null)return n(new Error("Username is null. Cannot retrieve a new session"),null);if(this.signInUserSession!=null&&this.signInUserSession.isValid())return n(null,this.signInUserSession);var o="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,s=o+".idToken",a=o+".accessToken",c=o+".refreshToken",u=o+".clockDrift";if(this.storage.getItem(s)){var l=new $u({IdToken:this.storage.getItem(s)}),f=new qu({AccessToken:this.storage.getItem(a)}),d=new Hu({RefreshToken:this.storage.getItem(c)}),h=parseInt(this.storage.getItem(u),0)||0,m={IdToken:l,AccessToken:f,RefreshToken:d,ClockDrift:h},y=new Gu(m);if(y.isValid())return this.signInUserSession=y,n(null,this.signInUserSession);if(!d.getToken())return n(new Error("Cannot retrieve a new session. Please authenticate."),null);this.refreshSession(d,n,i.clientMetadata)}else n(new Error("Local storage is missing an ID Token, Please authenticate"),null)},t.refreshSession=function(n,i,o){var s=this,a=this.pool.wrapRefreshSessionCallback?this.pool.wrapRefreshSessionCallback(i):i,c={};c.REFRESH_TOKEN=n.getToken();var u="CognitoIdentityServiceProvider."+this.pool.getClientId(),l=u+".LastAuthUser";if(this.storage.getItem(l)){this.username=this.storage.getItem(l);var f=u+"."+this.username+".deviceKey";this.deviceKey=this.storage.getItem(f),c.DEVICE_KEY=this.deviceKey}var d={ClientId:this.pool.getClientId(),AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:c,ClientMetadata:o};this.getUserContextData()&&(d.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",d,function(h,m){if(h)return h.code==="NotAuthorizedException"&&s.clearCachedUser(),a(h,null);if(m){var y=m.AuthenticationResult;return Object.prototype.hasOwnProperty.call(y,"RefreshToken")||(y.RefreshToken=n.getToken()),s.signInUserSession=s.getCognitoUserSession(y),s.cacheTokens(),a(null,s.signInUserSession)}})},t.cacheTokens=function(){var n="CognitoIdentityServiceProvider."+this.pool.getClientId(),i=n+"."+this.username+".idToken",o=n+"."+this.username+".accessToken",s=n+"."+this.username+".refreshToken",a=n+"."+this.username+".clockDrift",c=n+".LastAuthUser";this.storage.setItem(i,this.signInUserSession.getIdToken().getJwtToken()),this.storage.setItem(o,this.signInUserSession.getAccessToken().getJwtToken()),this.storage.setItem(s,this.signInUserSession.getRefreshToken().getToken()),this.storage.setItem(a,""+this.signInUserSession.getClockDrift()),this.storage.setItem(c,this.username)},t.cacheUserData=function(n){this.storage.setItem(this.userDataKey,JSON.stringify(n))},t.clearCachedUserData=function(){this.storage.removeItem(this.userDataKey)},t.clearCachedUser=function(){this.clearCachedTokens(),this.clearCachedUserData()},t.cacheDeviceKeyAndPassword=function(){var n="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,i=n+".deviceKey",o=n+".randomPasswordKey",s=n+".deviceGroupKey";this.storage.setItem(i,this.deviceKey),this.storage.setItem(o,this.randomPassword),this.storage.setItem(s,this.deviceGroupKey)},t.getCachedDeviceKeyAndPassword=function(){var n="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,i=n+".deviceKey",o=n+".randomPasswordKey",s=n+".deviceGroupKey";this.storage.getItem(i)&&(this.deviceKey=this.storage.getItem(i),this.randomPassword=this.storage.getItem(o),this.deviceGroupKey=this.storage.getItem(s))},t.clearCachedDeviceKeyAndPassword=function(){var n="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,i=n+".deviceKey",o=n+".randomPasswordKey",s=n+".deviceGroupKey";this.storage.removeItem(i),this.storage.removeItem(o),this.storage.removeItem(s)},t.clearCachedTokens=function(){var n="CognitoIdentityServiceProvider."+this.pool.getClientId(),i=n+"."+this.username+".idToken",o=n+"."+this.username+".accessToken",s=n+"."+this.username+".refreshToken",a=n+".LastAuthUser",c=n+"."+this.username+".clockDrift";this.storage.removeItem(i),this.storage.removeItem(o),this.storage.removeItem(s),this.storage.removeItem(a),this.storage.removeItem(c)},t.getCognitoUserSession=function(n){var i=new $u(n),o=new qu(n),s=new Hu(n),a={IdToken:i,AccessToken:o,RefreshToken:s};return new Gu(a)},t.forgotPassword=function(n,i){var o={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:i};this.getUserContextData()&&(o.UserContextData=this.getUserContextData()),this.client.request("ForgotPassword",o,function(s,a){return s?n.onFailure(s):typeof n.inputVerificationCode=="function"?n.inputVerificationCode(a):n.onSuccess(a)})},t.confirmPassword=function(n,i,o,s){var a={ClientId:this.pool.getClientId(),Username:this.username,ConfirmationCode:n,Password:i,ClientMetadata:s};this.getUserContextData()&&(a.UserContextData=this.getUserContextData()),this.client.request("ConfirmForgotPassword",a,function(c){return c?o.onFailure(c):o.onSuccess("SUCCESS")})},t.getAttributeVerificationCode=function(n,i,o){if(this.signInUserSession==null||!this.signInUserSession.isValid())return i.onFailure(new Error("User is not authenticated"));this.client.request("GetUserAttributeVerificationCode",{AttributeName:n,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:o},function(s,a){return s?i.onFailure(s):typeof i.inputVerificationCode=="function"?i.inputVerificationCode(a):i.onSuccess("SUCCESS")})},t.verifyAttribute=function(n,i,o){if(this.signInUserSession==null||!this.signInUserSession.isValid())return o.onFailure(new Error("User is not authenticated"));this.client.request("VerifyUserAttribute",{AttributeName:n,Code:i,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(s){return s?o.onFailure(s):o.onSuccess("SUCCESS")})},t.getDevice=function(n){if(this.signInUserSession==null||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));this.client.request("GetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey},function(i,o){return i?n.onFailure(i):n.onSuccess(o)})},t.forgetSpecificDevice=function(n,i){if(this.signInUserSession==null||!this.signInUserSession.isValid())return i.onFailure(new Error("User is not authenticated"));this.client.request("ForgetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:n},function(o){return o?i.onFailure(o):i.onSuccess("SUCCESS")})},t.forgetDevice=function(n){var i=this;this.forgetSpecificDevice(this.deviceKey,{onFailure:n.onFailure,onSuccess:function(s){return i.deviceKey=null,i.deviceGroupKey=null,i.randomPassword=null,i.clearCachedDeviceKeyAndPassword(),n.onSuccess(s)}})},t.setDeviceStatusRemembered=function(n){if(this.signInUserSession==null||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"remembered"},function(i){return i?n.onFailure(i):n.onSuccess("SUCCESS")})},t.setDeviceStatusNotRemembered=function(n){if(this.signInUserSession==null||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"not_remembered"},function(i){return i?n.onFailure(i):n.onSuccess("SUCCESS")})},t.listDevices=function(n,i,o){if(this.signInUserSession==null||!this.signInUserSession.isValid())return o.onFailure(new Error("User is not authenticated"));var s={AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),Limit:n};i&&(s.PaginationToken=i),this.client.request("ListDevices",s,function(a,c){return a?o.onFailure(a):o.onSuccess(c)})},t.globalSignOut=function(n){var i=this;if(this.signInUserSession==null||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));this.client.request("GlobalSignOut",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(o){return o?n.onFailure(o):(i.clearCachedUser(),n.onSuccess("SUCCESS"))})},t.signOut=function(n){var i=this;if(!n||typeof n!="function"){this.cleanClientData();return}this.getSession(function(o,s){if(o)return n(o);i.revokeTokens(function(a){i.cleanClientData(),n(a)})})},t.revokeTokens=function(n){if(n===void 0&&(n=function(){}),typeof n!="function")throw new Error("Invalid revokeTokenCallback. It should be a function.");if(!this.signInUserSession){var i=new Error("User is not authenticated");return n(i)}if(!this.signInUserSession.getAccessToken()){var o=new Error("No Access token available");return n(o)}var s=this.signInUserSession.getRefreshToken().getToken(),a=this.signInUserSession.getAccessToken();if(this.isSessionRevocable(a)&&s)return this.revokeToken({token:s,callback:n});n()},t.isSessionRevocable=function(n){if(n&&typeof n.decodePayload=="function")try{var i=n.decodePayload(),o=i.origin_jti;return!!o}catch{}return!1},t.cleanClientData=function(){this.signInUserSession=null,this.clearCachedUser()},t.revokeToken=function(n){var i=n.token,o=n.callback;this.client.requestWithRetry("RevokeToken",{Token:i,ClientId:this.pool.getClientId()},function(s){if(s)return o(s);o()})},t.sendMFASelectionAnswer=function(n,i){var o=this,s={};s.USERNAME=this.username,s.ANSWER=n;var a={ChallengeName:"SELECT_MFA_TYPE",ChallengeResponses:s,ClientId:this.pool.getClientId(),Session:this.Session};this.getUserContextData()&&(a.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",a,function(c,u){if(c)return i.onFailure(c);if(o.Session=u.Session,n==="SMS_MFA")return i.mfaRequired(u.ChallengeName,u.ChallengeParameters);if(n==="SOFTWARE_TOKEN_MFA")return i.totpRequired(u.ChallengeName,u.ChallengeParameters)})},t.getUserContextData=function(){var n=this.pool;return n.getUserContextData(this.username)},t.associateSoftwareToken=function(n){var i=this;this.signInUserSession!=null&&this.signInUserSession.isValid()?this.client.request("AssociateSoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(o,s){return o?n.onFailure(o):n.associateSecretCode(s.SecretCode)}):this.client.request("AssociateSoftwareToken",{Session:this.Session},function(o,s){return o?n.onFailure(o):(i.Session=s.Session,n.associateSecretCode(s.SecretCode))})},t.verifySoftwareToken=function(n,i,o){var s=this;this.signInUserSession!=null&&this.signInUserSession.isValid()?this.client.request("VerifySoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserCode:n,FriendlyDeviceName:i},function(a,c){return a?o.onFailure(a):o.onSuccess(c)}):this.client.request("VerifySoftwareToken",{Session:this.Session,UserCode:n,FriendlyDeviceName:i},function(a,c){if(a)return o.onFailure(a);s.Session=c.Session;var u={};u.USERNAME=s.username;var l={ChallengeName:"MFA_SETUP",ClientId:s.pool.getClientId(),ChallengeResponses:u,Session:s.Session};s.getUserContextData()&&(l.UserContextData=s.getUserContextData()),s.client.request("RespondToAuthChallenge",l,function(f,d){return f?o.onFailure(f):(s.signInUserSession=s.getCognitoUserSession(d.AuthenticationResult),s.cacheTokens(),o.onSuccess(s.signInUserSession))})})},e}();function dP(e,t){return t=t||{},new Promise(function(r,n){var i=new XMLHttpRequest,o=[],s=[],a={},c=function(){return{ok:(i.status/100|0)==2,statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:c,headers:{keys:function(){return o},entries:function(){return s},get:function(l){return a[l.toLowerCase()]},has:function(l){return l.toLowerCase()in a}}}};for(var u in i.open(t.method||"get",e,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(l,f,d){o.push(f=f.toLowerCase()),s.push([f,d]),a[f]=a[f]?a[f]+","+d:d}),r(c())},i.onerror=n,i.withCredentials=t.credentials=="include",t.headers)i.setRequestHeader(u,t.headers[u]);i.send(t.body||null)})}const hP=Object.freeze(Object.defineProperty({__proto__:null,default:dP},Symbol.toStringTag,{value:"Module"})),vh=Ps(hP);self.fetch||(self.fetch=vh.default||vh);var gP="5.0.4";/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var Yu="aws-amplify/"+gP,vn={userAgent:Yu+" js",product:"",navigator:null,isReactNative:!1};if(typeof navigator<"u"&&navigator.product)switch(vn.product=navigator.product||"",vn.navigator=navigator||null,navigator.product){case"ReactNative":vn.userAgent=Yu+" react-native",vn.isReactNative=!0;break;default:vn.userAgent=Yu+" js",vn.isReactNative=!1;break}var pP=function(){return vn.userAgent};function gS(){}gS.prototype.userAgent=pP();function vP(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ro(e,t)}function Xu(e){var t=typeof Map=="function"?new Map:void 0;return Xu=function(n){if(n===null||!yP(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(n))return t.get(n);t.set(n,i)}function i(){return jo(n,arguments,Ju(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),ro(i,n)},Xu(e)}function jo(e,t,r){return mP()?jo=Reflect.construct.bind():jo=function(i,o,s){var a=[null];a.push.apply(a,o);var c=Function.bind.apply(i,a),u=new c;return s&&ro(u,s.prototype),u},jo.apply(null,arguments)}function mP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yP(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function ro(e,t){return ro=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ro(e,t)}function Ju(e){return Ju=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ju(e)}var wP=function(e){vP(t,e);function t(r,n,i,o){var s;return s=e.call(this,r)||this,s.code=n,s.name=i,s.statusCode=o,s}return t}(Xu(Error)),SP=function(){function e(r,n,i){this.endpoint=n||"https://cognito-idp."+r+".amazonaws.com/";var o=i||{},s=o.credentials;this.fetchOptions=s?{credentials:s}:{}}var t=e.prototype;return t.promisifyRequest=function(n,i){var o=this;return new Promise(function(s,a){o.request(n,i,function(c,u){c?a(new wP(c.message,c.code,c.name,c.statusCode)):s(u)})})},t.requestWithRetry=function(n,i,o){var s=this,a=5*1e3;EP(function(c){return new Promise(function(u,l){s.request(n,c,function(f,d){f?l(f):u(d)})})},[i],a).then(function(c){return o(null,c)}).catch(function(c){return o(c)})},t.request=function(n,i,o){var s={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityProviderService."+n,"X-Amz-User-Agent":gS.prototype.userAgent},a=Object.assign({},this.fetchOptions,{headers:s,method:"POST",mode:"cors",cache:"no-cache",body:JSON.stringify(i)}),c;fetch(this.endpoint,a).then(function(u){return c=u,u},function(u){throw u instanceof TypeError?new Error("Network error"):u}).then(function(u){return u.json().catch(function(){return{}})}).then(function(u){if(c.ok)return o(null,u);var l=(u.__type||u.code).split("#").pop(),f=new Error(u.message||u.Message||null);return f.name=l,f.code=l,o(f)}).catch(function(u){if(c&&c.headers&&c.headers.get("x-amzn-errortype"))try{var l=c.headers.get("x-amzn-errortype").split(":")[0],f=new Error(c.status?c.status.toString():null);return f.code=l,f.name=l,f.statusCode=c.status,o(f)}catch{return o(u)}else u instanceof Error&&u.message==="Network error"&&(u.code="NetworkError");return o(u)})},e}(),ko={debug:function(){}},_P=function(t){var r="nonRetryable";return t&&t[r]};function pS(e,t,r,n){if(n===void 0&&(n=1),typeof e!="function")throw Error("functionToRetry must be a function");return ko.debug(e.name+" attempt #"+n+" with args: "+JSON.stringify(t)),e.apply(void 0,t).catch(function(i){if(ko.debug("error on "+e.name,i),_P(i))throw ko.debug(e.name+" non retryable error",i),i;var o=r(n,t,i);if(ko.debug(e.name+" retrying in "+o+" ms"),o!==!1)return new Promise(function(s){return setTimeout(s,o)}).then(function(){return pS(e,t,r,n+1)});throw i})}function bP(e){var t=100,r=100;return function(n){var i=Math.pow(2,n)*t+r*Math.random();return i>e?!1:i}}var CP=5*60*1e3;function EP(e,t,r){return r===void 0&&(r=CP),pS(e,t,bP(r))}/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var xP=55,AP=function(){function e(r,n){var i=r||{},o=i.UserPoolId,s=i.ClientId,a=i.endpoint,c=i.fetchOptions,u=i.AdvancedSecurityDataCollectionFlag;if(!o||!s)throw new Error("Both UserPoolId and ClientId are required.");if(o.length>xP||!/^[\w-]+_[0-9a-zA-Z]+$/.test(o))throw new Error("Invalid UserPoolId format.");var l=o.split("_")[0];this.userPoolId=o,this.clientId=s,this.client=new SP(l,a,c),this.advancedSecurityDataCollectionFlag=u!==!1,this.storage=r.Storage||new hS().getStorage(),n&&(this.wrapRefreshSessionCallback=n)}var t=e.prototype;return t.getUserPoolId=function(){return this.userPoolId},t.getClientId=function(){return this.clientId},t.signUp=function(n,i,o,s,a,c){var u=this,l={ClientId:this.clientId,Username:n,Password:i,UserAttributes:o,ValidationData:s,ClientMetadata:c};this.getUserContextData(n)&&(l.UserContextData=this.getUserContextData(n)),this.client.request("SignUp",l,function(f,d){if(f)return a(f,null);var h={Username:n,Pool:u,Storage:u.storage},m={user:new Wu(h),userConfirmed:d.UserConfirmed,userSub:d.UserSub,codeDeliveryDetails:d.CodeDeliveryDetails};return a(null,m)})},t.getCurrentUser=function(){var n="CognitoIdentityServiceProvider."+this.clientId+".LastAuthUser",i=this.storage.getItem(n);if(i){var o={Username:i,Pool:this,Storage:this.storage};return new Wu(o)}return null},t.getUserContextData=function(n){if(!(typeof AmazonCognitoAdvancedSecurityData>"u")){var i=AmazonCognitoAdvancedSecurityData;if(this.advancedSecurityDataCollectionFlag){var o=i.getData(n,this.userPoolId,this.clientId);if(o){var s={EncodedData:o};return s}}return{}}},e}(),Wn={exports:{}};/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */(function(e,t){(function(r){var n;if(e.exports=r(),n=!0,!n){var i=window.Cookies,o=window.Cookies=r();o.noConflict=function(){return window.Cookies=i,o}}})(function(){function r(){for(var o=0,s={};o<arguments.length;o++){var a=arguments[o];for(var c in a)s[c]=a[c]}return s}function n(o){return o.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function i(o){function s(){}function a(u,l,f){if(!(typeof document>"u")){f=r({path:"/"},s.defaults,f),typeof f.expires=="number"&&(f.expires=new Date(new Date*1+f.expires*864e5)),f.expires=f.expires?f.expires.toUTCString():"";try{var d=JSON.stringify(l);/^[\{\[]/.test(d)&&(l=d)}catch{}l=o.write?o.write(l,u):encodeURIComponent(String(l)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),u=encodeURIComponent(String(u)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var h="";for(var m in f)!f[m]||(h+="; "+m,f[m]!==!0&&(h+="="+f[m].split(";")[0]));return document.cookie=u+"="+l+h}}function c(u,l){if(!(typeof document>"u")){for(var f={},d=document.cookie?document.cookie.split("; "):[],h=0;h<d.length;h++){var m=d[h].split("="),y=m.slice(1).join("=");!l&&y.charAt(0)==='"'&&(y=y.slice(1,-1));try{var _=n(m[0]);if(y=(o.read||o)(y,_)||n(y),l)try{y=JSON.parse(y)}catch{}if(f[_]=y,u===_)break}catch{}}return u?f[u]:f}}return s.set=a,s.get=function(u){return c(u,!1)},s.getJSON=function(u){return c(u,!0)},s.remove=function(u,l){a(u,"",r(l,{expires:-1}))},s.defaults={},s.withConverter=i,s}return i(function(){})})})(Wn);var IP=function(){function e(r){if(r.domain)this.domain=r.domain;else throw new Error("The domain of cookieStorage can not be undefined.");if(r.path?this.path=r.path:this.path="/",Object.prototype.hasOwnProperty.call(r,"expires")?this.expires=r.expires:this.expires=365,Object.prototype.hasOwnProperty.call(r,"secure")?this.secure=r.secure:this.secure=!0,Object.prototype.hasOwnProperty.call(r,"sameSite")){if(!["strict","lax","none"].includes(r.sameSite))throw new Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if(r.sameSite==="none"&&!this.secure)throw new Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=r.sameSite}else this.sameSite=null}var t=e.prototype;return t.setItem=function(n,i){var o={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(o.sameSite=this.sameSite),Wn.exports.set(n,i,o),Wn.exports.get(n)},t.getItem=function(n){return Wn.exports.get(n)},t.removeItem=function(n){var i={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(i.sameSite=this.sameSite),Wn.exports.remove(n,i)},t.clear=function(){for(var n=Wn.exports.get(),i=Object.keys(n).length,o=0;o<i;++o)this.removeItem(Object.keys(n)[o]);return{}},e}(),TP="_self",PP=function(e){var t=window.open(e,TP);return t?Promise.resolve(t):Promise.reject()},kP=function(e){window.sessionStorage.setItem("oauth_state",e)},RP=function(){var e=window.sessionStorage.getItem("oauth_state");return window.sessionStorage.removeItem("oauth_state"),e},OP=function(e){window.sessionStorage.setItem("ouath_pkce_key",e)},UP=function(){var e=window.sessionStorage.getItem("ouath_pkce_key");return window.sessionStorage.removeItem("ouath_pkce_key"),e},gt=globalThis&&globalThis.__assign||function(){return gt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},gt.apply(this,arguments)},Ro=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(f){s(f)}}function c(l){try{u(n.throw(l))}catch(f){s(f)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})},Oo=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},fn=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o},LP=typeof Symbol<"u"&&typeof Symbol.for=="function"?Symbol.for("amplify_default"):"@@amplify_default",Ta=function(e,t,r){ar.dispatch("auth",{event:e,data:t,message:r},"Auth",LP)},Bn=new qe("OAuth"),MP=function(){function e(t){var r=t.config,n=t.cognitoClientId,i=t.scopes,o=i===void 0?[]:i;if(this._urlOpener=r.urlOpener||PP,this._config=r,this._cognitoClientId=n,!this.isValidScopes(o))throw Error("scopes must be a String Array");this._scopes=o}return e.prototype.isValidScopes=function(t){return Array.isArray(t)&&t.every(function(r){return typeof r=="string"})},e.prototype.oauthSignIn=function(t,r,n,i,o,s){t===void 0&&(t="code"),o===void 0&&(o=os.Cognito);var a=this._generateState(32),c=s?a+"-"+q1(s):a;kP(c);var u=this._generateRandom(128);OP(u);var l=this._generateChallenge(u),f="S256",d=this._scopes.join(" "),h=Object.entries(gt(gt({redirect_uri:n,response_type:t,client_id:i,identity_provider:o,scope:d,state:c},t==="code"?{code_challenge:l}:{}),t==="code"?{code_challenge_method:f}:{})).map(function(y){var _=fn(y,2),C=_[0],w=_[1];return encodeURIComponent(C)+"="+encodeURIComponent(w)}).join("&"),m="https://"+r+"/oauth2/authorize?"+h;Bn.debug("Redirecting to "+m),this._urlOpener(m,n)},e.prototype._handleCodeFlow=function(t){return Ro(this,void 0,void 0,function(){var r,n,i,o,s,a,c,u,l,f,d,h,m,y;return Oo(this,function(_){switch(_.label){case 0:return r=(Vr(t).query||"").split("&").map(function(C){return C.split("=")}).reduce(function(C,w){var A,I=fn(w,2),O=I[0],D=I[1];return gt(gt({},C),(A={},A[O]=D,A))},{code:void 0}).code,n=Vr(t).pathname||"/",i=Vr(this._config.redirectSignIn).pathname||"/",!r||n!==i?[2]:(o="https://"+this._config.domain+"/oauth2/token",Ta("codeFlow",{},"Retrieving tokens from "+o),s=En(this._config)?this._cognitoClientId:this._config.clientID,a=En(this._config)?this._config.redirectSignIn:this._config.redirectUri,c=UP(),u=gt({grant_type:"authorization_code",code:r,client_id:s,redirect_uri:a},c?{code_verifier:c}:{}),Bn.debug("Calling token endpoint: "+o+" with",u),l=Object.entries(u).map(function(C){var w=fn(C,2),A=w[0],I=w[1];return encodeURIComponent(A)+"="+encodeURIComponent(I)}).join("&"),[4,fetch(o,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:l})]);case 1:return[4,_.sent().json()];case 2:if(f=_.sent(),d=f.access_token,h=f.refresh_token,m=f.id_token,y=f.error,y)throw new Error(y);return[2,{accessToken:d,refreshToken:h,idToken:m}]}})})},e.prototype._handleImplicitFlow=function(t){return Ro(this,void 0,void 0,function(){var r,n,i;return Oo(this,function(o){return r=(Vr(t).hash||"#").substr(1).split("&").map(function(s){return s.split("=")}).reduce(function(s,a){var c,u=fn(a,2),l=u[0],f=u[1];return gt(gt({},s),(c={},c[l]=f,c))},{id_token:void 0,access_token:void 0}),n=r.id_token,i=r.access_token,Ta("implicitFlow",{},"Got tokens from "+t),Bn.debug("Retrieving implicit tokens from "+t+" with"),[2,{accessToken:i,idToken:n,refreshToken:null}]})})},e.prototype.handleAuthResponse=function(t){return Ro(this,void 0,void 0,function(){var r,n,i,o,s,a,c;return Oo(this,function(u){switch(u.label){case 0:if(u.trys.push([0,5,,6]),r=t?gt(gt({},(Vr(t).hash||"#").substr(1).split("&").map(function(l){return l.split("=")}).reduce(function(l,f){var d=fn(f,2),h=d[0],m=d[1];return l[h]=m,l},{})),(Vr(t).query||"").split("&").map(function(l){return l.split("=")}).reduce(function(l,f){var d=fn(f,2),h=d[0],m=d[1];return l[h]=m,l},{})):{},n=r.error,i=r.error_description,n)throw new Error(i);return o=this._validateState(r),Bn.debug("Starting "+this._config.responseType+" flow with "+t),this._config.responseType!=="code"?[3,2]:(s=[{}],[4,this._handleCodeFlow(t)]);case 1:return[2,gt.apply(void 0,[gt.apply(void 0,s.concat([u.sent()])),{state:o}])];case 2:return a=[{}],[4,this._handleImplicitFlow(t)];case 3:return[2,gt.apply(void 0,[gt.apply(void 0,a.concat([u.sent()])),{state:o}])];case 4:return[3,6];case 5:throw c=u.sent(),Bn.error("Error handling auth response.",c),c;case 6:return[2]}})})},e.prototype._validateState=function(t){if(!!t){var r=RP(),n=t.state;if(r&&r!==n)throw new Error("Invalid state in OAuth flow");return n}},e.prototype.signOut=function(){return Ro(this,void 0,void 0,function(){var t,r,n;return Oo(this,function(i){return t="https://"+this._config.domain+"/logout?",r=En(this._config)?this._cognitoClientId:this._config.oauth.clientID,n=En(this._config)?this._config.redirectSignOut:this._config.returnTo,t+=Object.entries({client_id:r,logout_uri:encodeURIComponent(n)}).map(function(o){var s=fn(o,2),a=s[0],c=s[1];return a+"="+c}).join("&"),Ta("oAuthSignOut",{oAuth:"signOut"},"Signing out from "+t),Bn.debug("Signing out from "+t),[2,this._urlOpener(t,n)]})})},e.prototype._generateState=function(t){for(var r="",n=t,i="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";n>0;--n)r+=i[Math.round(Math.random()*(i.length-1))];return r},e.prototype._generateChallenge=function(t){return this._base64URL(cS(t))},e.prototype._base64URL=function(t){return t.toString(Vu).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},e.prototype._generateRandom=function(t){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=new Uint8Array(t);if(typeof window<"u"&&!!window.crypto)window.crypto.getRandomValues(n);else for(var i=0;i<t;i+=1)n[i]=Math.random()*r.length|0;return this._bufferToString(n)},e.prototype._bufferToString=function(t){for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=[],i=0;i<t.byteLength;i+=1){var o=t[i]%r.length;n.push(r[o])}return n.join("")},e}();const NP=MP,DP=function(e){if(dr().isBrowser&&window.location){var t=window.location.href;e({url:t})}else if(!dr().isNode)throw new Error("Not supported")};var tt;(function(e){e.DEFAULT_MSG="Authentication Error",e.EMPTY_EMAIL="Email cannot be empty",e.EMPTY_PHONE="Phone number cannot be empty",e.EMPTY_USERNAME="Username cannot be empty",e.INVALID_USERNAME="The username should either be a string or one of the sign in types",e.EMPTY_PASSWORD="Password cannot be empty",e.EMPTY_CODE="Confirmation code cannot be empty",e.SIGN_UP_ERROR="Error creating account",e.NO_MFA="No valid MFA method provided",e.INVALID_MFA="Invalid MFA type",e.EMPTY_CHALLENGE="Challenge response cannot be empty",e.NO_USER_SESSION="Failed to get the session because the user is empty",e.NETWORK_ERROR="Network Error",e.DEVICE_CONFIG="Device tracking has not been configured in this User Pool",e.AUTOSIGNIN_ERROR="Please use your credentials to sign in"})(tt||(tt={}));var vS=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),BP=new qe("AuthError"),qr=function(e){vS(t,e);function t(r){var n=this,i=zP[r],o=i.message,s=i.log;return n=e.call(this,o)||this,n.constructor=t,Object.setPrototypeOf(n,t.prototype),n.name="AuthError",n.log=s||o,BP.error(n.log),n}return t}(Error),FP=function(e){vS(t,e);function t(r){var n=e.call(this,r)||this;return n.constructor=t,Object.setPrototypeOf(n,t.prototype),n.name="NoUserPoolError",n}return t}(qr),zP={noConfig:{message:tt.DEFAULT_MSG,log:`
            Error: Amplify has not been configured correctly.
            This error is typically caused by one of the following scenarios:

            1. Make sure you're passing the awsconfig object to Amplify.configure() in your app's entry point
                See https://aws-amplify.github.io/docs/js/authentication#configure-your-app for more information
            
            2. There might be multiple conflicting versions of amplify packages in your node_modules.
				Refer to our docs site for help upgrading Amplify packages (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js)
        `},missingAuthConfig:{message:tt.DEFAULT_MSG,log:`
            Error: Amplify has not been configured correctly. 
            The configuration object is missing required auth properties.
            This error is typically caused by one of the following scenarios:

            1. Did you run \`amplify push\` after adding auth via \`amplify add auth\`?
                See https://aws-amplify.github.io/docs/js/authentication#amplify-project-setup for more information

            2. This could also be caused by multiple conflicting versions of amplify packages, see (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js) for help upgrading Amplify packages.
        `},emptyUsername:{message:tt.EMPTY_USERNAME},invalidUsername:{message:tt.INVALID_USERNAME},emptyPassword:{message:tt.EMPTY_PASSWORD},emptyCode:{message:tt.EMPTY_CODE},signUpError:{message:tt.SIGN_UP_ERROR,log:"The first parameter should either be non-null string or object"},noMFA:{message:tt.NO_MFA},invalidMFA:{message:tt.INVALID_MFA},emptyChallengeResponse:{message:tt.EMPTY_CHALLENGE},noUserSession:{message:tt.NO_USER_SESSION},deviceConfig:{message:tt.DEVICE_CONFIG},networkError:{message:tt.NETWORK_ERROR},autoSignInError:{message:tt.AUTOSIGNIN_ERROR},default:{message:tt.DEFAULT_MSG}},as=globalThis&&globalThis.__assign||function(){return as=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},as.apply(this,arguments)},Le=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(f){s(f)}}function c(l){try{u(n.throw(l))}catch(f){s(f)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})},Me=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},mh=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o},Y=new qe("AuthClass"),yh="aws.cognito.signin.user.admin",KP=10*1e3,qP=typeof Symbol<"u"&&typeof Symbol.for=="function"?Symbol.for("amplify_default"):"@@amplify_default",Te=function(e,t,r){ar.dispatch("auth",{event:e,data:t,message:r},"Auth",qP)},jP=60,$P=3*60*1e3,HP=function(){function e(t){var r=this;this.userPool=null,this.user=null,this.oAuthFlowInProgress=!1,this.autoSignInInitiated=!1,this.Credentials=cr,this.wrapRefreshSessionCallback=function(n){var i=function(o,s){return s?Te("tokenRefresh",void 0,"New token retrieved"):Te("tokenRefresh_failure",o,"Failed to retrieve new token"),n(o,s)};return i},this.configure(t),this.currentCredentials=this.currentCredentials.bind(this),this.currentUserCredentials=this.currentUserCredentials.bind(this),ar.listen("auth",function(n){var i=n.payload,o=i.event;switch(o){case"signIn":r._storage.setItem("amplify-signin-with-hostedUI","false");break;case"signOut":r._storage.removeItem("amplify-signin-with-hostedUI");break;case"cognitoHostedUI":r._storage.setItem("amplify-signin-with-hostedUI","true");break}})}return e.prototype.getModuleName=function(){return"Auth"},e.prototype.configure=function(t){var r=this;if(!t)return this._config||{};Y.debug("configure Auth");var n=Object.assign({},this._config,_l.parseMobilehubConfig(t).Auth,t);this._config=n;var i=this._config,o=i.userPoolId,s=i.userPoolWebClientId,a=i.cookieStorage,c=i.oauth,u=i.region,l=i.identityPoolId,f=i.mandatorySignIn,d=i.refreshHandlers,h=i.identityPoolRegion,m=i.clientMetadata,y=i.endpoint;if(!this._config.storage)a?this._storage=new IP(a):this._storage=t.ssr?new JI:new zs().getStorage();else{if(!this._isValidAuthStorage(this._config.storage))throw Y.error("The storage in the Auth config is not valid!"),new Error("Empty storage object");this._storage=this._config.storage}if(this._storageSync=Promise.resolve(),typeof this._storage.sync=="function"&&(this._storageSync=this._storage.sync()),o){var _={UserPoolId:o,ClientId:s,endpoint:y};_.Storage=this._storage,this.userPool=new AP(_,this.wrapRefreshSessionCallback)}this.Credentials.configure({mandatorySignIn:f,region:h||u,userPoolId:o,identityPoolId:l,refreshHandlers:d,storage:this._storage});var C=c?En(this._config.oauth)?c:c.awsCognito:void 0;if(C){var w=Object.assign({cognitoClientId:s,UserPoolId:o,domain:C.domain,scopes:C.scope,redirectSignIn:C.redirectSignIn,redirectSignOut:C.redirectSignOut,responseType:C.responseType,Storage:this._storage,urlOpener:C.urlOpener,clientMetadata:m},C.options);this._oAuthHandler=new NP({scopes:w.scopes,config:w,cognitoClientId:w.cognitoClientId});var A={};DP(function(O){var D=O.url;A[D]||(A[D]=!0,r._handleAuthResponse(D))})}if(Te("configured",null,"The Auth category has been configured successfully"),!this.autoSignInInitiated&&typeof this._storage.getItem=="function"){var I=this.isTrueStorageValue("amplify-polling-started");I&&(Te("autoSignIn_failure",null,Pe.AutoSignInError),this._storage.removeItem("amplify-auto-sign-in")),this._storage.removeItem("amplify-polling-started")}return this._config},e.prototype.signUp=function(t){for(var r=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o,s,a;if(!this.userPool)return this.rejectNoUserPool();var c=null,u=null,l=[],f=null,d,h={enabled:!1},m={},y={};if(t&&typeof t=="string"){c=t,u=n?n[0]:null;var _=n?n[1]:null,C=n?n[2]:null;_&&l.push(new Gn({Name:"email",Value:_})),C&&l.push(new Gn({Name:"phone_number",Value:C}))}else if(t&&typeof t=="object"){c=t.username,u=t.password,t&&t.clientMetadata?d=t.clientMetadata:this._config.clientMetadata&&(d=this._config.clientMetadata);var w=t.attributes;w&&Object.keys(w).map(function(I){l.push(new Gn({Name:I,Value:w[I]}))});var A=t.validationData;A&&(f=[],Object.keys(A).map(function(I){f.push(new Gn({Name:I,Value:A[I]}))})),h=(o=t.autoSignIn)!==null&&o!==void 0?o:{enabled:!1},h.enabled&&(this._storage.setItem("amplify-auto-sign-in","true"),m=(s=h.validationData)!==null&&s!==void 0?s:{},y=(a=h.clientMetaData)!==null&&a!==void 0?a:{})}else return this.rejectAuthError(Pe.SignUpError);return c?u?(Y.debug("signUp attrs:",l),Y.debug("signUp validation data:",f),new Promise(function(I,O){r.userPool.signUp(c,u,l,f,function(D,q){D?(Te("signUp_failure",D,c+" failed to signup"),O(D)):(Te("signUp",q,c+" has signed up successfully"),h.enabled&&r.handleAutoSignIn(c,u,m,y,q),I(q))},d)})):this.rejectAuthError(Pe.EmptyPassword):this.rejectAuthError(Pe.EmptyUsername)},e.prototype.handleAutoSignIn=function(t,r,n,i,o){this.autoSignInInitiated=!0;var s=new ch({Username:t,Password:r,ValidationData:n,ClientMetadata:i});o.userConfirmed?this.signInAfterUserConfirmed(s):this._config.signUpVerificationMethod==="link"?this.handleLinkAutoSignIn(s):this.handleCodeAutoSignIn(s)},e.prototype.handleCodeAutoSignIn=function(t){var r=this,n=function(i){var o=i.payload;o.event==="confirmSignUp"&&r.signInAfterUserConfirmed(t,n)};ar.listen("auth",n)},e.prototype.handleLinkAutoSignIn=function(t){var r=this;this._storage.setItem("amplify-polling-started","true");var n=Date.now(),i=setInterval(function(){Date.now()-n>$P?(clearInterval(i),Te("autoSignIn_failure",null,"Please confirm your account and use your credentials to sign in."),r._storage.removeItem("amplify-auto-sign-in")):r.signInAfterUserConfirmed(t,null,i)},5e3)},e.prototype.signInAfterUserConfirmed=function(t,r,n){return Le(this,void 0,void 0,function(){var i,o,s=this;return Me(this,function(a){switch(a.label){case 0:i=this.createCognitoUser(t.getUsername()),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,i.authenticateUser(t,this.authCallbacks(i,function(c){Te("autoSignIn",c,t.getUsername()+" has signed in successfully"),r&&ar.remove("auth",r),n&&(clearInterval(n),s._storage.removeItem("amplify-polling-started")),s._storage.removeItem("amplify-auto-sign-in")},function(c){Y.error(c),s._storage.removeItem("amplify-auto-sign-in")}))];case 2:return a.sent(),[3,4];case 3:return o=a.sent(),Y.error(o),[3,4];case 4:return[2]}})})},e.prototype.confirmSignUp=function(t,r,n){var i=this;if(!this.userPool)return this.rejectNoUserPool();if(!t)return this.rejectAuthError(Pe.EmptyUsername);if(!r)return this.rejectAuthError(Pe.EmptyCode);var o=this.createCognitoUser(t),s=n&&typeof n.forceAliasCreation=="boolean"?n.forceAliasCreation:!0,a;return n&&n.clientMetadata?a=n.clientMetadata:this._config.clientMetadata&&(a=this._config.clientMetadata),new Promise(function(c,u){o.confirmRegistration(r,s,function(l,f){if(l)u(l);else{Te("confirmSignUp",f,t+" has been confirmed successfully");var d=i.isTrueStorageValue("amplify-auto-sign-in");d&&!i.autoSignInInitiated&&(Te("autoSignIn_failure",null,Pe.AutoSignInError),i._storage.removeItem("amplify-auto-sign-in")),c(f)}},a)})},e.prototype.isTrueStorageValue=function(t){var r=this._storage.getItem(t);return r?r==="true":!1},e.prototype.resendSignUp=function(t,r){if(r===void 0&&(r=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!t)return this.rejectAuthError(Pe.EmptyUsername);var n=this.createCognitoUser(t);return new Promise(function(i,o){n.resendConfirmationCode(function(s,a){s?o(s):i(a)},r)})},e.prototype.signIn=function(t,r,n){if(n===void 0&&(n=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();var i=null,o=null,s={};if(typeof t=="string")i=t,o=r;else if(eT(t))typeof r<"u"&&Y.warn("The password should be defined under the first parameter object!"),i=t.username,o=t.password,s=t.validationData;else return this.rejectAuthError(Pe.InvalidUsername);if(!i)return this.rejectAuthError(Pe.EmptyUsername);var a=new ch({Username:i,Password:o,ValidationData:s,ClientMetadata:n});return o?this.signInWithPassword(a):this.signInWithoutPassword(a)},e.prototype.authCallbacks=function(t,r,n){var i=this,o=this;return{onSuccess:function(s){return Le(i,void 0,void 0,function(){var a,c,u,l;return Me(this,function(f){switch(f.label){case 0:Y.debug(s),delete t.challengeName,delete t.challengeParam,f.label=1;case 1:return f.trys.push([1,4,5,9]),[4,this.Credentials.clear()];case 2:return f.sent(),[4,this.Credentials.set(s,"session")];case 3:return a=f.sent(),Y.debug("succeed to get cognito credentials",a),[3,9];case 4:return c=f.sent(),Y.debug("cannot get cognito credentials",c),[3,9];case 5:return f.trys.push([5,7,,8]),[4,this.currentUserPoolUser()];case 6:return u=f.sent(),o.user=u,Te("signIn",u,"A user "+t.getUsername()+" has been signed in"),r(u),[3,8];case 7:return l=f.sent(),Y.error("Failed to get the signed in user",l),n(l),[3,8];case 8:return[7];case 9:return[2]}})})},onFailure:function(s){Y.debug("signIn failure",s),Te("signIn_failure",s,t.getUsername()+" failed to signin"),n(s)},customChallenge:function(s){Y.debug("signIn custom challenge answer required"),t.challengeName="CUSTOM_CHALLENGE",t.challengeParam=s,r(t)},mfaRequired:function(s,a){Y.debug("signIn MFA required"),t.challengeName=s,t.challengeParam=a,r(t)},mfaSetup:function(s,a){Y.debug("signIn mfa setup",s),t.challengeName=s,t.challengeParam=a,r(t)},newPasswordRequired:function(s,a){Y.debug("signIn new password"),t.challengeName="NEW_PASSWORD_REQUIRED",t.challengeParam={userAttributes:s,requiredAttributes:a},r(t)},totpRequired:function(s,a){Y.debug("signIn totpRequired"),t.challengeName=s,t.challengeParam=a,r(t)},selectMFAType:function(s,a){Y.debug("signIn selectMFAType",s),t.challengeName=s,t.challengeParam=a,r(t)}}},e.prototype.signInWithPassword=function(t){var r=this;if(this.pendingSignIn)throw new Error("Pending sign-in attempt already in progress");var n=this.createCognitoUser(t.getUsername());return this.pendingSignIn=new Promise(function(i,o){n.authenticateUser(t,r.authCallbacks(n,function(s){r.pendingSignIn=null,i(s)},function(s){r.pendingSignIn=null,o(s)}))}),this.pendingSignIn},e.prototype.signInWithoutPassword=function(t){var r=this,n=this.createCognitoUser(t.getUsername());return n.setAuthenticationFlowType("CUSTOM_AUTH"),new Promise(function(i,o){n.initiateAuth(t,r.authCallbacks(n,i,o))})},e.prototype.getMFAOptions=function(t){return new Promise(function(r,n){t.getMFAOptions(function(i,o){if(i){Y.debug("get MFA Options failed",i),n(i);return}Y.debug("get MFA options success",o),r(o)})})},e.prototype.getPreferredMFA=function(t,r){var n=this,i=this;return new Promise(function(o,s){var a=n._config.clientMetadata,c=r?r.bypassCache:!1;t.getUserData(function(u,l){return Le(n,void 0,void 0,function(){var f,d;return Me(this,function(h){switch(h.label){case 0:if(!u)return[3,5];if(Y.debug("getting preferred mfa failed",u),!this.isSessionInvalid(u))return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return h.sent(),[3,4];case 3:return f=h.sent(),s(new Error("Session is invalid due to: "+u.message+" and failed to clean up invalid session: "+f.message)),[2];case 4:return s(u),[2];case 5:return d=i._getMfaTypeFromUserData(l),d?(o(d),[2]):(s("invalid MFA Type"),[2])}})})},{bypassCache:c,clientMetadata:a})})},e.prototype._getMfaTypeFromUserData=function(t){var r=null,n=t.PreferredMfaSetting;if(n)r=n;else{var i=t.UserMFASettingList;if(i)i.length===0?r="NOMFA":Y.debug("invalid case for getPreferredMFA",t);else{var o=t.MFAOptions;o?r="SMS_MFA":r="NOMFA"}}return r},e.prototype._getUserData=function(t,r){var n=this;return new Promise(function(i,o){t.getUserData(function(s,a){return Le(n,void 0,void 0,function(){var c;return Me(this,function(u){switch(u.label){case 0:if(!s)return[3,5];if(Y.debug("getting user data failed",s),!this.isSessionInvalid(s))return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return u.sent(),[3,4];case 3:return c=u.sent(),o(new Error("Session is invalid due to: "+s.message+" and failed to clean up invalid session: "+c.message)),[2];case 4:return o(s),[2];case 5:i(a),u.label=6;case 6:return[2]}})})},r)})},e.prototype.setPreferredMFA=function(t,r){return Le(this,void 0,void 0,function(){var n,i,o,s,a,c,u,l=this;return Me(this,function(f){switch(f.label){case 0:return n=this._config.clientMetadata,[4,this._getUserData(t,{bypassCache:!0,clientMetadata:n})];case 1:switch(i=f.sent(),o=null,s=null,a=r,a){case"TOTP":return[3,2];case"SOFTWARE_TOKEN_MFA":return[3,2];case"SMS":return[3,3];case"SMS_MFA":return[3,3];case"NOMFA":return[3,4]}return[3,6];case 2:return s={PreferredMfa:!0,Enabled:!0},[3,7];case 3:return o={PreferredMfa:!0,Enabled:!0},[3,7];case 4:return c=i.UserMFASettingList,[4,this._getMfaTypeFromUserData(i)];case 5:if(u=f.sent(),u==="NOMFA")return[2,Promise.resolve("No change for mfa type")];if(u==="SMS_MFA")o={PreferredMfa:!1,Enabled:!1};else if(u==="SOFTWARE_TOKEN_MFA")s={PreferredMfa:!1,Enabled:!1};else return[2,this.rejectAuthError(Pe.InvalidMFA)];return c&&c.length!==0&&c.forEach(function(d){d==="SMS_MFA"?o={PreferredMfa:!1,Enabled:!1}:d==="SOFTWARE_TOKEN_MFA"&&(s={PreferredMfa:!1,Enabled:!1})}),[3,7];case 6:return Y.debug("no validmfa method provided"),[2,this.rejectAuthError(Pe.NoMFA)];case 7:return[2,new Promise(function(d,h){t.setUserMfaPreference(o,s,function(m,y){if(m)return Y.debug("Set user mfa preference error",m),h(m);Y.debug("Set user mfa success",y),Y.debug("Caching the latest user data into local"),t.getUserData(function(_,C){return Le(l,void 0,void 0,function(){var w;return Me(this,function(A){switch(A.label){case 0:if(!_)return[3,5];if(Y.debug("getting user data failed",_),!this.isSessionInvalid(_))return[3,4];A.label=1;case 1:return A.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return A.sent(),[3,4];case 3:return w=A.sent(),h(new Error("Session is invalid due to: "+_.message+" and failed to clean up invalid session: "+w.message)),[2];case 4:return[2,h(_)];case 5:return[2,d(y)]}})})},{bypassCache:!0,clientMetadata:n})})})]}})})},e.prototype.disableSMS=function(t){return new Promise(function(r,n){t.disableMFA(function(i,o){if(i){Y.debug("disable mfa failed",i),n(i);return}Y.debug("disable mfa succeed",o),r(o)})})},e.prototype.enableSMS=function(t){return new Promise(function(r,n){t.enableMFA(function(i,o){if(i){Y.debug("enable mfa failed",i),n(i);return}Y.debug("enable mfa succeed",o),r(o)})})},e.prototype.setupTOTP=function(t){return new Promise(function(r,n){t.associateSoftwareToken({onFailure:function(i){Y.debug("associateSoftwareToken failed",i),n(i)},associateSecretCode:function(i){Y.debug("associateSoftwareToken sucess",i),r(i)}})})},e.prototype.verifyTotpToken=function(t,r){return Y.debug("verification totp token",t,r),new Promise(function(n,i){t.verifySoftwareToken(r,"My TOTP device",{onFailure:function(o){Y.debug("verifyTotpToken failed",o),i(o)},onSuccess:function(o){Te("signIn",t,"A user "+t.getUsername()+" has been signed in"),Y.debug("verifyTotpToken success",o),n(o)}})})},e.prototype.confirmSignIn=function(t,r,n,i){var o=this;if(i===void 0&&(i=this._config.clientMetadata),!r)return this.rejectAuthError(Pe.EmptyCode);var s=this;return new Promise(function(a,c){t.sendMFACode(r,{onSuccess:function(u){return Le(o,void 0,void 0,function(){var l,f;return Me(this,function(d){switch(d.label){case 0:Y.debug(u),d.label=1;case 1:return d.trys.push([1,4,5,6]),[4,this.Credentials.clear()];case 2:return d.sent(),[4,this.Credentials.set(u,"session")];case 3:return l=d.sent(),Y.debug("succeed to get cognito credentials",l),[3,6];case 4:return f=d.sent(),Y.debug("cannot get cognito credentials",f),[3,6];case 5:return s.user=t,Te("signIn",t,"A user "+t.getUsername()+" has been signed in"),a(t),[7];case 6:return[2]}})})},onFailure:function(u){Y.debug("confirm signIn failure",u),c(u)}},n,i)})},e.prototype.completeNewPassword=function(t,r,n,i){var o=this;if(n===void 0&&(n={}),i===void 0&&(i=this._config.clientMetadata),!r)return this.rejectAuthError(Pe.EmptyPassword);var s=this;return new Promise(function(a,c){t.completeNewPasswordChallenge(r,n,{onSuccess:function(u){return Le(o,void 0,void 0,function(){var l,f;return Me(this,function(d){switch(d.label){case 0:Y.debug(u),d.label=1;case 1:return d.trys.push([1,4,5,6]),[4,this.Credentials.clear()];case 2:return d.sent(),[4,this.Credentials.set(u,"session")];case 3:return l=d.sent(),Y.debug("succeed to get cognito credentials",l),[3,6];case 4:return f=d.sent(),Y.debug("cannot get cognito credentials",f),[3,6];case 5:return s.user=t,Te("signIn",t,"A user "+t.getUsername()+" has been signed in"),a(t),[7];case 6:return[2]}})})},onFailure:function(u){Y.debug("completeNewPassword failure",u),Te("completeNewPassword_failure",u,o.user+" failed to complete the new password flow"),c(u)},mfaRequired:function(u,l){Y.debug("signIn MFA required"),t.challengeName=u,t.challengeParam=l,a(t)},mfaSetup:function(u,l){Y.debug("signIn mfa setup",u),t.challengeName=u,t.challengeParam=l,a(t)},totpRequired:function(u,l){Y.debug("signIn mfa setup",u),t.challengeName=u,t.challengeParam=l,a(t)}},i)})},e.prototype.sendCustomChallengeAnswer=function(t,r,n){var i=this;return n===void 0&&(n=this._config.clientMetadata),this.userPool?r?new Promise(function(o,s){t.sendCustomChallengeAnswer(r,i.authCallbacks(t,o,s),n)}):this.rejectAuthError(Pe.EmptyChallengeResponse):this.rejectNoUserPool()},e.prototype.deleteUserAttributes=function(t,r){var n=this;return new Promise(function(i,o){n.userSession(t).then(function(s){t.deleteAttributes(r,function(a,c){return a?o(a):i(c)})})})},e.prototype.deleteUser=function(){return Le(this,void 0,void 0,function(){var t,r,n=this;return Me(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this._storageSync];case 1:return i.sent(),[3,3];case 2:throw t=i.sent(),Y.debug("Failed to sync cache info into memory",t),new Error(t);case 3:return r=this._oAuthHandler&&this._storage.getItem("amplify-signin-with-hostedUI")==="true",[2,new Promise(function(o,s){return Le(n,void 0,void 0,function(){var a,c=this;return Me(this,function(u){if(this.userPool)if(a=this.userPool.getCurrentUser(),a)a.getSession(function(l,f){return Le(c,void 0,void 0,function(){var d,h=this;return Me(this,function(m){switch(m.label){case 0:if(!l)return[3,5];if(Y.debug("Failed to get the user session",l),!this.isSessionInvalid(l))return[3,4];m.label=1;case 1:return m.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(a)];case 2:return m.sent(),[3,4];case 3:return d=m.sent(),s(new Error("Session is invalid due to: "+l.message+" and failed to clean up invalid session: "+d.message)),[2];case 4:return[2,s(l)];case 5:a.deleteUser(function(y,_){if(y)s(y);else{Te("userDeleted",_,"The authenticated user has been deleted."),a.signOut(),h.user=null;try{h.cleanCachedItems()}catch{Y.debug("failed to clear cached items")}r?h.oAuthSignOutRedirect(o,s):(Te("signOut",h.user,"A user has been signed out"),o(_))}}),m.label=6;case 6:return[2]}})})});else return Y.debug("Failed to get user from user pool"),[2,s(new Error("No current user."))];else Y.debug("no Congito User pool"),s(new Error("Cognito User pool does not exist"));return[2]})})})]}})})},e.prototype.updateUserAttributes=function(t,r,n){n===void 0&&(n=this._config.clientMetadata);var i=[],o=this;return new Promise(function(s,a){o.userSession(t).then(function(c){for(var u in r)if(u!=="sub"&&u.indexOf("_verified")<0){var l={Name:u,Value:r[u]};i.push(l)}t.updateAttributes(i,function(f,d){return f?a(f):s(d)},n)})})},e.prototype.userAttributes=function(t){var r=this;return new Promise(function(n,i){r.userSession(t).then(function(o){t.getUserAttributes(function(s,a){s?i(s):n(a)})})})},e.prototype.verifiedContact=function(t){var r=this;return this.userAttributes(t).then(function(n){var i=r.attributesToObject(n),o={},s={};return i.email&&(i.email_verified?s.email=i.email:o.email=i.email),i.phone_number&&(i.phone_number_verified?s.phone_number=i.phone_number:o.phone_number=i.phone_number),{verified:s,unverified:o}})},e.prototype.isErrorWithMessage=function(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"message")},e.prototype.isTokenRevokedError=function(t){return this.isErrorWithMessage(t)&&t.message==="Access Token has been revoked"},e.prototype.isRefreshTokenRevokedError=function(t){return this.isErrorWithMessage(t)&&t.message==="Refresh Token has been revoked"},e.prototype.isUserDisabledError=function(t){return this.isErrorWithMessage(t)&&t.message==="User is disabled."},e.prototype.isUserDoesNotExistError=function(t){return this.isErrorWithMessage(t)&&t.message==="User does not exist."},e.prototype.isRefreshTokenExpiredError=function(t){return this.isErrorWithMessage(t)&&t.message==="Refresh Token has expired"},e.prototype.isSignedInHostedUI=function(){return this._oAuthHandler&&this._storage.getItem("amplify-signin-with-hostedUI")==="true"},e.prototype.isSessionInvalid=function(t){return this.isUserDisabledError(t)||this.isUserDoesNotExistError(t)||this.isTokenRevokedError(t)||this.isRefreshTokenRevokedError(t)||this.isRefreshTokenExpiredError(t)},e.prototype.cleanUpInvalidSession=function(t){return Le(this,void 0,void 0,function(){var r=this;return Me(this,function(n){switch(n.label){case 0:t.signOut(),this.user=null,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.cleanCachedItems()];case 2:return n.sent(),[3,4];case 3:return n.sent(),Y.debug("failed to clear cached items"),[3,4];case 4:return this.isSignedInHostedUI()?[2,new Promise(function(i,o){r.oAuthSignOutRedirect(i,o)})]:(Te("signOut",this.user,"A user has been signed out"),[2])}})})},e.prototype.currentUserPoolUser=function(t){var r=this;return this.userPool?new Promise(function(n,i){r._storageSync.then(function(){return Le(r,void 0,void 0,function(){var o,s,a=this;return Me(this,function(c){switch(c.label){case 0:return this.isOAuthInProgress()?(Y.debug("OAuth signIn in progress, waiting for resolution..."),[4,new Promise(function(u){var l=setTimeout(function(){Y.debug("OAuth signIn in progress timeout"),ar.remove("auth",f),u()},KP);ar.listen("auth",f);function f(d){var h=d.payload,m=h.event;(m==="cognitoHostedUI"||m==="cognitoHostedUI_failure")&&(Y.debug("OAuth signIn resolved: "+m),clearTimeout(l),ar.remove("auth",f),u())}})]):[3,2];case 1:c.sent(),c.label=2;case 2:return o=this.userPool.getCurrentUser(),o?(s=this._config.clientMetadata,o.getSession(function(u,l){return Le(a,void 0,void 0,function(){var f,d,h,m,y,_=this;return Me(this,function(C){switch(C.label){case 0:if(!u)return[3,5];if(Y.debug("Failed to get the user session",u),!this.isSessionInvalid(u))return[3,4];C.label=1;case 1:return C.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(o)];case 2:return C.sent(),[3,4];case 3:return f=C.sent(),i(new Error("Session is invalid due to: "+u.message+" and failed to clean up invalid session: "+f.message)),[2];case 4:return i(u),[2];case 5:return d=t?t.bypassCache:!1,d?[4,this.Credentials.clear()]:[3,7];case 6:C.sent(),C.label=7;case 7:if(h=this._config.clientMetadata,m=l.getAccessToken().decodePayload().scope,y=m===void 0?"":m,y.split(" ").includes(yh))o.getUserData(function(w,A){return Le(_,void 0,void 0,function(){var I,O,D,q,L,H,k;return Me(this,function(U){switch(U.label){case 0:if(!w)return[3,7];if(Y.debug("getting user data failed",w),!this.isSessionInvalid(w))return[3,5];U.label=1;case 1:return U.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(o)];case 2:return U.sent(),[3,4];case 3:return I=U.sent(),i(new Error("Session is invalid due to: "+w.message+" and failed to clean up invalid session: "+I.message)),[2];case 4:return i(w),[3,6];case 5:n(o),U.label=6;case 6:return[2];case 7:for(O=A.PreferredMfaSetting||"NOMFA",D=[],q=0;q<A.UserAttributes.length;q++)L={Name:A.UserAttributes[q].Name,Value:A.UserAttributes[q].Value},H=new Gn(L),D.push(H);return k=this.attributesToObject(D),Object.assign(o,{attributes:k,preferredMFA:O}),[2,n(o)]}})})},{bypassCache:d,clientMetadata:h});else return Y.debug("Unable to get the user data because the "+yh+" is not in the scopes of the access token"),[2,n(o)];return[2]}})})},{clientMetadata:s}),[2]):(Y.debug("Failed to get user from user pool"),i("No current user"),[2])}})})}).catch(function(o){return Y.debug("Failed to sync cache info into memory",o),i(o)})}):this.rejectNoUserPool()},e.prototype.isOAuthInProgress=function(){return this.oAuthFlowInProgress},e.prototype.currentAuthenticatedUser=function(t){return Le(this,void 0,void 0,function(){var r,n,i,o,s;return Me(this,function(a){switch(a.label){case 0:Y.debug("getting current authenticated user"),r=null,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this._storageSync];case 2:return a.sent(),[3,4];case 3:throw n=a.sent(),Y.debug("Failed to sync cache info into memory",n),n;case 4:try{i=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")),i&&(r=as(as({},i.user),{token:i.token}))}catch{Y.debug("cannot load federated user from auth storage")}return r?(this.user=r,Y.debug("get current authenticated federated user",this.user),[2,this.user]):[3,5];case 5:Y.debug("get current authenticated userpool user"),o=null,a.label=6;case 6:return a.trys.push([6,8,,9]),[4,this.currentUserPoolUser(t)];case 7:return o=a.sent(),[3,9];case 8:return s=a.sent(),s==="No userPool"&&Y.error("Cannot get the current user because the user pool is missing. Please make sure the Auth module is configured with a valid Cognito User Pool ID"),Y.debug("The user is not authenticated by the error",s),[2,Promise.reject("The user is not authenticated")];case 9:return this.user=o,[2,this.user]}})})},e.prototype.currentSession=function(){var t=this;return Y.debug("Getting current session"),this.userPool?new Promise(function(r,n){t.currentUserPoolUser().then(function(i){t.userSession(i).then(function(o){r(o)}).catch(function(o){Y.debug("Failed to get the current session",o),n(o)})}).catch(function(i){Y.debug("Failed to get the current user",i),n(i)})}):Promise.reject(new Error("No User Pool in the configuration."))},e.prototype.userSession=function(t){var r=this;if(!t)return Y.debug("the user is null"),this.rejectAuthError(Pe.NoUserSession);var n=this._config.clientMetadata;return new Promise(function(i,o){Y.debug("Getting the session from this user:",t),t.getSession(function(s,a){return Le(r,void 0,void 0,function(){var c;return Me(this,function(u){switch(u.label){case 0:if(!s)return[3,5];if(Y.debug("Failed to get the session from user",t),!this.isSessionInvalid(s))return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return u.sent(),[3,4];case 3:return c=u.sent(),o(new Error("Session is invalid due to: "+s.message+" and failed to clean up invalid session: "+c.message)),[2];case 4:return o(s),[2];case 5:return Y.debug("Succeed to get the user session",a),i(a),[2]}})})},{clientMetadata:n})})},e.prototype.currentUserCredentials=function(){return Le(this,void 0,void 0,function(){var t,r,n=this;return Me(this,function(i){switch(i.label){case 0:Y.debug("Getting current user credentials"),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this._storageSync];case 2:return i.sent(),[3,4];case 3:throw t=i.sent(),Y.debug("Failed to sync cache info into memory",t),t;case 4:r=null;try{r=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo"))}catch(o){Y.debug("failed to get or parse item aws-amplify-federatedInfo",o)}return r?[2,this.Credentials.refreshFederatedToken(r)]:[2,this.currentSession().then(function(o){return Y.debug("getting session success",o),n.Credentials.set(o,"session")}).catch(function(){return Y.debug("getting guest credentials"),n.Credentials.set(null,"guest")})]}})})},e.prototype.currentCredentials=function(){return Y.debug("getting current credentials"),this.Credentials.get()},e.prototype.verifyUserAttribute=function(t,r,n){return n===void 0&&(n=this._config.clientMetadata),new Promise(function(i,o){t.getAttributeVerificationCode(r,{onSuccess:function(s){return i(s)},onFailure:function(s){return o(s)}},n)})},e.prototype.verifyUserAttributeSubmit=function(t,r,n){return n?new Promise(function(i,o){t.verifyAttribute(r,n,{onSuccess:function(s){i(s)},onFailure:function(s){o(s)}})}):this.rejectAuthError(Pe.EmptyCode)},e.prototype.verifyCurrentUserAttribute=function(t){var r=this;return r.currentUserPoolUser().then(function(n){return r.verifyUserAttribute(n,t)})},e.prototype.verifyCurrentUserAttributeSubmit=function(t,r){var n=this;return n.currentUserPoolUser().then(function(i){return n.verifyUserAttributeSubmit(i,t,r)})},e.prototype.cognitoIdentitySignOut=function(t,r){return Le(this,void 0,void 0,function(){var n,i,o=this;return Me(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,this._storageSync];case 1:return s.sent(),[3,3];case 2:throw n=s.sent(),Y.debug("Failed to sync cache info into memory",n),n;case 3:return i=this._oAuthHandler&&this._storage.getItem("amplify-signin-with-hostedUI")==="true",[2,new Promise(function(a,c){if(t&&t.global){Y.debug("user global sign out",r);var u=o._config.clientMetadata;r.getSession(function(l,f){return Le(o,void 0,void 0,function(){var d,h=this;return Me(this,function(m){switch(m.label){case 0:if(!l)return[3,5];if(Y.debug("failed to get the user session",l),!this.isSessionInvalid(l))return[3,4];m.label=1;case 1:return m.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(r)];case 2:return m.sent(),[3,4];case 3:return d=m.sent(),c(new Error("Session is invalid due to: "+l.message+" and failed to clean up invalid session: "+d.message)),[2];case 4:return[2,c(l)];case 5:return r.globalSignOut({onSuccess:function(y){if(Y.debug("global sign out success"),i)h.oAuthSignOutRedirect(a,c);else return a()},onFailure:function(y){return Y.debug("global sign out failed",y),c(y)}}),[2]}})})},{clientMetadata:u})}else Y.debug("user sign out",r),r.signOut(function(){if(i)o.oAuthSignOutRedirect(a,c);else return a()})})]}})})},e.prototype.oAuthSignOutRedirect=function(t,r){var n=dr().isBrowser;n?this.oAuthSignOutRedirectOrReject(r):this.oAuthSignOutAndResolve(t)},e.prototype.oAuthSignOutAndResolve=function(t){this._oAuthHandler.signOut(),t()},e.prototype.oAuthSignOutRedirectOrReject=function(t){this._oAuthHandler.signOut(),setTimeout(function(){return t(Error("Signout timeout fail"))},3e3)},e.prototype.signOut=function(t){return Le(this,void 0,void 0,function(){var r;return Me(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.cleanCachedItems()];case 1:return n.sent(),[3,3];case 2:return n.sent(),Y.debug("failed to clear cached items"),[3,3];case 3:return this.userPool?(r=this.userPool.getCurrentUser(),r?[4,this.cognitoIdentitySignOut(t,r)]:[3,5]):[3,7];case 4:return n.sent(),[3,6];case 5:Y.debug("no current Cognito user"),n.label=6;case 6:return[3,8];case 7:Y.debug("no Cognito User pool"),n.label=8;case 8:return Te("signOut",this.user,"A user has been signed out"),this.user=null,[2]}})})},e.prototype.cleanCachedItems=function(){return Le(this,void 0,void 0,function(){return Me(this,function(t){switch(t.label){case 0:return[4,this.Credentials.clear()];case 1:return t.sent(),[2]}})})},e.prototype.changePassword=function(t,r,n,i){var o=this;return i===void 0&&(i=this._config.clientMetadata),new Promise(function(s,a){o.userSession(t).then(function(c){t.changePassword(r,n,function(u,l){return u?(Y.debug("change password failure",u),a(u)):s(l)},i)})})},e.prototype.forgotPassword=function(t,r){if(r===void 0&&(r=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!t)return this.rejectAuthError(Pe.EmptyUsername);var n=this.createCognitoUser(t);return new Promise(function(i,o){n.forgotPassword({onSuccess:function(){i()},onFailure:function(s){Y.debug("forgot password failure",s),Te("forgotPassword_failure",s,t+" forgotPassword failed"),o(s)},inputVerificationCode:function(s){Te("forgotPassword",n,t+" has initiated forgot password flow"),i(s)}},r)})},e.prototype.forgotPasswordSubmit=function(t,r,n,i){if(i===void 0&&(i=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!t)return this.rejectAuthError(Pe.EmptyUsername);if(!r)return this.rejectAuthError(Pe.EmptyCode);if(!n)return this.rejectAuthError(Pe.EmptyPassword);var o=this.createCognitoUser(t);return new Promise(function(s,a){o.confirmPassword(r,n,{onSuccess:function(c){Te("forgotPasswordSubmit",o,t+" forgotPasswordSubmit successful"),s(c)},onFailure:function(c){Te("forgotPasswordSubmit_failure",c,t+" forgotPasswordSubmit failed"),a(c)}},i)})},e.prototype.currentUserInfo=function(){return Le(this,void 0,void 0,function(){var t,c,r,n,i,o,s,a,c;return Me(this,function(u){switch(u.label){case 0:return t=this.Credentials.getCredSource(),!t||t==="aws"||t==="userPool"?[4,this.currentUserPoolUser().catch(function(l){return Y.error(l)})]:[3,9];case 1:if(c=u.sent(),!c)return[2,null];u.label=2;case 2:return u.trys.push([2,8,,9]),[4,this.userAttributes(c)];case 3:r=u.sent(),n=this.attributesToObject(r),i=null,u.label=4;case 4:return u.trys.push([4,6,,7]),[4,this.currentCredentials()];case 5:return i=u.sent(),[3,7];case 6:return o=u.sent(),Y.debug("Failed to retrieve credentials while getting current user info",o),[3,7];case 7:return s={id:i?i.identityId:void 0,username:c.getUsername(),attributes:n},[2,s];case 8:return a=u.sent(),Y.error("currentUserInfo error",a),[2,{}];case 9:return t==="federated"?(c=this.user,[2,c||{}]):[2]}})})},e.prototype.federatedSignIn=function(t,r,n){return Le(this,void 0,void 0,function(){var i,c,o,s,a,c,u,l,f,d,h,m;return Me(this,function(y){switch(y.label){case 0:if(!this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation requires either a User Pool or Identity Pool in config");if(typeof t>"u"&&this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation with Identity Pools requires tokens passed as arguments");return Ea(t)||ZI(t)||QI(t)||typeof t>"u"?(i=t||{provider:os.Cognito},c=Ea(i)?i.provider:i.customProvider,o=(Ea(i),i.customState),this._config.userPoolId&&(s=En(this._config.oauth)?this._config.userPoolWebClientId:this._config.oauth.clientID,a=En(this._config.oauth)?this._config.oauth.redirectSignIn:this._config.oauth.redirectUri,this._oAuthHandler.oauthSignIn(this._config.oauth.responseType,this._config.oauth.domain,a,s,c,o)),[3,4]):[3,1];case 1:c=t;try{u=JSON.stringify(JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")).user),u&&Y.warn("There is already a signed in user: "+u+` in your app.
																	You should not call Auth.federatedSignIn method again as it may cause unexpected behavior.`)}catch{}return l=r.token,f=r.identity_id,d=r.expires_at,[4,this.Credentials.set({provider:c,token:l,identity_id:f,user:n,expires_at:d},"federation")];case 2:return h=y.sent(),[4,this.currentAuthenticatedUser()];case 3:return m=y.sent(),Te("signIn",m,"A user "+m.username+" has been signed in"),Y.debug("federated sign in credentials",h),[2,h];case 4:return[2]}})})},e.prototype._handleAuthResponse=function(t){return Le(this,void 0,void 0,function(){var r,n,i,o,s,a,c,u,l,f,d,h,m,y;return Me(this,function(_){switch(_.label){case 0:if(this.oAuthFlowInProgress)return Y.debug("Skipping URL "+t+" current flow in progress"),[2];_.label=1;case 1:if(_.trys.push([1,,8,9]),this.oAuthFlowInProgress=!0,!this._config.userPoolId)throw new Error("OAuth responses require a User Pool defined in config");if(Te("parsingCallbackUrl",{url:t},"The callback url is being parsed"),r=t||(dr().isBrowser?window.location.href:""),n=!!(Vr(r).query||"").split("&").map(function(C){return C.split("=")}).find(function(C){var w=mh(C,1),A=w[0];return A==="code"||A==="error"}),i=!!(Vr(r).hash||"#").substr(1).split("&").map(function(C){return C.split("=")}).find(function(C){var w=mh(C,1),A=w[0];return A==="access_token"||A==="error"}),!(n||i))return[3,7];this._storage.setItem("amplify-redirected-from-hosted-ui","true"),_.label=2;case 2:return _.trys.push([2,6,,7]),[4,this._oAuthHandler.handleAuthResponse(r)];case 3:return o=_.sent(),s=o.accessToken,a=o.idToken,c=o.refreshToken,u=o.state,l=new Gu({IdToken:new $u({IdToken:a}),RefreshToken:new Hu({RefreshToken:c}),AccessToken:new qu({AccessToken:s})}),f=void 0,this._config.identityPoolId?[4,this.Credentials.set(l,"session")]:[3,5];case 4:f=_.sent(),Y.debug("AWS credentials",f),_.label=5;case 5:return d=/-/.test(u),h=this.createCognitoUser(l.getIdToken().decodePayload()["cognito:username"]),h.setSignInUserSession(l),window&&typeof window.history<"u"&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),Te("signIn",h,"A user "+h.getUsername()+" has been signed in"),Te("cognitoHostedUI",h,"A user "+h.getUsername()+" has been signed in via Cognito Hosted UI"),d&&(m=u.split("-").splice(1).join("-"),Te("customOAuthState",j1(m),"State for user "+h.getUsername())),[2,f];case 6:return y=_.sent(),Y.debug("Error in cognito hosted auth response",y),window&&typeof window.history<"u"&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),Te("signIn_failure",y,"The OAuth response flow failed"),Te("cognitoHostedUI_failure",y,"A failure occurred when returning to the Cognito Hosted UI"),Te("customState_failure",y,"A failure occurred when returning state"),[3,7];case 7:return[3,9];case 8:return this.oAuthFlowInProgress=!1,[7];case 9:return[2]}})})},e.prototype.essentialCredentials=function(t){return{accessKeyId:t.accessKeyId,sessionToken:t.sessionToken,secretAccessKey:t.secretAccessKey,identityId:t.identityId,authenticated:t.authenticated}},e.prototype.attributesToObject=function(t){var r=this,n={};return t&&t.map(function(i){i.Name==="email_verified"||i.Name==="phone_number_verified"?n[i.Name]=r.isTruthyString(i.Value)||i.Value===!0:n[i.Name]=i.Value}),n},e.prototype.isTruthyString=function(t){return typeof t.toLowerCase=="function"&&t.toLowerCase()==="true"},e.prototype.createCognitoUser=function(t){var r={Username:t,Pool:this.userPool};r.Storage=this._storage;var n=this._config.authenticationFlowType,i=new Wu(r);return n&&i.setAuthenticationFlowType(n),i},e.prototype._isValidAuthStorage=function(t){return!!t&&typeof t.getItem=="function"&&typeof t.setItem=="function"&&typeof t.removeItem=="function"&&typeof t.clear=="function"},e.prototype.noUserPoolErrorHandler=function(t){return t&&(!t.userPoolId||!t.identityPoolId)?Pe.MissingAuthConfig:Pe.NoConfig},e.prototype.rejectAuthError=function(t){return Promise.reject(new qr(t))},e.prototype.rejectNoUserPool=function(){var t=this.noUserPoolErrorHandler(this._config);return Promise.reject(new FP(t))},e.prototype.rememberDevice=function(){return Le(this,void 0,void 0,function(){var t,r;return Me(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return t=n.sent(),[3,3];case 2:return r=n.sent(),Y.debug("The user is not authenticated by the error",r),[2,Promise.reject("The user is not authenticated")];case 3:return t.getCachedDeviceKeyAndPassword(),[2,new Promise(function(i,o){t.setDeviceStatusRemembered({onSuccess:function(s){i(s)},onFailure:function(s){s.code==="InvalidParameterException"?o(new qr(Pe.DeviceConfig)):s.code==="NetworkError"?o(new qr(Pe.NetworkError)):o(s)}})})]}})})},e.prototype.forgetDevice=function(){return Le(this,void 0,void 0,function(){var t,r;return Me(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return t=n.sent(),[3,3];case 2:return r=n.sent(),Y.debug("The user is not authenticated by the error",r),[2,Promise.reject("The user is not authenticated")];case 3:return t.getCachedDeviceKeyAndPassword(),[2,new Promise(function(i,o){t.forgetDevice({onSuccess:function(s){i(s)},onFailure:function(s){s.code==="InvalidParameterException"?o(new qr(Pe.DeviceConfig)):s.code==="NetworkError"?o(new qr(Pe.NetworkError)):o(s)}})})]}})})},e.prototype.fetchDevices=function(){return Le(this,void 0,void 0,function(){var t,r;return Me(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return t=n.sent(),[3,3];case 2:throw r=n.sent(),Y.debug("The user is not authenticated by the error",r),new Error("The user is not authenticated");case 3:return t.getCachedDeviceKeyAndPassword(),[2,new Promise(function(i,o){var s={onSuccess:function(a){var c=a.Devices.map(function(u){var l=u.DeviceAttributes.find(function(d){var h=d.Name;return h==="device_name"})||{},f={id:u.DeviceKey,name:l.Value};return f});i(c)},onFailure:function(a){a.code==="InvalidParameterException"?o(new qr(Pe.DeviceConfig)):a.code==="NetworkError"?o(new qr(Pe.NetworkError)):o(a)}};t.listDevices(jP,null,s)})]}})})},e}(),mS=new HP(null);Ut.register(mS);var Gt={keyPrefix:"aws-amplify-cache",capacityInBytes:1048576,itemMaxSize:21e4,defaultTTL:2592e5,defaultPriority:5,warningThreshold:.8,storage:new zs().getStorage()};function wh(e){var t=0;t=e.length;for(var r=e.length;r>=0;r-=1){var n=e.charCodeAt(r);n>127&&n<=2047?t+=1:n>2047&&n<=65535&&(t+=2),n>=56320&&n<=57343&&(r-=1)}return t}function Jn(){var e=new Date;return e.getTime()}function Uo(e){return Number.isInteger?Number.isInteger(e):VP(e)}function VP(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e}var Sr=new qe("StorageCache"),GP=function(){function e(t){this.config=Object.assign({},t),this.cacheCurSizeKey=this.config.keyPrefix+"CurSize",this.checkConfig()}return e.prototype.getModuleName=function(){return"Cache"},e.prototype.checkConfig=function(){Uo(this.config.capacityInBytes)||(Sr.error("Invalid parameter: capacityInBytes. It should be an Integer. Setting back to default."),this.config.capacityInBytes=Gt.capacityInBytes),Uo(this.config.itemMaxSize)||(Sr.error("Invalid parameter: itemMaxSize. It should be an Integer. Setting back to default."),this.config.itemMaxSize=Gt.itemMaxSize),Uo(this.config.defaultTTL)||(Sr.error("Invalid parameter: defaultTTL. It should be an Integer. Setting back to default."),this.config.defaultTTL=Gt.defaultTTL),Uo(this.config.defaultPriority)||(Sr.error("Invalid parameter: defaultPriority. It should be an Integer. Setting back to default."),this.config.defaultPriority=Gt.defaultPriority),this.config.itemMaxSize>this.config.capacityInBytes&&(Sr.error("Invalid parameter: itemMaxSize. It should be smaller than capacityInBytes. Setting back to default."),this.config.itemMaxSize=Gt.itemMaxSize),(this.config.defaultPriority>5||this.config.defaultPriority<1)&&(Sr.error("Invalid parameter: defaultPriority. It should be between 1 and 5. Setting back to default."),this.config.defaultPriority=Gt.defaultPriority),(Number(this.config.warningThreshold)>1||Number(this.config.warningThreshold)<0)&&(Sr.error("Invalid parameter: warningThreshold. It should be between 0 and 1. Setting back to default."),this.config.warningThreshold=Gt.warningThreshold);var t=5*1024*1024;this.config.capacityInBytes>t&&(Sr.error("Cache Capacity should be less than 5MB. Setting back to default. Setting back to default."),this.config.capacityInBytes=Gt.capacityInBytes)},e.prototype.fillCacheItem=function(t,r,n){var i={key:t,data:r,timestamp:Jn(),visitedTime:Jn(),priority:n.priority,expires:n.expires,type:typeof r,byteSize:0};return i.byteSize=wh(JSON.stringify(i)),i.byteSize=wh(JSON.stringify(i)),i},e.prototype.configure=function(t){return t?(t.keyPrefix&&Sr.warn("Don't try to configure keyPrefix!"),this.config=Object.assign({},this.config,t,t.Cache),this.checkConfig(),this.config):this.config},e}(),WP=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ft=new qe("Cache"),YP=function(e){WP(t,e);function t(r){var n=this,i=r?Object.assign({},Gt,r):Gt;return n=e.call(this,i)||this,n.config.storage=i.storage,n.getItem=n.getItem.bind(n),n.setItem=n.setItem.bind(n),n.removeItem=n.removeItem.bind(n),n}return t.prototype._decreaseCurSizeInBytes=function(r){var n=this.getCacheCurSize();this.config.storage.setItem(this.cacheCurSizeKey,(n-r).toString())},t.prototype._increaseCurSizeInBytes=function(r){var n=this.getCacheCurSize();this.config.storage.setItem(this.cacheCurSizeKey,(n+r).toString())},t.prototype._refreshItem=function(r,n){return r.visitedTime=Jn(),this.config.storage.setItem(n,JSON.stringify(r)),r},t.prototype._isExpired=function(r){var n=this.config.storage.getItem(r),i=JSON.parse(n);return Jn()>=i.expires},t.prototype._removeItem=function(r,n){var i=n||JSON.parse(this.config.storage.getItem(r)).byteSize;this._decreaseCurSizeInBytes(i),this.config.storage.removeItem(r)},t.prototype._setItem=function(r,n){this._increaseCurSizeInBytes(n.byteSize);try{this.config.storage.setItem(r,JSON.stringify(n))}catch(i){this._decreaseCurSizeInBytes(n.byteSize),ft.error("Failed to set item "+i)}},t.prototype._sizeToPop=function(r){var n=this.getCacheCurSize()+r-this.config.capacityInBytes,i=(1-this.config.warningThreshold)*this.config.capacityInBytes;return n>i?n:i},t.prototype._isCacheFull=function(r){return r+this.getCacheCurSize()>this.config.capacityInBytes},t.prototype._findValidKeys=function(){for(var r=[],n=[],i=0;i<this.config.storage.length;i+=1)n.push(this.config.storage.key(i));for(var i=0;i<n.length;i+=1){var o=n[i];o.indexOf(this.config.keyPrefix)===0&&o!==this.cacheCurSizeKey&&(this._isExpired(o)?this._removeItem(o):r.push(o))}return r},t.prototype._popOutItems=function(r,n){for(var i=[],o=n,s=0;s<r.length;s+=1){var a=this.config.storage.getItem(r[s]);if(a!=null){var c=JSON.parse(a);i.push(c)}}i.sort(function(u,l){return u.priority>l.priority?-1:u.priority<l.priority?1:u.visitedTime<l.visitedTime?-1:1});for(var s=0;s<i.length;s+=1)if(this._removeItem(i[s].key,i[s].byteSize),o-=i[s].byteSize,o<=0)return},t.prototype.setItem=function(r,n,i){ft.log("Set item: key is "+r+", value is "+n+" with options: "+i);var o=this.config.keyPrefix+r;if(o===this.config.keyPrefix||o===this.cacheCurSizeKey){ft.warn("Invalid key: should not be empty or 'CurSize'");return}if(typeof n>"u"){ft.warn("The value of item should not be undefined!");return}var s={priority:i&&i.priority!==void 0?i.priority:this.config.defaultPriority,expires:i&&i.expires!==void 0?i.expires:this.config.defaultTTL+Jn()};if(s.priority<1||s.priority>5){ft.warn("Invalid parameter: priority due to out or range. It should be within 1 and 5.");return}var a=this.fillCacheItem(o,n,s);if(a.byteSize>this.config.itemMaxSize){ft.warn("Item with key: "+r+" you are trying to put into is too big!");return}try{var c=this.config.storage.getItem(o);if(c&&this._removeItem(o,JSON.parse(c).byteSize),this._isCacheFull(a.byteSize)){var u=this._findValidKeys();if(this._isCacheFull(a.byteSize)){var l=this._sizeToPop(a.byteSize);this._popOutItems(u,l)}}this._setItem(o,a)}catch(f){ft.warn("setItem failed! "+f)}},t.prototype.getItem=function(r,n){ft.log("Get item: key is "+r+" with options "+n);var i=null,o=this.config.keyPrefix+r;if(o===this.config.keyPrefix||o===this.cacheCurSizeKey)return ft.warn("Invalid key: should not be empty or 'CurSize'"),null;try{if(i=this.config.storage.getItem(o),i!=null)if(this._isExpired(o))this._removeItem(o,JSON.parse(i).byteSize),i=null;else{var s=JSON.parse(i);return s=this._refreshItem(s,o),s.data}if(n&&n.callback!==void 0){var a=n.callback();return a!==null&&this.setItem(r,a,n),a}return null}catch(c){return ft.warn("getItem failed! "+c),null}},t.prototype.removeItem=function(r){ft.log("Remove item: key is "+r);var n=this.config.keyPrefix+r;if(!(n===this.config.keyPrefix||n===this.cacheCurSizeKey))try{var i=this.config.storage.getItem(n);i&&this._removeItem(n,JSON.parse(i).byteSize)}catch(o){ft.warn("removeItem failed! "+o)}},t.prototype.clear=function(){ft.log("Clear Cache");for(var r=[],n=0;n<this.config.storage.length;n+=1){var i=this.config.storage.key(n);i.indexOf(this.config.keyPrefix)===0&&r.push(i)}try{for(var n=0;n<r.length;n+=1)this.config.storage.removeItem(r[n])}catch(o){ft.warn("clear failed! "+o)}},t.prototype.getAllKeys=function(){for(var r=[],n=0;n<this.config.storage.length;n+=1){var i=this.config.storage.key(n);i.indexOf(this.config.keyPrefix)===0&&i!==this.cacheCurSizeKey&&r.push(i.substring(this.config.keyPrefix.length))}return r},t.prototype.getCacheCurSize=function(){var r=this.config.storage.getItem(this.cacheCurSizeKey);return r||(this.config.storage.setItem(this.cacheCurSizeKey,"0"),r="0"),Number(r)},t.prototype.createInstance=function(r){return(!r.keyPrefix||r.keyPrefix===Gt.keyPrefix)&&(ft.error("invalid keyPrefix, setting keyPrefix with timeStamp"),r.keyPrefix=Jn.toString()),new t(r)},t}(GP),yS=new YP;const XP=yS;Ut.register(yS);var Pa={},Ai={},Sh;function JP(){if(Sh)return Ai;Sh=1,Object.defineProperty(Ai,"__esModule",{value:!0}),Ai.AwsCrc32=void 0;var e=T.exports,t=ho,r=wS(),n=function(){function i(){this.crc32=new r.Crc32}return i.prototype.update=function(o){(0,t.isEmptyData)(o)||this.crc32.update((0,t.convertToBuffer)(o))},i.prototype.digest=function(){return(0,e.__awaiter)(this,void 0,void 0,function(){return(0,e.__generator)(this,function(o){return[2,(0,t.numToUint8)(this.crc32.digest())]})})},i}();return Ai.AwsCrc32=n,Ai}var _h;function wS(){return _h||(_h=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.AwsCrc32=e.Crc32=e.crc32=void 0;var t=T.exports,r=ho;function n(c){return new i().update(c).digest()}e.crc32=n;var i=function(){function c(){this.checksum=4294967295}return c.prototype.update=function(u){var l,f;try{for(var d=(0,t.__values)(u),h=d.next();!h.done;h=d.next()){var m=h.value;this.checksum=this.checksum>>>8^s[(this.checksum^m)&255]}}catch(y){l={error:y}}finally{try{h&&!h.done&&(f=d.return)&&f.call(d)}finally{if(l)throw l.error}}return this},c.prototype.digest=function(){return(this.checksum^4294967295)>>>0},c}();e.Crc32=i;var o=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],s=(0,r.uint32ArrayFrom)(o),a=JP();Object.defineProperty(e,"AwsCrc32",{enumerable:!0,get:function(){return a.AwsCrc32}})}(Pa)),Pa}var SS=wS(),ka=function(){function e(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}return e.fromNumber=function(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(t+" is too large (or, if negative, too small) to represent as an Int64");for(var r=new Uint8Array(8),n=7,i=Math.abs(Math.round(t));n>-1&&i>0;n--,i/=256)r[n]=i;return t<0&&bh(r),new e(r)},e.prototype.valueOf=function(){var t=this.bytes.slice(0),r=t[0]&128;return r&&bh(t),parseInt(Bt(t),16)*(r?-1:1)},e.prototype.toString=function(){return String(this.valueOf())},e}();function bh(e){for(var t=0;t<8;t++)e[t]^=255;for(var t=7;t>-1&&(e[t]++,e[t]===0);t--);}var ZP=function(){function e(t,r){this.toUtf8=t,this.fromUtf8=r}return e.prototype.format=function(t){var r,n,i,o,s=[];try{for(var a=T.exports.__values(Object.keys(t)),c=a.next();!c.done;c=a.next()){var u=c.value,l=this.fromUtf8(u);s.push(Uint8Array.from([l.byteLength]),l,this.formatHeaderValue(t[u]))}}catch(_){r={error:_}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}var f=new Uint8Array(s.reduce(function(_,C){return _+C.byteLength},0)),d=0;try{for(var h=T.exports.__values(s),m=h.next();!m.done;m=h.next()){var y=m.value;f.set(y,d),d+=y.byteLength}}catch(_){i={error:_}}finally{try{m&&!m.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}return f},e.prototype.formatHeaderValue=function(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":var r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":var n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":var i=new Uint8Array(9);return i[0]=5,i.set(t.value.bytes,1),i;case"binary":var o=new DataView(new ArrayBuffer(3+t.value.byteLength));o.setUint8(0,6),o.setUint16(1,t.value.byteLength,!1);var s=new Uint8Array(o.buffer);return s.set(t.value,3),s;case"string":var a=this.fromUtf8(t.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);var u=new Uint8Array(c.buffer);return u.set(a,3),u;case"timestamp":var l=new Uint8Array(9);return l[0]=8,l.set(ka.fromNumber(t.value.valueOf()).bytes,1),l;case"uuid":if(!a2.test(t.value))throw new Error("Invalid UUID received: "+t.value);var f=new Uint8Array(17);return f[0]=9,f.set(S1(t.value.replace(/\-/g,"")),1),f}},e.prototype.parse=function(t){for(var r={},n=0;n<t.byteLength;){var i=t.getUint8(n++),o=this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+n,i));switch(n+=i,t.getUint8(n++)){case 0:r[o]={type:Eh,value:!0};break;case 1:r[o]={type:Eh,value:!1};break;case 2:r[o]={type:QP,value:t.getInt8(n++)};break;case 3:r[o]={type:e2,value:t.getInt16(n,!1)},n+=2;break;case 4:r[o]={type:t2,value:t.getInt32(n,!1)},n+=4;break;case 5:r[o]={type:r2,value:new ka(new Uint8Array(t.buffer,t.byteOffset+n,8))},n+=8;break;case 6:var s=t.getUint16(n,!1);n+=2,r[o]={type:n2,value:new Uint8Array(t.buffer,t.byteOffset+n,s)},n+=s;break;case 7:var a=t.getUint16(n,!1);n+=2,r[o]={type:i2,value:this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+n,a))},n+=a;break;case 8:r[o]={type:o2,value:new Date(new ka(new Uint8Array(t.buffer,t.byteOffset+n,8)).valueOf())},n+=8;break;case 9:var c=new Uint8Array(t.buffer,t.byteOffset+n,16);n+=16,r[o]={type:s2,value:Bt(c.subarray(0,4))+"-"+Bt(c.subarray(4,6))+"-"+Bt(c.subarray(6,8))+"-"+Bt(c.subarray(8,10))+"-"+Bt(c.subarray(10))};break;default:throw new Error("Unrecognized header type tag")}}return r},e}(),Ch;(function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"})(Ch||(Ch={}));var Eh="boolean",QP="byte",e2="short",t2="integer",r2="long",n2="binary",i2="string",o2="timestamp",s2="uuid",a2=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,_S=4,jr=_S*2,mn=4,u2=jr+mn*2;function c2(e){var t=e.byteLength,r=e.byteOffset,n=e.buffer;if(t<u2)throw new Error("Provided message too short to accommodate event stream message overhead");var i=new DataView(n,r,t),o=i.getUint32(0,!1);if(t!==o)throw new Error("Reported message length does not match received message length");var s=i.getUint32(_S,!1),a=i.getUint32(jr,!1),c=i.getUint32(t-mn,!1),u=new SS.Crc32().update(new Uint8Array(n,r,jr));if(a!==u.digest())throw new Error("The prelude checksum specified in the message ("+a+") does not match the calculated CRC32 checksum ("+u.digest()+")");if(u.update(new Uint8Array(n,r+jr,t-(jr+mn))),c!==u.digest())throw new Error("The message checksum ("+u.digest()+") did not match the expected value of "+c);return{headers:new DataView(n,r+jr+mn,s),body:new Uint8Array(n,r+jr+mn+s,o-s-(jr+mn+mn))}}var bS=function(){function e(t,r){this.headerMarshaller=new ZP(t,r)}return e.prototype.marshall=function(t){var r=t.headers,n=t.body,i=this.headerMarshaller.format(r),o=i.byteLength+n.byteLength+16,s=new Uint8Array(o),a=new DataView(s.buffer,s.byteOffset,s.byteLength),c=new SS.Crc32;return a.setUint32(0,o,!1),a.setUint32(4,i.byteLength,!1),a.setUint32(8,c.update(s.subarray(0,8)).digest(),!1),s.set(i,12),s.set(n,i.byteLength+12),a.setUint32(o-4,c.update(s.subarray(8,o-4)).digest(),!1),s},e.prototype.unmarshall=function(t){var r=c2(t),n=r.headers,i=r.body;return{headers:this.headerMarshaller.parse(n),body:i}},e.prototype.formatHeaders=function(t){return this.headerMarshaller.format(t)},e}();function l2(e){var t,r=0,n=0,i=null,o=null,s=function(c){if(typeof c!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+c);r=c,n=4,i=new Uint8Array(c);var u=new DataView(i.buffer);u.setUint32(0,c,!1)},a=function(){return T.exports.__asyncGenerator(this,arguments,function(){var c,u,l,f,d,h,m,y,_;return T.exports.__generator(this,function(C){switch(C.label){case 0:c=e[Symbol.asyncIterator](),C.label=1;case 1:return[4,T.exports.__await(c.next())];case 2:return u=C.sent(),l=u.value,f=u.done,f?r?[3,4]:[4,T.exports.__await(void 0)]:[3,10];case 3:return[2,C.sent()];case 4:return r!==n?[3,7]:[4,T.exports.__await(i)];case 5:return[4,C.sent()];case 6:return C.sent(),[3,8];case 7:throw new Error("Truncated event message received.");case 8:return[4,T.exports.__await(void 0)];case 9:return[2,C.sent()];case 10:d=l.length,h=0,C.label=11;case 11:if(!(h<d))return[3,15];if(!i){if(m=d-h,o||(o=new Uint8Array(4)),y=Math.min(4-n,m),o.set(l.slice(h,h+y),n),n+=y,h+=y,n<4)return[3,15];s(new DataView(o.buffer).getUint32(0,!1)),o=null}return _=Math.min(r-n,d-h),i.set(l.slice(h,h+_),n),n+=_,h+=_,r&&r===n?[4,T.exports.__await(i)]:[3,14];case 12:return[4,C.sent()];case 13:C.sent(),i=null,r=0,n=0,C.label=14;case 14:return[3,11];case 15:return[3,1];case 16:return[2]}})})};return t={},t[Symbol.asyncIterator]=a,t}function f2(e,t){var r;return r={},r[Symbol.asyncIterator]=function(){return T.exports.__asyncGenerator(this,arguments,function(){var n,i,o,s,a,c,u,l,f,d,h,m,y,_,C,w,A;return T.exports.__generator(this,function(I){switch(I.label){case 0:I.trys.push([0,12,13,18]),n=T.exports.__asyncValues(e),I.label=1;case 1:return[4,T.exports.__await(n.next())];case 2:if(i=I.sent(),!!i.done)return[3,11];if(o=i.value,s=t.eventMarshaller.unmarshall(o),a=s.headers[":message-type"].value,a!=="error")return[3,3];throw c=new Error(s.headers[":error-message"].value||"UnknownError"),c.name=s.headers[":error-code"].value,c;case 3:return a!=="exception"?[3,5]:(u=s.headers[":exception-type"].value,l=(_={},_[u]=s,_),[4,T.exports.__await(t.deserializer(l))]);case 4:throw f=I.sent(),f.$unknown?(d=new Error(t.toUtf8(s.body)),d.name=u,d):f[u];case 5:return a!=="event"?[3,9]:(h=(C={},C[s.headers[":event-type"].value]=s,C),[4,T.exports.__await(t.deserializer(h))]);case 6:return m=I.sent(),m.$unknown?[3,10]:[4,T.exports.__await(m)];case 7:return[4,I.sent()];case 8:return I.sent(),[3,10];case 9:throw Error("Unrecognizable event type: "+s.headers[":event-type"].value);case 10:return[3,1];case 11:return[3,18];case 12:return y=I.sent(),w={error:y},[3,18];case 13:return I.trys.push([13,,16,17]),i&&!i.done&&(A=n.return)?[4,T.exports.__await(A.call(n))]:[3,15];case 14:I.sent(),I.label=15;case 15:return[3,17];case 16:if(w)throw w.error;return[7];case 17:return[7];case 18:return[2]}})})},r}var d2=function(){function e(t){var r=t.utf8Encoder,n=t.utf8Decoder;this.eventMarshaller=new bS(r,n),this.utfEncoder=r}return e.prototype.deserialize=function(t,r){var n=l2(t),i=f2(n,{eventMarshaller:this.eventMarshaller,deserializer:r,toUtf8:this.utfEncoder});return i},e.prototype.serialize=function(t,r){var n,i=this,o=function(){return T.exports.__asyncGenerator(this,arguments,function(){var s,a,c,u,l,f,d;return T.exports.__generator(this,function(h){switch(h.label){case 0:h.trys.push([0,7,8,13]),s=T.exports.__asyncValues(t),h.label=1;case 1:return[4,T.exports.__await(s.next())];case 2:return a=h.sent(),!a.done?(c=a.value,u=i.eventMarshaller.marshall(r(c)),[4,T.exports.__await(u)]):[3,6];case 3:return[4,h.sent()];case 4:h.sent(),h.label=5;case 5:return[3,1];case 6:return[3,13];case 7:return l=h.sent(),f={error:l},[3,13];case 8:return h.trys.push([8,,11,12]),a&&!a.done&&(d=s.return)?[4,T.exports.__await(d.call(s))]:[3,10];case 9:h.sent(),h.label=10;case 10:return[3,12];case 11:if(f)throw f.error;return[7];case 12:return[7];case 13:return[4,T.exports.__await(new Uint8Array(0))];case 14:return[4,h.sent()];case 15:return h.sent(),[2]}})})};return n={},n[Symbol.asyncIterator]=o,n},e}(),h2=function(e){var t;return t={},t[Symbol.asyncIterator]=function(){return T.exports.__asyncGenerator(this,arguments,function(){var r,n,i,o;return T.exports.__generator(this,function(s){switch(s.label){case 0:r=e.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,T.exports.__await(r.read())];case 3:return n=s.sent(),i=n.done,o=n.value,i?[4,T.exports.__await(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,T.exports.__await(o)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return r.releaseLock(),[7];case 10:return[2]}})})},t},g2=function(e){var t=e[Symbol.asyncIterator]();return new ReadableStream({pull:function(r){return T.exports.__awaiter(this,void 0,void 0,function(){var n,i,o;return T.exports.__generator(this,function(s){switch(s.label){case 0:return[4,t.next()];case 1:return n=s.sent(),i=n.done,o=n.value,i?[2,r.close()]:(r.enqueue(o),[2])}})})}})},p2=function(){function e(t){var r=t.utf8Encoder,n=t.utf8Decoder;this.eventMarshaller=new bS(r,n),this.universalMarshaller=new d2({utf8Decoder:n,utf8Encoder:r})}return e.prototype.deserialize=function(t,r){var n=v2(t)?h2(t):t;return this.universalMarshaller.deserialize(n,r)},e.prototype.serialize=function(t,r){var n=this.universalMarshaller.serialize(t,r);return typeof ReadableStream=="function"?g2(n):n},e}(),v2=function(e){return typeof ReadableStream=="function"&&e instanceof ReadableStream},m2=function(e){return new p2(e)},y2=function(e){return T.exports.__assign(T.exports.__assign({},e),{eventStreamMarshaller:e.eventStreamSerdeProvider(e)})},Zu=function(e,t){return Zu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Zu(e,t)};function tr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Zu(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var p=function(){return p=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},p.apply(this,arguments)};function Ee(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(f){s(f)}}function c(l){try{u(n.throw(l))}catch(f){s(f)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})}function xe(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}const w2="@aws-sdk/client-s3",S2="AWS SDK for JavaScript S3 Client for Node.js, Browser and React Native",_2="3.6.1",b2={clean:"yarn remove-definitions && yarn remove-dist && yarn remove-documentation","build-documentation":"yarn remove-documentation && typedoc ./",prepublishOnly:"yarn build",pretest:"yarn build:cjs","remove-definitions":"rimraf ./types","remove-dist":"rimraf ./dist","remove-documentation":"rimraf ./docs","test:unit":"mocha **/cjs/**/*.spec.js","test:e2e":"mocha **/cjs/**/*.ispec.js && karma start karma.conf.js",test:"yarn test:unit","build:cjs":"tsc -p tsconfig.json","build:es":"tsc -p tsconfig.es.json",build:"yarn build:cjs && yarn build:es",postbuild:"downlevel-dts types types/ts3.4"},C2="./dist/cjs/index.js",E2="./types/index.d.ts",x2="./dist/es/index.js",A2={"./runtimeConfig":"./runtimeConfig.browser"},I2=!1,T2={"@aws-crypto/sha256-browser":"^1.0.0","@aws-crypto/sha256-js":"^1.0.0","@aws-sdk/config-resolver":"3.6.1","@aws-sdk/credential-provider-node":"3.6.1","@aws-sdk/eventstream-serde-browser":"3.6.1","@aws-sdk/eventstream-serde-config-resolver":"3.6.1","@aws-sdk/eventstream-serde-node":"3.6.1","@aws-sdk/fetch-http-handler":"3.6.1","@aws-sdk/hash-blob-browser":"3.6.1","@aws-sdk/hash-node":"3.6.1","@aws-sdk/hash-stream-node":"3.6.1","@aws-sdk/invalid-dependency":"3.6.1","@aws-sdk/md5-js":"3.6.1","@aws-sdk/middleware-apply-body-checksum":"3.6.1","@aws-sdk/middleware-bucket-endpoint":"3.6.1","@aws-sdk/middleware-content-length":"3.6.1","@aws-sdk/middleware-expect-continue":"3.6.1","@aws-sdk/middleware-host-header":"3.6.1","@aws-sdk/middleware-location-constraint":"3.6.1","@aws-sdk/middleware-logger":"3.6.1","@aws-sdk/middleware-retry":"3.6.1","@aws-sdk/middleware-sdk-s3":"3.6.1","@aws-sdk/middleware-serde":"3.6.1","@aws-sdk/middleware-signing":"3.6.1","@aws-sdk/middleware-ssec":"3.6.1","@aws-sdk/middleware-stack":"3.6.1","@aws-sdk/middleware-user-agent":"3.6.1","@aws-sdk/node-config-provider":"3.6.1","@aws-sdk/node-http-handler":"3.6.1","@aws-sdk/protocol-http":"3.6.1","@aws-sdk/smithy-client":"3.6.1","@aws-sdk/types":"3.6.1","@aws-sdk/url-parser":"3.6.1","@aws-sdk/url-parser-native":"3.6.1","@aws-sdk/util-base64-browser":"3.6.1","@aws-sdk/util-base64-node":"3.6.1","@aws-sdk/util-body-length-browser":"3.6.1","@aws-sdk/util-body-length-node":"3.6.1","@aws-sdk/util-user-agent-browser":"3.6.1","@aws-sdk/util-user-agent-node":"3.6.1","@aws-sdk/util-utf8-browser":"3.6.1","@aws-sdk/util-utf8-node":"3.6.1","@aws-sdk/util-waiter":"3.6.1","@aws-sdk/xml-builder":"3.6.1","fast-xml-parser":"^3.16.0",tslib:"^2.0.0"},P2={"@aws-sdk/client-documentation-generator":"3.6.1","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^12.7.5","downlevel-dts":"0.7.0",jest:"^26.1.0",rimraf:"^3.0.0",typedoc:"^0.19.2",typescript:"~4.1.2"},k2={node:">=10.0.0"},R2={"<4.0":{"types/*":["types/ts3.4/*"]}},O2={name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},U2="Apache-2.0",L2="https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-s3",M2={type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-s3"},N2={name:w2,description:S2,version:_2,scripts:b2,main:C2,types:E2,module:x2,browser:A2,"react-native":{"./runtimeConfig":"./runtimeConfig.native"},sideEffects:I2,dependencies:T2,devDependencies:P2,engines:k2,typesVersions:R2,author:O2,license:U2,homepage:L2,repository:M2};function D2(e,t,r){return r===void 0&&(r=1024*1024),new Promise(function(n,i){var o=new FileReader;o.addEventListener("error",i),o.addEventListener("abort",i);var s=e.size,a=0;function c(){if(a>=s){n();return}o.readAsArrayBuffer(e.slice(a,Math.min(s,a+r)))}o.addEventListener("load",function(u){var l=u.target.result;t(new Uint8Array(l)),a+=l.byteLength,c()}),c()})}var B2=function(t,r){return T.exports.__awaiter(this,void 0,void 0,function(){var n;return T.exports.__generator(this,function(i){switch(i.label){case 0:return n=new t,[4,D2(r,function(o){n.update(o)})];case 1:return i.sent(),[2,n.digest()]}})})},Dr=64,F2=16,z2=[1732584193,4023233417,2562383102,271733878],K2=function(){function e(){this.state=Uint32Array.from(z2),this.buffer=new DataView(new ArrayBuffer(Dr)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(t){if(!q2(t)){if(this.finished)throw new Error("Attempted to update an already finished hash.");var r=j2(t),n=0,i=r.byteLength;for(this.bytesHashed+=i;i>0;)this.buffer.setUint8(this.bufferLength++,r[n++]),i--,this.bufferLength===Dr&&(this.hashBuffer(),this.bufferLength=0)}},e.prototype.digest=function(){return T.exports.__awaiter(this,void 0,void 0,function(){var t,r,n,i,o,a,a,s,a;return T.exports.__generator(this,function(c){if(!this.finished){if(t=this,r=t.buffer,n=t.bufferLength,i=t.bytesHashed,o=i*8,r.setUint8(this.bufferLength++,128),n%Dr>=Dr-8){for(a=this.bufferLength;a<Dr;a++)r.setUint8(a,0);this.hashBuffer(),this.bufferLength=0}for(a=this.bufferLength;a<Dr-8;a++)r.setUint8(a,0);r.setUint32(Dr-8,o>>>0,!0),r.setUint32(Dr-4,Math.floor(o/4294967296),!0),this.hashBuffer(),this.finished=!0}for(s=new DataView(new ArrayBuffer(F2)),a=0;a<4;a++)s.setUint32(a*4,this.state[a],!0);return[2,new Uint8Array(s.buffer,s.byteOffset,s.byteLength)]})})},e.prototype.hashBuffer=function(){var t=this,r=t.buffer,n=t.state,i=n[0],o=n[1],s=n[2],a=n[3];i=ot(i,o,s,a,r.getUint32(0,!0),7,3614090360),a=ot(a,i,o,s,r.getUint32(4,!0),12,3905402710),s=ot(s,a,i,o,r.getUint32(8,!0),17,606105819),o=ot(o,s,a,i,r.getUint32(12,!0),22,3250441966),i=ot(i,o,s,a,r.getUint32(16,!0),7,4118548399),a=ot(a,i,o,s,r.getUint32(20,!0),12,1200080426),s=ot(s,a,i,o,r.getUint32(24,!0),17,2821735955),o=ot(o,s,a,i,r.getUint32(28,!0),22,4249261313),i=ot(i,o,s,a,r.getUint32(32,!0),7,1770035416),a=ot(a,i,o,s,r.getUint32(36,!0),12,2336552879),s=ot(s,a,i,o,r.getUint32(40,!0),17,4294925233),o=ot(o,s,a,i,r.getUint32(44,!0),22,2304563134),i=ot(i,o,s,a,r.getUint32(48,!0),7,1804603682),a=ot(a,i,o,s,r.getUint32(52,!0),12,4254626195),s=ot(s,a,i,o,r.getUint32(56,!0),17,2792965006),o=ot(o,s,a,i,r.getUint32(60,!0),22,1236535329),i=st(i,o,s,a,r.getUint32(4,!0),5,4129170786),a=st(a,i,o,s,r.getUint32(24,!0),9,3225465664),s=st(s,a,i,o,r.getUint32(44,!0),14,643717713),o=st(o,s,a,i,r.getUint32(0,!0),20,3921069994),i=st(i,o,s,a,r.getUint32(20,!0),5,3593408605),a=st(a,i,o,s,r.getUint32(40,!0),9,38016083),s=st(s,a,i,o,r.getUint32(60,!0),14,3634488961),o=st(o,s,a,i,r.getUint32(16,!0),20,3889429448),i=st(i,o,s,a,r.getUint32(36,!0),5,568446438),a=st(a,i,o,s,r.getUint32(56,!0),9,3275163606),s=st(s,a,i,o,r.getUint32(12,!0),14,4107603335),o=st(o,s,a,i,r.getUint32(32,!0),20,1163531501),i=st(i,o,s,a,r.getUint32(52,!0),5,2850285829),a=st(a,i,o,s,r.getUint32(8,!0),9,4243563512),s=st(s,a,i,o,r.getUint32(28,!0),14,1735328473),o=st(o,s,a,i,r.getUint32(48,!0),20,2368359562),i=at(i,o,s,a,r.getUint32(20,!0),4,4294588738),a=at(a,i,o,s,r.getUint32(32,!0),11,2272392833),s=at(s,a,i,o,r.getUint32(44,!0),16,1839030562),o=at(o,s,a,i,r.getUint32(56,!0),23,4259657740),i=at(i,o,s,a,r.getUint32(4,!0),4,2763975236),a=at(a,i,o,s,r.getUint32(16,!0),11,1272893353),s=at(s,a,i,o,r.getUint32(28,!0),16,4139469664),o=at(o,s,a,i,r.getUint32(40,!0),23,3200236656),i=at(i,o,s,a,r.getUint32(52,!0),4,681279174),a=at(a,i,o,s,r.getUint32(0,!0),11,3936430074),s=at(s,a,i,o,r.getUint32(12,!0),16,3572445317),o=at(o,s,a,i,r.getUint32(24,!0),23,76029189),i=at(i,o,s,a,r.getUint32(36,!0),4,3654602809),a=at(a,i,o,s,r.getUint32(48,!0),11,3873151461),s=at(s,a,i,o,r.getUint32(60,!0),16,530742520),o=at(o,s,a,i,r.getUint32(8,!0),23,3299628645),i=ut(i,o,s,a,r.getUint32(0,!0),6,4096336452),a=ut(a,i,o,s,r.getUint32(28,!0),10,1126891415),s=ut(s,a,i,o,r.getUint32(56,!0),15,2878612391),o=ut(o,s,a,i,r.getUint32(20,!0),21,4237533241),i=ut(i,o,s,a,r.getUint32(48,!0),6,1700485571),a=ut(a,i,o,s,r.getUint32(12,!0),10,2399980690),s=ut(s,a,i,o,r.getUint32(40,!0),15,4293915773),o=ut(o,s,a,i,r.getUint32(4,!0),21,2240044497),i=ut(i,o,s,a,r.getUint32(32,!0),6,1873313359),a=ut(a,i,o,s,r.getUint32(60,!0),10,4264355552),s=ut(s,a,i,o,r.getUint32(24,!0),15,2734768916),o=ut(o,s,a,i,r.getUint32(52,!0),21,1309151649),i=ut(i,o,s,a,r.getUint32(16,!0),6,4149444226),a=ut(a,i,o,s,r.getUint32(44,!0),10,3174756917),s=ut(s,a,i,o,r.getUint32(8,!0),15,718787259),o=ut(o,s,a,i,r.getUint32(36,!0),21,3951481745),n[0]=i+n[0]&4294967295,n[1]=o+n[1]&4294967295,n[2]=s+n[2]&4294967295,n[3]=a+n[3]&4294967295},e}();function Hs(e,t,r,n,i,o){return t=(t+e&4294967295)+(n+o&4294967295)&4294967295,(t<<i|t>>>32-i)+r&4294967295}function ot(e,t,r,n,i,o,s){return Hs(t&r|~t&n,e,t,i,o,s)}function st(e,t,r,n,i,o,s){return Hs(t&n|r&~n,e,t,i,o,s)}function at(e,t,r,n,i,o,s){return Hs(t^r^n,e,t,i,o,s)}function ut(e,t,r,n,i,o,s){return Hs(r^(t|~n),e,t,i,o,s)}function q2(e){return typeof e=="string"?e.length===0:e.byteLength===0}function j2(e){return typeof e=="string"?Os(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}var xh="s3.{region}.amazonaws.com",$2="s3.{region}.amazonaws.com.cn",H2="s3.{region}.c2s.ic.gov",V2="s3.{region}.sc2s.sgov.gov",G2="s3.{region}.amazonaws.com",W2=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),Y2=new Set(["cn-north-1","cn-northwest-1"]),X2=new Set(["us-iso-east-1"]),J2=new Set(["us-isob-east-1"]),Z2=new Set(["us-gov-east-1","us-gov-west-1"]),Q2=function(e,t){var r=void 0;switch(e){case"af-south-1":r={hostname:"s3.af-south-1.amazonaws.com",partition:"aws"};break;case"ap-east-1":r={hostname:"s3.ap-east-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-1":r={hostname:"s3.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":r={hostname:"s3.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":r={hostname:"s3.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":r={hostname:"s3.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":r={hostname:"s3.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"aws-global":r={hostname:"s3.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"ca-central-1":r={hostname:"s3.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":r={hostname:"s3.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"cn-northwest-1":r={hostname:"s3.cn-northwest-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":r={hostname:"s3.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":r={hostname:"s3.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-south-1":r={hostname:"s3.eu-south-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":r={hostname:"s3.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":r={hostname:"s3.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":r={hostname:"s3.eu-west-3.amazonaws.com",partition:"aws"};break;case"fips-us-gov-west-1":r={hostname:"s3-fips.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"me-south-1":r={hostname:"s3.me-south-1.amazonaws.com",partition:"aws"};break;case"s3-external-1":r={hostname:"s3-external-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"sa-east-1":r={hostname:"s3.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":r={hostname:"s3.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":r={hostname:"s3.us-east-2.amazonaws.com",partition:"aws"};break;case"us-gov-east-1":r={hostname:"s3.us-gov-east-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-gov-west-1":r={hostname:"s3.us-gov-west-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-iso-east-1":r={hostname:"s3.us-iso-east-1.c2s.ic.gov",partition:"aws-iso"};break;case"us-isob-east-1":r={hostname:"s3.us-isob-east-1.sc2s.sgov.gov",partition:"aws-iso-b"};break;case"us-west-1":r={hostname:"s3.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-2":r={hostname:"s3.us-west-2.amazonaws.com",partition:"aws"};break;default:W2.has(e)&&(r={hostname:xh.replace("{region}",e),partition:"aws"}),Y2.has(e)&&(r={hostname:$2.replace("{region}",e),partition:"aws-cn"}),X2.has(e)&&(r={hostname:H2.replace("{region}",e),partition:"aws-iso"}),J2.has(e)&&(r={hostname:V2.replace("{region}",e),partition:"aws-iso-b"}),Z2.has(e)&&(r={hostname:G2.replace("{region}",e),partition:"aws-us-gov"}),r===void 0&&(r={hostname:xh.replace("{region}",e),partition:"aws"})}return Promise.resolve(p({signingService:"s3"},r))},Ah={apiVersion:"2006-03-01",disableHostPrefix:!1,logger:{},regionInfoProvider:Q2,serviceId:"S3",signingEscapePath:!1,urlParser:Rw,useArnRegion:!1},ek=p(p({},Ah),{runtime:"browser",base64Decoder:Tl,base64Encoder:ww,bodyLengthChecker:Tw,credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:kw({serviceId:Ah.serviceId,clientVersion:N2.version}),eventStreamSerdeProvider:m2,maxAttempts:Fs,md5:K2,region:_w("Region is missing"),requestHandler:new yw,sha256:bl.Sha256,streamCollector:Sw,streamHasher:B2,utf8Decoder:Os,utf8Encoder:El}),CS=function(e){return typeof e=="string"&&e.indexOf("arn:")===0&&e.split(":").length>=6},tk=function(e){var t=e.split(":");if(t.length<6||t[0]!=="arn")throw new Error("Malformed ARN");var r=T.exports.__read(t),n=r[1],i=r[2],o=r[3],s=r[4],a=r.slice(5);return{partition:n,service:i,region:o,accountId:s,resource:a.join(":")}},rk=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,nk=/(\d+\.){3}\d+/,ik=/\.\./,ES=/\./,ok=/^(.+\.)?s3[.-]([a-z0-9-]+)\./,xS=/^s3(-external-1)?\.amazonaws\.com$/,Qu="amazonaws.com",sk=function(e){return typeof e.bucketName=="string"},us=function(e){return Nl(e)?e.replace(/fips-|-fips/,""):e},ak=function(e){return rk.test(e)&&!nk.test(e)&&!ik.test(e)},AS=function(e){var t=e.match(ok);return[t[2],e.replace(new RegExp("^"+t[0]),"")]},uk=function(e){return xS.test(e)?["us-east-1",Qu]:AS(e)},ck=function(e){return xS.test(e)?[e.replace("."+Qu,""),Qu]:AS(e)},lk=function(e){if(e.pathStyleEndpoint)throw new Error("Path-style S3 endpoint is not supported when bucket is an ARN");if(e.accelerateEndpoint)throw new Error("Accelerate endpoint is not supported when bucket is an ARN");if(!e.tlsCompatible)throw new Error("HTTPS is required when bucket is an ARN")},fk=function(e){if(e!=="s3"&&e!=="s3-outposts")throw new Error("Expect 's3' or 's3-outposts' in ARN service component")},dk=function(e){if(e!=="s3")throw new Error("Expect 's3' in Accesspoint ARN service component")},hk=function(e){if(e!=="s3-outposts")throw new Error("Expect 's3-posts' in Outpost ARN service component")},gk=function(e,t){if(e!==t.clientPartition)throw new Error('Partition in ARN is incompatible, got "'+e+'" but expected "'+t.clientPartition+'"')},pk=function(e,t){if(e==="")throw new Error("ARN region is empty");if(!t.useArnRegion&&!Ih(e,t.clientRegion)&&!Ih(e,t.clientSigningRegion))throw new Error("Region in ARN is incompatible, got "+e+" but expected "+t.clientRegion);if(t.useArnRegion&&Nl(e))throw new Error("Endpoint does not support FIPS region")},Nl=function(e){return e.startsWith("fips-")||e.endsWith("-fips")},Ih=function(e,t){return e===t||us(e)===t||e===us(t)},vk=function(e){if(!/[0-9]{12}/.exec(e))throw new Error("Access point ARN accountID does not match regex '[0-9]{12}'")},Th=function(e,t){if(t===void 0&&(t={tlsCompatible:!0}),e.length>=64||!/^[a-z0-9][a-z0-9.-]+[a-z0-9]$/.test(e)||/(\d+\.){3}\d+/.test(e)||/[.-]{2}/.test(e)||(t==null?void 0:t.tlsCompatible)&&ES.test(e))throw new Error("Invalid DNS label "+e)},mk=function(e){var t=e.includes(":")?":":"/",r=T.exports.__read(e.split(t)),n=r[0],i=r.slice(1);if(n==="accesspoint"){if(i.length!==1||i[0]==="")throw new Error("Access Point ARN should have one resource accesspoint"+t+"{accesspointname}");return{accesspointName:i[0]}}else if(n==="outpost"){if(!i[0]||i[1]!=="accesspoint"||!i[2]||i.length!==3)throw new Error("Outpost ARN should have resource outpost"+t+"{outpostId}"+t+"accesspoint"+t+"{accesspointName}");var o=T.exports.__read(i,3),s=o[0];o[1];var a=o[2];return{outpostId:s,accesspointName:a}}else throw new Error("ARN resource should begin with 'accesspoint"+t+"' or 'outpost"+t+"'")},yk=function(e){if(e)throw new Error("Dualstack endpoint is not supported with Outpost")},wk=function(e){if(Nl(e!=null?e:""))throw new Error("FIPS region is not supported with Outpost, got "+e)},Ph=function(e){var t=e.isCustomEndpoint;e.baseHostname;var r=e.dualstackEndpoint,n=e.accelerateEndpoint;if(t){if(r)throw new Error("Dualstack endpoint is not supported with custom endpoint");if(n)throw new Error("Accelerate endpoint is not supported with custom endpoint")}return sk(e)?_k(T.exports.__assign(T.exports.__assign({},e),{isCustomEndpoint:t})):Sk(T.exports.__assign(T.exports.__assign({},e),{isCustomEndpoint:t}))},Sk=function(e){var t=e.isCustomEndpoint,r=e.baseHostname,n=T.exports.__read(t?[e.clientRegion,r]:ck(r),2),i=n[0],o=n[1],s=e.pathStyleEndpoint,a=e.dualstackEndpoint,c=a===void 0?!1:a,u=e.accelerateEndpoint,l=u===void 0?!1:u,f=e.tlsCompatible,d=f===void 0?!0:f,h=e.useArnRegion,m=e.bucketName,y=e.clientPartition,_=y===void 0?"aws":y,C=e.clientSigningRegion,w=C===void 0?i:C;lk({pathStyleEndpoint:s,accelerateEndpoint:l,tlsCompatible:d});var A=m.service,I=m.partition,O=m.accountId,D=m.region,q=m.resource;fk(A),gk(I,{clientPartition:_}),vk(O),pk(D,{useArnRegion:h,clientRegion:i,clientSigningRegion:w});var L=mk(q),H=L.accesspointName,k=L.outpostId;Th(H+"-"+O,{tlsCompatible:d});var U=h?D:i,R=h?D:w;if(k){hk(A),Th(k,{tlsCompatible:d}),yk(c),wk(U);var j=H+"-"+O+"."+k;return{bucketEndpoint:!0,hostname:""+j+(t?"":".s3-outposts."+U)+"."+o,signingRegion:R,signingService:"s3-outposts"}}dk(A);var V=H+"-"+O;return{bucketEndpoint:!0,hostname:""+V+(t?"":".s3-accesspoint"+(c?".dualstack":"")+"."+U)+"."+o,signingRegion:R}},_k=function(e){var t=e.accelerateEndpoint,r=t===void 0?!1:t,n=e.clientRegion,i=e.baseHostname,o=e.bucketName,s=e.dualstackEndpoint,a=s===void 0?!1:s,c=e.pathStyleEndpoint,u=c===void 0?!1:c,l=e.tlsCompatible,f=l===void 0?!0:l,d=e.isCustomEndpoint,h=d===void 0?!1:d,m=T.exports.__read(h?[n,i]:uk(i),2),y=m[0],_=m[1];return u||!ak(o)||f&&ES.test(o)?{bucketEndpoint:!1,hostname:a?"s3.dualstack."+y+"."+_:i}:(r?i="s3-accelerate"+(a?".dualstack":"")+"."+_:a&&(i="s3.dualstack."+y+"."+_),{bucketEndpoint:!0,hostname:o+"."+i})},bk=function(e){return function(t,r){return function(n){return T.exports.__awaiter(void 0,void 0,void 0,function(){var i,o,s,a,C,c,u,l,f,d,h,m,I,O,y,_,C,w,A,I,O;return T.exports.__generator(this,function(D){switch(D.label){case 0:return i=n.input.Bucket,o=e.bucketEndpoint,s=n.request,Xe.isInstance(s)?e.bucketEndpoint?(s.hostname=i,[3,7]):[3,1]:[3,8];case 1:return CS(i)?(a=tk(i),c=us,[4,e.region()]):[3,5];case 2:return C=c.apply(void 0,[D.sent()]),[4,e.regionInfoProvider(C)];case 3:return u=D.sent()||{},l=u.partition,f=u.signingRegion,d=f===void 0?C:f,[4,e.useArnRegion()];case 4:return h=D.sent(),m=Ph({bucketName:a,baseHostname:s.hostname,accelerateEndpoint:e.useAccelerateEndpoint,dualstackEndpoint:e.useDualstackEndpoint,pathStyleEndpoint:e.forcePathStyle,tlsCompatible:s.protocol==="https:",useArnRegion:h,clientPartition:l,clientSigningRegion:d,clientRegion:C,isCustomEndpoint:e.isCustomEndpoint}),I=m.hostname,O=m.bucketEndpoint,y=m.signingRegion,_=m.signingService,y&&y!==d&&(r.signing_region=y),_&&_!=="s3"&&(r.signing_service=_),s.hostname=I,o=O,[3,7];case 5:return w=us,[4,e.region()];case 6:C=w.apply(void 0,[D.sent()]),A=Ph({bucketName:i,clientRegion:C,baseHostname:s.hostname,accelerateEndpoint:e.useAccelerateEndpoint,dualstackEndpoint:e.useDualstackEndpoint,pathStyleEndpoint:e.forcePathStyle,tlsCompatible:s.protocol==="https:",isCustomEndpoint:e.isCustomEndpoint}),I=A.hostname,O=A.bucketEndpoint,s.hostname=I,o=O,D.label=7;case 7:o&&(s.path=s.path.replace(/^(\/)?[^\/]+/,""),s.path===""&&(s.path="/")),D.label=8;case 8:return[2,t(T.exports.__assign(T.exports.__assign({},n),{request:s}))]}})})}}},Ck={tags:["BUCKET_ENDPOINT"],name:"bucketEndpointMiddleware",relation:"before",toMiddleware:"hostHeaderMiddleware",override:!0},gr=function(e){return{applyToStack:function(t){t.addRelativeTo(bk(e),Ck)}}};function Ek(e){var t=e.bucketEndpoint,r=t===void 0?!1:t,n=e.forcePathStyle,i=n===void 0?!1:n,o=e.useAccelerateEndpoint,s=o===void 0?!1:o,a=e.useDualstackEndpoint,c=a===void 0?!1:a,u=e.useArnRegion,l=u===void 0?!1:u;return T.exports.__assign(T.exports.__assign({},e),{bucketEndpoint:r,forcePathStyle:i,useAccelerateEndpoint:s,useDualstackEndpoint:c,useArnRegion:typeof l=="function"?l:function(){return Promise.resolve(l)}})}function xk(e){var t=this;return function(r){return function(n){return T.exports.__awaiter(t,void 0,void 0,function(){var i;return T.exports.__generator(this,function(o){return i=n.request,Xe.isInstance(i)&&i.body&&e.runtime==="node"&&(i.headers=T.exports.__assign(T.exports.__assign({},i.headers),{Expect:"100-continue"})),[2,r(T.exports.__assign(T.exports.__assign({},n),{request:i}))]})})}}}var Ak={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},Ik=function(e){return{applyToStack:function(t){t.add(xk(e),Ak)}}};function Tk(){var e=this;return function(t){return function(r){return T.exports.__awaiter(e,void 0,void 0,function(){var n,i;return T.exports.__generator(this,function(o){if(n=r.input.Bucket,typeof n=="string"&&!CS(n)&&n.indexOf("/")>=0)throw i=new Error("Bucket name shouldn't contain '/', received '"+n+"'"),i.name="InvalidBucketName",i;return[2,t(T.exports.__assign({},r))]})})}}}var Pk={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},kk=function(e){return{applyToStack:function(t){t.add(Tk(),Pk)}}},Rk=function(e){return function(t){return function(r){return T.exports.__awaiter(void 0,void 0,void 0,function(){var n,i;return T.exports.__generator(this,function(o){switch(o.label){case 0:return n=r.request,!Xe.isInstance(n)||e.isCustomEndpoint?[2,t(T.exports.__assign({},r))]:n.hostname!=="s3.amazonaws.com"?[3,1]:(n.hostname="s3.us-east-1.amazonaws.com",[3,3]);case 1:return i="aws-global",[4,e.region()];case 2:i===o.sent()&&(n.hostname="s3.amazonaws.com"),o.label=3;case 3:return[2,t(T.exports.__assign({},r))]}})})}}},Ok={step:"build",tags:["USE_REGIONAL_ENDPOINT","S3"],name:"useRegionalEndpointMiddleware",override:!0},Uk=function(e){return{applyToStack:function(t){t.add(Rk(e),Ok)}}},Lk=function(e){return function(t){return function(r){return T.exports.__awaiter(void 0,void 0,void 0,function(){var n,i,o,s,a,c,u;return T.exports.__generator(this,function(l){switch(l.label){case 0:return[4,t(r)];case 1:return n=l.sent(),i=n.response,Qi.isInstance(i)?(o=i.statusCode,s=i.body,o<200&&o>=300?[2,n]:[4,IS(s,e)]):[2,n];case 2:return a=l.sent(),[4,Mk(a,e)];case 3:if(c=l.sent(),a.length===0)throw u=new Error("S3 aborted request"),u.name="InternalError",u;return c&&c.match("<Error>")&&(i.statusCode=400),i.body=a,[2,n]}})})}}},IS=function(e,t){return e===void 0&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},Mk=function(e,t){return IS(e,t).then(function(r){return t.utf8Encoder(r)})},Nk={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},TS=function(e){return{applyToStack:function(t){t.addRelativeTo(Lk(e),Nk)}}},Dk=function(e){tr(t,e);function t(r){var n=this,i=p(p({},ek),r),o=Uw(i),s=Ow(o),a=Hw(s),c=Iw(a),u=c,l=Ek(u),f=Vw(l),d=y2(f);return n=e.call(this,d)||this,n.config=d,n.middlewareStack.use(sA(n.config)),n.middlewareStack.use(bw(n.config)),n.middlewareStack.use(Lw(n.config)),n.middlewareStack.use(Mw(n.config)),n.middlewareStack.use(Nw(n.config)),n.middlewareStack.use(kk(n.config)),n.middlewareStack.use(Uk(n.config)),n.middlewareStack.use(Ik(n.config)),n.middlewareStack.use(Gw(n.config)),n}return t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(Ww),kh;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(kh||(kh={}));var ec;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(ec||(ec={}));var tc;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(tc||(tc={}));var Rh;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Rh||(Rh={}));var Oh;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Oh||(Oh={}));var Uh;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Uh||(Uh={}));var Lh;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Lh||(Lh={}));var Mh;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Mh||(Mh={}));var Nh;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Nh||(Nh={}));var Dh;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Dh||(Dh={}));var rc;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.SSEKMSKeyId&&{SSEKMSKeyId:Re})}})(rc||(rc={}));var Bh;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Bh||(Bh={}));var Fh;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Fh||(Fh={}));var nc;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(nc||(nc={}));var zh;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(zh||(zh={}));var ic;(function(e){e.filterSensitiveLog=function(t){return p(p(p({},t),t.SSEKMSKeyId&&{SSEKMSKeyId:Re}),t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Re})}})(ic||(ic={}));var oc;(function(e){e.filterSensitiveLog=function(t){return p(p(p(p(p({},t),t.SSECustomerKey&&{SSECustomerKey:Re}),t.SSEKMSKeyId&&{SSEKMSKeyId:Re}),t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Re}),t.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:Re})}})(oc||(oc={}));var Kh;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Kh||(Kh={}));var qh;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(qh||(qh={}));var jh;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(jh||(jh={}));var $h;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})($h||($h={}));var Hh;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Hh||(Hh={}));var Vh;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Vh||(Vh={}));var sc;(function(e){e.filterSensitiveLog=function(t){return p(p(p({},t),t.SSEKMSKeyId&&{SSEKMSKeyId:Re}),t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Re})}})(sc||(sc={}));var ac;(function(e){e.filterSensitiveLog=function(t){return p(p(p(p({},t),t.SSECustomerKey&&{SSECustomerKey:Re}),t.SSEKMSKeyId&&{SSEKMSKeyId:Re}),t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Re})}})(ac||(ac={}));var Gh;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Gh||(Gh={}));var Wh;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Wh||(Wh={}));var Yh;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Yh||(Yh={}));var Xh;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Xh||(Xh={}));var Jh;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Jh||(Jh={}));var Zh;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Zh||(Zh={}));var Qh;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Qh||(Qh={}));var eg;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(eg||(eg={}));var tg;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(tg||(tg={}));var rg;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(rg||(rg={}));var ng;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(ng||(ng={}));var ig;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(ig||(ig={}));var og;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(og||(og={}));var uc;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(uc||(uc={}));var cc;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(cc||(cc={}));var sg;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(sg||(sg={}));var ag;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(ag||(ag={}));var ug;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(ug||(ug={}));var cg;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(cg||(cg={}));var lg;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(lg||(lg={}));var fg;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(fg||(fg={}));var dg;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(dg||(dg={}));var hg;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(hg||(hg={}));var gg;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(gg||(gg={}));var pg;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(pg||(pg={}));var vg;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(vg||(vg={}));var mg;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(mg||(mg={}));var yg;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(yg||(yg={}));var ui;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(ui||(ui={}));var lc;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(lc||(lc={}));var fc;(function(e){e.visit=function(t,r){return t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])},e.filterSensitiveLog=function(t){var r;if(t.Prefix!==void 0)return{Prefix:t.Prefix};if(t.Tag!==void 0)return{Tag:ui.filterSensitiveLog(t.Tag)};if(t.And!==void 0)return{And:lc.filterSensitiveLog(t.And)};if(t.$unknown!==void 0)return r={},r[t.$unknown[0]]="UNKNOWN",r}})(fc||(fc={}));var wg;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(wg||(wg={}));var Sg;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Sg||(Sg={}));var _g;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(_g||(_g={}));var bg;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(bg||(bg={}));var no;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.Filter&&{Filter:fc.filterSensitiveLog(t.Filter)})}})(no||(no={}));var Cg;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.AnalyticsConfiguration&&{AnalyticsConfiguration:no.filterSensitiveLog(t.AnalyticsConfiguration)})}})(Cg||(Cg={}));var Eg;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Eg||(Eg={}));var xg;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(xg||(xg={}));var Ag;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Ag||(Ag={}));var Ig;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Ig||(Ig={}));var dc;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.KMSMasterKeyID&&{KMSMasterKeyID:Re})}})(dc||(dc={}));var hc;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.ApplyServerSideEncryptionByDefault&&{ApplyServerSideEncryptionByDefault:dc.filterSensitiveLog(t.ApplyServerSideEncryptionByDefault)})}})(hc||(hc={}));var cs;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.Rules&&{Rules:t.Rules.map(function(r){return hc.filterSensitiveLog(r)})})}})(cs||(cs={}));var Tg;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:cs.filterSensitiveLog(t.ServerSideEncryptionConfiguration)})}})(Tg||(Tg={}));var Pg;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Pg||(Pg={}));var kg;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(kg||(kg={}));var Rg;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Rg||(Rg={}));var Og;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Og||(Og={}));var Ug;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Ug||(Ug={}));var Lg;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Lg||(Lg={}));var Mg;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Mg||(Mg={}));var gc;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.KeyId&&{KeyId:Re})}})(gc||(gc={}));var Ng;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Ng||(Ng={}));var pc;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.SSEKMS&&{SSEKMS:gc.filterSensitiveLog(t.SSEKMS)})}})(pc||(pc={}));var vc;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.Encryption&&{Encryption:pc.filterSensitiveLog(t.Encryption)})}})(vc||(vc={}));var mc;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.S3BucketDestination&&{S3BucketDestination:vc.filterSensitiveLog(t.S3BucketDestination)})}})(mc||(mc={}));var Dg;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Dg||(Dg={}));var Bg;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Bg||(Bg={}));var io;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.Destination&&{Destination:mc.filterSensitiveLog(t.Destination)})}})(io||(io={}));var Fg;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.InventoryConfiguration&&{InventoryConfiguration:io.filterSensitiveLog(t.InventoryConfiguration)})}})(Fg||(Fg={}));var zg;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(zg||(zg={}));var Kg;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Kg||(Kg={}));var yc;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(yc||(yc={}));var wc;(function(e){e.visit=function(t,r){return t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])},e.filterSensitiveLog=function(t){var r;if(t.Prefix!==void 0)return{Prefix:t.Prefix};if(t.Tag!==void 0)return{Tag:ui.filterSensitiveLog(t.Tag)};if(t.And!==void 0)return{And:yc.filterSensitiveLog(t.And)};if(t.$unknown!==void 0)return r={},r[t.$unknown[0]]="UNKNOWN",r}})(wc||(wc={}));var qg;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(qg||(qg={}));var jg;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(jg||(jg={}));var $g;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})($g||($g={}));var ls;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.Filter&&{Filter:wc.filterSensitiveLog(t.Filter)})}})(ls||(ls={}));var Hg;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.Rules&&{Rules:t.Rules.map(function(r){return ls.filterSensitiveLog(r)})})}})(Hg||(Hg={}));var Vg;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Vg||(Vg={}));var Gg;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Gg||(Gg={}));var Wg;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Wg||(Wg={}));var Yg;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Yg||(Yg={}));var Xg;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Xg||(Xg={}));var Jg;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Jg||(Jg={}));var Zg;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Zg||(Zg={}));var Sc;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Sc||(Sc={}));var _c;(function(e){e.visit=function(t,r){return t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])},e.filterSensitiveLog=function(t){var r;if(t.Prefix!==void 0)return{Prefix:t.Prefix};if(t.Tag!==void 0)return{Tag:ui.filterSensitiveLog(t.Tag)};if(t.And!==void 0)return{And:Sc.filterSensitiveLog(t.And)};if(t.$unknown!==void 0)return r={},r[t.$unknown[0]]="UNKNOWN",r}})(_c||(_c={}));var oo;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.Filter&&{Filter:_c.filterSensitiveLog(t.Filter)})}})(oo||(oo={}));var Qg;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.MetricsConfiguration&&{MetricsConfiguration:oo.filterSensitiveLog(t.MetricsConfiguration)})}})(Qg||(Qg={}));var ep;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(ep||(ep={}));var tp;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(tp||(tp={}));var rp;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(rp||(rp={}));var np;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(np||(np={}));var ip;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(ip||(ip={}));var op;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(op||(op={}));var sp;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(sp||(sp={}));var ap;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(ap||(ap={}));var up;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(up||(up={}));var cp;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(cp||(cp={}));var lp;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(lp||(lp={}));var fp;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(fp||(fp={}));var dp;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(dp||(dp={}));var hp;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(hp||(hp={}));var gp;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(gp||(gp={}));var pp;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(pp||(pp={}));var vp;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(vp||(vp={}));var mp;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(mp||(mp={}));var yp;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(yp||(yp={}));var wp;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(wp||(wp={}));var Sp;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Sp||(Sp={}));var _p;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(_p||(_p={}));var bp;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(bp||(bp={}));var Cp;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Cp||(Cp={}));var Ep;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Ep||(Ep={}));var bc;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(bc||(bc={}));var Cc;(function(e){e.visit=function(t,r){return t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])},e.filterSensitiveLog=function(t){var r;if(t.Prefix!==void 0)return{Prefix:t.Prefix};if(t.Tag!==void 0)return{Tag:ui.filterSensitiveLog(t.Tag)};if(t.And!==void 0)return{And:bc.filterSensitiveLog(t.And)};if(t.$unknown!==void 0)return r={},r[t.$unknown[0]]="UNKNOWN",r}})(Cc||(Cc={}));var xp;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(xp||(xp={}));var Ap;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Ap||(Ap={}));var Ip;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Ip||(Ip={}));var Ec;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.Filter&&{Filter:Cc.filterSensitiveLog(t.Filter)})}})(Ec||(Ec={}));var fs;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.Rules&&{Rules:t.Rules.map(function(r){return Ec.filterSensitiveLog(r)})})}})(fs||(fs={}));var Tp;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.ReplicationConfiguration&&{ReplicationConfiguration:fs.filterSensitiveLog(t.ReplicationConfiguration)})}})(Tp||(Tp={}));var Pp;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Pp||(Pp={}));var kp;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(kp||(kp={}));var Rp;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Rp||(Rp={}));var Op;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Op||(Op={}));var Up;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Up||(Up={}));var Lp;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Lp||(Lp={}));var Mp;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Mp||(Mp={}));var Np;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Np||(Np={}));var Dp;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Dp||(Dp={}));var Bp;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Bp||(Bp={}));var Fp;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Fp||(Fp={}));var zp;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(zp||(zp={}));var Kp;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Kp||(Kp={}));var qp;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(qp||(qp={}));var jp;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(jp||(jp={}));var xc;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.SSEKMSKeyId&&{SSEKMSKeyId:Re})}})(xc||(xc={}));var Ac;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.SSECustomerKey&&{SSECustomerKey:Re})}})(Ac||(Ac={}));var $p;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})($p||($p={}));var Hp;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Hp||(Hp={}));var Vp;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Vp||(Vp={}));var Gp;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Gp||(Gp={}));var Wp;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Wp||(Wp={}));var Yp;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Yp||(Yp={}));var Xp;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Xp||(Xp={}));var Jp;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Jp||(Jp={}));var Zp;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Zp||(Zp={}));var Qp;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Qp||(Qp={}));var ev;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(ev||(ev={}));var tv;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(tv||(tv={}));var rv;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(rv||(rv={}));var nv;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(nv||(nv={}));var iv;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(iv||(iv={}));var ov;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(ov||(ov={}));var sv;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(sv||(sv={}));var av;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(av||(av={}));var uv;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(uv||(uv={}));var cv;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(cv||(cv={}));var lv;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(lv||(lv={}));var fv;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(fv||(fv={}));var dv;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(dv||(dv={}));var hv;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(hv||(hv={}));var gv;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.SSEKMSKeyId&&{SSEKMSKeyId:Re})}})(gv||(gv={}));var pv;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.SSECustomerKey&&{SSECustomerKey:Re})}})(pv||(pv={}));var vv;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.AnalyticsConfigurationList&&{AnalyticsConfigurationList:t.AnalyticsConfigurationList.map(function(r){return no.filterSensitiveLog(r)})})}})(vv||(vv={}));var mv;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(mv||(mv={}));var yv;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(yv||(yv={}));var wv;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(wv||(wv={}));var Sv;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.InventoryConfigurationList&&{InventoryConfigurationList:t.InventoryConfigurationList.map(function(r){return io.filterSensitiveLog(r)})})}})(Sv||(Sv={}));var _v;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(_v||(_v={}));var bv;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.MetricsConfigurationList&&{MetricsConfigurationList:t.MetricsConfigurationList.map(function(r){return oo.filterSensitiveLog(r)})})}})(bv||(bv={}));var Cv;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Cv||(Cv={}));var Ev;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Ev||(Ev={}));var xv;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(xv||(xv={}));var Av;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Av||(Av={}));var Iv;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Iv||(Iv={}));var Tv;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Tv||(Tv={}));var Pv;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Pv||(Pv={}));var kv;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(kv||(kv={}));var Rv;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Rv||(Rv={}));var Ov;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Ov||(Ov={}));var Uv;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Uv||(Uv={}));var Ic;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Ic||(Ic={}));var Tc;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Tc||(Tc={}));var Lv;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Lv||(Lv={}));var Mv;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Mv||(Mv={}));var Nv;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Nv||(Nv={}));var Dv;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Dv||(Dv={}));var Bv;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Bv||(Bv={}));var Pc;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Pc||(Pc={}));var kc;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(kc||(kc={}));var Fv;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Fv||(Fv={}));var zv;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(zv||(zv={}));var Kv;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.AnalyticsConfiguration&&{AnalyticsConfiguration:no.filterSensitiveLog(t.AnalyticsConfiguration)})}})(Kv||(Kv={}));var qv;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(qv||(qv={}));var jv;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(jv||(jv={}));var $v;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:cs.filterSensitiveLog(t.ServerSideEncryptionConfiguration)})}})($v||($v={}));var Hv;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Hv||(Hv={}));var Vv;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.InventoryConfiguration&&{InventoryConfiguration:io.filterSensitiveLog(t.InventoryConfiguration)})}})(Vv||(Vv={}));var Rc;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.Rules&&{Rules:t.Rules.map(function(r){return ls.filterSensitiveLog(r)})})}})(Rc||(Rc={}));var Gv;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.LifecycleConfiguration&&{LifecycleConfiguration:Rc.filterSensitiveLog(t.LifecycleConfiguration)})}})(Gv||(Gv={}));var Wv;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Wv||(Wv={}));var Yv;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Yv||(Yv={}));var Xv;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.MetricsConfiguration&&{MetricsConfiguration:oo.filterSensitiveLog(t.MetricsConfiguration)})}})(Xv||(Xv={}));var Jv;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Jv||(Jv={}));var Zv;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Zv||(Zv={}));var Qv;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Qv||(Qv={}));var em;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.ReplicationConfiguration&&{ReplicationConfiguration:fs.filterSensitiveLog(t.ReplicationConfiguration)})}})(em||(em={}));var tm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(tm||(tm={}));var rm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(rm||(rm={}));var nm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(nm||(nm={}));var im;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(im||(im={}));var om;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(om||(om={}));var sm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(sm||(sm={}));var am;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(am||(am={}));var um;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(um||(um={}));var Oc;(function(e){e.filterSensitiveLog=function(t){return p(p(p({},t),t.SSEKMSKeyId&&{SSEKMSKeyId:Re}),t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Re})}})(Oc||(Oc={}));var Uc;(function(e){e.filterSensitiveLog=function(t){return p(p(p(p({},t),t.SSECustomerKey&&{SSECustomerKey:Re}),t.SSEKMSKeyId&&{SSEKMSKeyId:Re}),t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Re})}})(Uc||(Uc={}));var cm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(cm||(cm={}));var lm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(lm||(lm={}));var fm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(fm||(fm={}));var dm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(dm||(dm={}));var hm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(hm||(hm={}));var gm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(gm||(gm={}));var pm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(pm||(pm={}));var vm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(vm||(vm={}));var mm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(mm||(mm={}));var ym;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(ym||(ym={}));var wm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(wm||(wm={}));var Sm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Sm||(Sm={}));var _m;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(_m||(_m={}));var bm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(bm||(bm={}));var Lc;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.KMSKeyId&&{KMSKeyId:Re})}})(Lc||(Lc={}));function Bk(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}var $o=function(){function e(t,r){r===void 0&&(r=[]),this.name=t,this.children=r,this.attributes={}}return e.prototype.withName=function(t){return this.name=t,this},e.prototype.addAttribute=function(t,r){return this.attributes[t]=r,this},e.prototype.addChildNode=function(t){return this.children.push(t),this},e.prototype.removeAttribute=function(t){return delete this.attributes[t],this},e.prototype.toString=function(){var t,r,n=Boolean(this.children.length),i="<"+this.name,o=this.attributes;try{for(var s=T.exports.__values(Object.keys(o)),a=s.next();!a.done;a=s.next()){var c=a.value,u=o[c];typeof u<"u"&&u!==null&&(i+=" "+c+'="'+Bk(""+u)+'"')}}catch(l){t={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return i+=n?">"+this.children.map(function(l){return l.toString()}).join("")+"</"+this.name+">":"/>"},e}();function Fk(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Cm=function(){function e(t){this.value=t}return e.prototype.toString=function(){return Fk(""+this.value)},e}(),PS={},kS={},hr={};(function(e){const t=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",r=t+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",n="["+t+"]["+r+"]*",i=new RegExp("^"+n+"$"),o=function(a,c){const u=[];let l=c.exec(a);for(;l;){const f=[];f.startIndex=c.lastIndex-l[0].length;const d=l.length;for(let h=0;h<d;h++)f.push(l[h]);u.push(f),l=c.exec(a)}return u},s=function(a){const c=i.exec(a);return!(c===null||typeof c>"u")};e.isExist=function(a){return typeof a<"u"},e.isEmptyObject=function(a){return Object.keys(a).length===0},e.merge=function(a,c,u){if(c){const l=Object.keys(c),f=l.length;for(let d=0;d<f;d++)u==="strict"?a[l[d]]=[c[l[d]]]:a[l[d]]=c[l[d]]}},e.getValue=function(a){return e.isExist(a)?a:""},e.buildOptions=function(a,c,u){let l={};if(!a)return c;for(let f=0;f<u.length;f++)a[u[f]]!==void 0?l[u[f]]=a[u[f]]:l[u[f]]=c[u[f]];return l},e.isTagNameInArrayMode=function(a,c,u){return c===!1?!1:c instanceof RegExp?c.test(a):typeof c=="function"?!!c(a,u):c==="strict"},e.isName=s,e.getAllMatches=o,e.nameRegexp=n})(hr);const dn=hr,Mc=function(e,t,r){const n={};if(!t.alwaysCreateTextNode&&(!e.child||dn.isEmptyObject(e.child))&&(!e.attrsMap||dn.isEmptyObject(e.attrsMap)))return dn.isExist(e.val)?e.val:"";if(dn.isExist(e.val)&&!(typeof e.val=="string"&&(e.val===""||e.val===t.cdataPositionChar))){const o=dn.isTagNameInArrayMode(e.tagname,t.arrayMode,r);n[t.textNodeName]=o?[e.val]:e.val}dn.merge(n,e.attrsMap,t.arrayMode);const i=Object.keys(e.child);for(let o=0;o<i.length;o++){const s=i[o];if(e.child[s]&&e.child[s].length>1){n[s]=[];for(let a in e.child[s])e.child[s].hasOwnProperty(a)&&n[s].push(Mc(e.child[s][a],t,s))}else{const a=Mc(e.child[s][0],t,s),c=t.arrayMode===!0&&typeof a=="object"||dn.isTagNameInArrayMode(s,t.arrayMode,r);n[s]=c?[a]:a}}return n};kS.convertToJson=Mc;var Rn={},zk=function(e,t,r){this.tagname=e,this.parent=t,this.child={},this.attrsMap={},this.val=r,this.addChild=function(n){Array.isArray(this.child[n.tagname])?this.child[n.tagname].push(n):this.child[n.tagname]=[n]}};const Kk=/^[-+]?0x[a-fA-F0-9]+$/,qk=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const jk={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function $k(e,t={}){if(t=Object.assign({},jk,t),!e||typeof e!="string")return e;let r=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(r))return e;if(t.hex&&Kk.test(r))return Number.parseInt(r,16);{const n=qk.exec(r);if(n){const i=n[1],o=n[2];let s=Hk(n[3]);const a=n[4]||n[6];if(!t.leadingZeros&&o.length>0&&i&&r[2]!==".")return e;if(!t.leadingZeros&&o.length>0&&!i&&r[1]!==".")return e;{const c=Number(r),u=""+c;return u.search(/[eE]/)!==-1||a?t.eNotation?c:e:r.indexOf(".")!==-1?u==="0"&&s===""||u===s||i&&u==="-"+s?c:e:o?s===u||i+s===u?c:e:r===u||r===i+u?c:e}}else return e}}function Hk(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substr(0,e.length-1))),e}var Vk=$k;const xn=hr,Gk=hr.buildOptions,Lo=zk,Wk=Vk;"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,xn.nameRegexp);!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const RS={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,ignoreNameSpace:!1,allowBooleanAttributes:!1,parseNodeValue:!0,parseAttributeValue:!1,arrayMode:!1,trimValues:!0,cdataTagName:!1,cdataPositionChar:"\\c",numParseOptions:{hex:!0,leadingZeros:!0},tagValueProcessor:function(e,t){return e},attrValueProcessor:function(e,t){return e},stopNodes:[],alwaysCreateTextNode:!1};Rn.defaultOptions=RS;const OS=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","ignoreNameSpace","allowBooleanAttributes","parseNodeValue","parseAttributeValue","arrayMode","trimValues","cdataTagName","cdataPositionChar","tagValueProcessor","attrValueProcessor","parseTrueNumberOnly","numParseOptions","stopNodes","alwaysCreateTextNode"];Rn.props=OS;function Mo(e,t,r){return t&&(r.trimValues&&(t=t.trim()),t=r.tagValueProcessor(t,e),t=US(t,r.parseNodeValue,r.numParseOptions)),t}function Yk(e,t){if(t.ignoreNameSpace){const r=e.split(":"),n=e.charAt(0)==="/"?"/":"";if(r[0]==="xmlns")return"";r.length===2&&(e=n+r[1])}return e}function US(e,t,r){if(t&&typeof e=="string"){const n=e.trim();return n==="true"?!0:n==="false"?!1:Wk(e,r)}else return xn.isExist(e)?e:""}const Xk=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])(.*?)\\3)?`,"g");function Em(e,t){if(!t.ignoreAttributes&&typeof e=="string"){e=e.replace(/\r?\n/g," ");const r=xn.getAllMatches(e,Xk),n=r.length,i={};for(let o=0;o<n;o++){const s=Yk(r[o][1],t);s.length&&(r[o][4]!==void 0?(t.trimValues&&(r[o][4]=r[o][4].trim()),r[o][4]=t.attrValueProcessor(r[o][4],s),i[t.attributeNamePrefix+s]=US(r[o][4],t.parseAttributeValue,t.numParseOptions)):t.allowBooleanAttributes&&(i[t.attributeNamePrefix+s]=!0))}if(!Object.keys(i).length)return;if(t.attrNodeName){const o={};return o[t.attrNodeName]=i,o}return i}}const Jk=function(e,t){e=e.replace(/\r\n?/g,`
`),t=Gk(t,RS,OS);const r=new Lo("!xml");let n=r,i="";for(let o=0;o<e.length;o++)if(e[o]==="<")if(e[o+1]==="/"){const a=Ii(e,">",o,"Closing Tag is not closed.");let c=e.substring(o+2,a).trim();if(t.ignoreNameSpace){const u=c.indexOf(":");u!==-1&&(c=c.substr(u+1))}n&&(n.val?n.val=xn.getValue(n.val)+""+Mo(c,i,t):n.val=Mo(c,i,t)),t.stopNodes.length&&t.stopNodes.includes(n.tagname)&&(n.child=[],n.attrsMap==null&&(n.attrsMap={}),n.val=e.substr(n.startIndex+1,o-n.startIndex-1)),n=n.parent,i="",o=a}else if(e[o+1]==="?")o=Ii(e,"?>",o,"Pi Tag is not closed.");else if(e.substr(o+1,3)==="!--")o=Ii(e,"-->",o,"Comment is not closed.");else if(e.substr(o+1,2)==="!D"){const a=Ii(e,">",o,"DOCTYPE is not closed.");e.substring(o,a).indexOf("[")>=0?o=e.indexOf("]>",o)+1:o=a}else if(e.substr(o+1,2)==="!["){const a=Ii(e,"]]>",o,"CDATA is not closed.")-2,c=e.substring(o+9,a);if(i&&(n.val=xn.getValue(n.val)+""+Mo(n.tagname,i,t),i=""),t.cdataTagName){const u=new Lo(t.cdataTagName,n,c);n.addChild(u),n.val=xn.getValue(n.val)+t.cdataPositionChar,c&&(u.val=c)}else n.val=(n.val||"")+(c||"");o=a+2}else{const a=Zk(e,o+1);let c=a.data;const u=a.index,l=c.indexOf(" ");let f=c,d=!0;if(l!==-1&&(f=c.substr(0,l).replace(/\s\s*$/,""),c=c.substr(l+1)),t.ignoreNameSpace){const h=f.indexOf(":");h!==-1&&(f=f.substr(h+1),d=f!==a.data.substr(h+1))}if(n&&i&&n.tagname!=="!xml"&&(n.val=xn.getValue(n.val)+""+Mo(n.tagname,i,t)),c.length>0&&c.lastIndexOf("/")===c.length-1){f[f.length-1]==="/"?(f=f.substr(0,f.length-1),c=f):c=c.substr(0,c.length-1);const h=new Lo(f,n,"");f!==c&&(h.attrsMap=Em(c,t)),n.addChild(h)}else{const h=new Lo(f,n);t.stopNodes.length&&t.stopNodes.includes(h.tagname)&&(h.startIndex=u),f!==c&&d&&(h.attrsMap=Em(c,t)),n.addChild(h),n=h}i="",o=u}else i+=e[o];return r};function Zk(e,t){let r,n="";for(let i=t;i<e.length;i++){let o=e[i];if(r)o===r&&(r="");else if(o==='"'||o==="'")r=o;else{if(o===">")return{data:n,index:i};o==="	"&&(o=" ")}n+=o}}function Ii(e,t,r,n){const i=e.indexOf(t,r);if(i===-1)throw new Error(n);return i+t.length-1}Rn.getTraversalObj=Jk;var LS={};const Vs=hr,Qk={allowBooleanAttributes:!1},eR=["allowBooleanAttributes"];LS.validate=function(e,t){t=Vs.buildOptions(t,Qk,eR);const r=[];let n=!1,i=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let o=0;o<e.length;o++)if(e[o]==="<"&&e[o+1]==="?"){if(o+=2,o=xm(e,o),o.err)return o}else if(e[o]==="<"){let s=o;if(o++,e[o]==="!"){o=Am(e,o);continue}else{let a=!1;e[o]==="/"&&(a=!0,o++);let c="";for(;o<e.length&&e[o]!==">"&&e[o]!==" "&&e[o]!=="	"&&e[o]!==`
`&&e[o]!=="\r";o++)c+=e[o];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),o--),!uR(c)){let f;return c.trim().length===0?f="Invalid space after '<'.":f="Tag '"+c+"' is an invalid name.",Qe("InvalidTag",f,kt(e,o))}const u=nR(e,o);if(u===!1)return Qe("InvalidAttr","Attributes for '"+c+"' have open quote.",kt(e,o));let l=u.value;if(o=u.index,l[l.length-1]==="/"){const f=o-l.length;l=l.substring(0,l.length-1);const d=Im(l,t);if(d===!0)n=!0;else return Qe(d.err.code,d.err.msg,kt(e,f+d.err.line))}else if(a)if(u.tagClosed){if(l.trim().length>0)return Qe("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",kt(e,s));{const f=r.pop();if(c!==f.tagName){let d=kt(e,f.tagStartPos);return Qe("InvalidTag","Expected closing tag '"+f.tagName+"' (opened in line "+d.line+", col "+d.col+") instead of closing tag '"+c+"'.",kt(e,s))}r.length==0&&(i=!0)}}else return Qe("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",kt(e,o));else{const f=Im(l,t);if(f!==!0)return Qe(f.err.code,f.err.msg,kt(e,o-l.length+f.err.line));if(i===!0)return Qe("InvalidXml","Multiple possible root nodes found.",kt(e,o));r.push({tagName:c,tagStartPos:s}),n=!0}for(o++;o<e.length;o++)if(e[o]==="<")if(e[o+1]==="!"){o++,o=Am(e,o);continue}else if(e[o+1]==="?"){if(o=xm(e,++o),o.err)return o}else break;else if(e[o]==="&"){const f=sR(e,o);if(f==-1)return Qe("InvalidChar","char '&' is not expected.",kt(e,o));o=f}e[o]==="<"&&o--}}else{if(e[o]===" "||e[o]==="	"||e[o]===`
`||e[o]==="\r")continue;return Qe("InvalidChar","char '"+e[o]+"' is not expected.",kt(e,o))}if(n){if(r.length==1)return Qe("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",kt(e,r[0].tagStartPos));if(r.length>0)return Qe("InvalidXml","Invalid '"+JSON.stringify(r.map(o=>o.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return Qe("InvalidXml","Start tag expected.",1);return!0};function xm(e,t){const r=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){const n=e.substr(r,t-r);if(t>5&&n==="xml")return Qe("InvalidXml","XML declaration allowed only at the start of the document.",kt(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function Am(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let r=1;for(t+=8;t<e.length;t++)if(e[t]==="<")r++;else if(e[t]===">"&&(r--,r===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}const tR='"',rR="'";function nR(e,t){let r="",n="",i=!1;for(;t<e.length;t++){if(e[t]===tR||e[t]===rR)n===""?n=e[t]:n!==e[t]||(n="");else if(e[t]===">"&&n===""){i=!0;break}r+=e[t]}return n!==""?!1:{value:r,index:t,tagClosed:i}}const iR=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function Im(e,t){const r=Vs.getAllMatches(e,iR),n={};for(let i=0;i<r.length;i++){if(r[i][1].length===0)return Qe("InvalidAttr","Attribute '"+r[i][2]+"' has no space in starting.",No(r[i]));if(r[i][3]===void 0&&!t.allowBooleanAttributes)return Qe("InvalidAttr","boolean attribute '"+r[i][2]+"' is not allowed.",No(r[i]));const o=r[i][2];if(!aR(o))return Qe("InvalidAttr","Attribute '"+o+"' is an invalid name.",No(r[i]));if(!n.hasOwnProperty(o))n[o]=1;else return Qe("InvalidAttr","Attribute '"+o+"' is repeated.",No(r[i]))}return!0}function oR(e,t){let r=/\d/;for(e[t]==="x"&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(r))break}return-1}function sR(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,oR(e,t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(e[t]===";")break;return-1}return t}function Qe(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function aR(e){return Vs.isName(e)}function uR(e){return Vs.isName(e)}function kt(e,t){const r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function No(e){return e.startIndex+e[1].length}var Ra={},Tm;function cR(){if(Tm)return Ra;Tm=1;const e=function(f){return String.fromCharCode(f)},t={nilChar:e(176),missingChar:e(201),nilPremitive:e(175),missingPremitive:e(200),emptyChar:e(178),emptyValue:e(177),boundryChar:e(179),objStart:e(198),arrStart:e(204),arrayEnd:e(185)},r=[t.nilChar,t.nilPremitive,t.missingChar,t.missingPremitive,t.boundryChar,t.emptyChar,t.emptyValue,t.arrayEnd,t.objStart,t.arrStart],n=function(f,d,h){if(typeof d=="string")return f&&f[0]&&f[0].val!==void 0?i(f[0].val):i(f);{const m=a(f);if(m===!0){let y="";if(Array.isArray(d)){y+=t.arrStart;const _=d[0],C=f.length;if(typeof _=="string")for(let w=0;w<C;w++){const A=i(f[w].val);y=o(y,A)}else for(let w=0;w<C;w++){const A=n(f[w],_,h);y=o(y,A)}y+=t.arrayEnd}else{y+=t.objStart;const _=Object.keys(d);Array.isArray(f)&&(f=f[0]);for(let C in _){const w=_[C];let A;!h.ignoreAttributes&&f.attrsMap&&f.attrsMap[w]?A=n(f.attrsMap[w],d[w],h):w===h.textNodeName?A=n(f.val,d[w],h):A=n(f.child[w],d[w],h),y=o(y,A)}}return y}else return m}},i=function(f){switch(f){case void 0:return t.missingPremitive;case null:return t.nilPremitive;case"":return t.emptyValue;default:return f}},o=function(f,d){return!s(d[0])&&!s(f[f.length-1])&&(f+=t.boundryChar),f+d},s=function(f){return r.indexOf(f)!==-1};function a(f){return f===void 0?t.missingChar:f===null?t.nilChar:f.child&&Object.keys(f.child).length===0&&(!f.attrsMap||Object.keys(f.attrsMap).length===0)?t.emptyChar:!0}const c=Rn,u=hr.buildOptions,l=function(f,d,h){return h=u(h,c.defaultOptions,c.props),n(f,d,h)};return Ra.convert2nimn=l,Ra}var Oa={},Pm;function lR(){if(Pm)return Oa;Pm=1;const e=hr,t=hr.buildOptions,r=Rn,n=function(s,a){return a=t(a,r.defaultOptions,r.props),a.indentBy=a.indentBy||"",i(s,a)},i=function(s,a,c){let u="{";const l=Object.keys(s.child);for(let f=0;f<l.length;f++){const d=l[f];if(s.child[d]&&s.child[d].length>1){u+='"'+d+'" : [ ';for(let h in s.child[d])u+=i(s.child[d][h],a)+" , ";u=u.substr(0,u.length-1)+" ] "}else u+='"'+d+'" : '+i(s.child[d][0],a)+" ,"}return e.merge(u,s.attrsMap),e.isEmptyObject(u)?e.isExist(s.val)?s.val:"":(e.isExist(s.val)&&(typeof s.val=="string"&&(s.val===""||s.val===a.cdataPositionChar)||(u+='"'+a.textNodeName+'" : '+o(s.val))),u[u.length-1]===","&&(u=u.substr(0,u.length-2)),u+"}")};function o(s){return s===!0||s===!1||!isNaN(s)?s:'"'+s+'"'}return Oa.convertToJsonString=n,Oa}var Ua,km;function fR(){if(km)return Ua;km=1;const e=hr.buildOptions,t={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataTagName:!1,cdataPositionChar:"\\c",format:!1,indentBy:"  ",supressEmptyNode:!1,tagValueProcessor:function(m){return m},attrValueProcessor:function(m){return m}},r=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","cdataTagName","cdataPositionChar","format","indentBy","supressEmptyNode","tagValueProcessor","attrValueProcessor","rootNodeName"];function n(m){this.options=e(m,t,r),this.options.ignoreAttributes||this.options.attrNodeName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=d),this.options.cdataTagName?this.isCDATA=h:this.isCDATA=function(){return!1},this.replaceCDATAstr=o,this.replaceCDATAarr=s,this.processTextOrObjNode=i,this.options.format?(this.indentate=f,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine=""),this.options.supressEmptyNode?(this.buildTextNode=l,this.buildObjNode=c):(this.buildTextNode=u,this.buildObjNode=a),this.buildTextValNode=u,this.buildObjectNode=a}n.prototype.parse=function(m){return Array.isArray(m)&&this.options.rootNodeName&&this.options.rootNodeName.length>1&&(m={[this.options.rootNodeName]:m}),this.j2x(m,0).val},n.prototype.j2x=function(m,y){let _="",C="";for(let w in m)if(!(typeof m[w]>"u"))if(m[w]===null)C+=this.indentate(y)+"<"+w+"/"+this.tagEndChar;else if(m[w]instanceof Date)C+=this.buildTextNode(m[w],w,"",y);else if(typeof m[w]!="object"){const A=this.isAttribute(w);A?_+=" "+A+'="'+this.options.attrValueProcessor(""+m[w])+'"':this.isCDATA(w)?m[this.options.textNodeName]?C+=this.replaceCDATAstr(m[this.options.textNodeName],m[w]):C+=this.replaceCDATAstr("",m[w]):w===this.options.textNodeName?m[this.options.cdataTagName]||(C+=this.options.tagValueProcessor(""+m[w])):C+=this.buildTextNode(m[w],w,"",y)}else if(Array.isArray(m[w]))if(this.isCDATA(w))C+=this.indentate(y),m[this.options.textNodeName]?C+=this.replaceCDATAarr(m[this.options.textNodeName],m[w]):C+=this.replaceCDATAarr("",m[w]);else{const A=m[w].length;for(let I=0;I<A;I++){const O=m[w][I];typeof O>"u"||(O===null?C+=this.indentate(y)+"<"+w+"/"+this.tagEndChar:typeof O=="object"?C+=this.processTextOrObjNode(O,w,y):C+=this.buildTextNode(O,w,"",y))}}else if(this.options.attrNodeName&&w===this.options.attrNodeName){const A=Object.keys(m[w]),I=A.length;for(let O=0;O<I;O++)_+=" "+A[O]+'="'+this.options.attrValueProcessor(""+m[w][A[O]])+'"'}else C+=this.processTextOrObjNode(m[w],w,y);return{attrStr:_,val:C}};function i(m,y,_){const C=this.j2x(m,_+1);return m[this.options.textNodeName]!==void 0&&Object.keys(m).length===1?this.buildTextNode(C.val,y,C.attrStr,_):this.buildObjNode(C.val,y,C.attrStr,_)}function o(m,y){return m=this.options.tagValueProcessor(""+m),this.options.cdataPositionChar===""||m===""?m+"<![CDATA["+y+"]]"+this.tagEndChar:m.replace(this.options.cdataPositionChar,"<![CDATA["+y+"]]"+this.tagEndChar)}function s(m,y){if(m=this.options.tagValueProcessor(""+m),this.options.cdataPositionChar===""||m==="")return m+"<![CDATA["+y.join("]]><![CDATA[")+"]]"+this.tagEndChar;for(let _ in y)m=m.replace(this.options.cdataPositionChar,"<![CDATA["+y[_]+"]]>");return m+this.newLine}function a(m,y,_,C){return _&&m.indexOf("<")===-1?this.indentate(C)+"<"+y+_+">"+m+"</"+y+this.tagEndChar:this.indentate(C)+"<"+y+_+this.tagEndChar+m+this.indentate(C)+"</"+y+this.tagEndChar}function c(m,y,_,C){return m!==""?this.buildObjectNode(m,y,_,C):this.indentate(C)+"<"+y+_+"/"+this.tagEndChar}function u(m,y,_,C){return this.indentate(C)+"<"+y+_+">"+this.options.tagValueProcessor(m)+"</"+y+this.tagEndChar}function l(m,y,_,C){return m!==""?this.buildTextValNode(m,y,_,C):this.indentate(C)+"<"+y+_+"/"+this.tagEndChar}function f(m){return this.options.indentBy.repeat(m)}function d(m){return m.startsWith(this.options.attributeNamePrefix)?m.substr(this.attrPrefixLen):!1}function h(m){return m===this.options.cdataTagName}return Ua=n,Ua}(function(e){const t=kS,r=Rn,n=Rn,i=hr.buildOptions,o=LS;e.parse=function(s,a={},c){if(c){c===!0&&(c={});const f=o.validate(s,c);if(f!==!0)throw Error(f.err.msg)}a.parseTrueNumberOnly&&a.parseNodeValue!==!1&&!a.numParseOptions&&(a.numParseOptions={leadingZeros:!1});let u=i(a,n.defaultOptions,n.props);const l=r.getTraversalObj(s,u);return t.convertToJson(l,u)},e.convertTonimn=cR().convert2nimn,e.getTraversalObj=r.getTraversalObj,e.convertToJson=t.convertToJson,e.convertToJsonString=lR().convertToJsonString,e.validate=o.validate,e.j2xParser=fR(),e.parseToNimn=function(s,a,c){return e.convertTonimn(e.getTraversalObj(s,c),a,c)}})(PS);var dR=function(e,t){return Ee(void 0,void 0,void 0,function(){var r,n,i,i,o,s,a,c,u,l,f;return xe(this,function(d){switch(d.label){case 0:if(r=p(p({},z(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),z(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),n="/{Bucket}/{Key+}",e.Bucket!==void 0){if(i=e.Bucket,i.length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");n=n.replace("{Bucket}",Ze(i))}else throw new Error("No value provided for input HTTP label: Bucket.");if(e.Key!==void 0){if(i=e.Key,i.length<=0)throw new Error("Empty value provided for input HTTP label: Key.");n=n.replace("{Key+}",i.split("/").map(function(h){return Ze(h)}).join("/"))}else throw new Error("No value provided for input HTTP label: Key.");return o=p({"x-id":"AbortMultipartUpload"},e.UploadId!==void 0&&{uploadId:e.UploadId}),[4,t.endpoint()];case 1:return a=d.sent(),c=a.hostname,u=a.protocol,l=u===void 0?"https":u,f=a.port,[2,new Xe({protocol:l,hostname:c,port:f,method:"DELETE",headers:r,path:n,query:o,body:s})]}})})},hR=function(e,t){return Ee(void 0,void 0,void 0,function(){var r,n,i,i,o,s,a,c,u,l,f,d;return xe(this,function(h){switch(h.label){case 0:if(r=p(p({"content-type":"application/xml"},z(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),z(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),n="/{Bucket}/{Key+}",e.Bucket!==void 0){if(i=e.Bucket,i.length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");n=n.replace("{Bucket}",Ze(i))}else throw new Error("No value provided for input HTTP label: Bucket.");if(e.Key!==void 0){if(i=e.Key,i.length<=0)throw new Error("Empty value provided for input HTTP label: Key.");n=n.replace("{Key+}",i.split("/").map(function(m){return Ze(m)}).join("/"))}else throw new Error("No value provided for input HTTP label: Key.");return o=p({},e.UploadId!==void 0&&{uploadId:e.UploadId}),e.MultipartUpload!==void 0&&(a=GR(e.MultipartUpload),s='<?xml version="1.0" encoding="UTF-8"?>',a.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),s+=a.toString()),[4,t.endpoint()];case 1:return c=h.sent(),u=c.hostname,l=c.protocol,f=l===void 0?"https":l,d=c.port,[2,new Xe({protocol:f,hostname:u,port:d,method:"POST",headers:r,path:n,query:o,body:s})]}})})},gR=function(e,t){return Ee(void 0,void 0,void 0,function(){var r,n,i,i,o,s,a,c,u,l,f;return xe(this,function(d){switch(d.label){case 0:if(r=p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p({},z(e.ACL)&&{"x-amz-acl":e.ACL}),z(e.CacheControl)&&{"cache-control":e.CacheControl}),z(e.ContentDisposition)&&{"content-disposition":e.ContentDisposition}),z(e.ContentEncoding)&&{"content-encoding":e.ContentEncoding}),z(e.ContentLanguage)&&{"content-language":e.ContentLanguage}),z(e.ContentType)&&{"content-type":e.ContentType}),z(e.CopySource)&&{"x-amz-copy-source":e.CopySource}),z(e.CopySourceIfMatch)&&{"x-amz-copy-source-if-match":e.CopySourceIfMatch}),z(e.CopySourceIfModifiedSince)&&{"x-amz-copy-source-if-modified-since":Tn(e.CopySourceIfModifiedSince).toString()}),z(e.CopySourceIfNoneMatch)&&{"x-amz-copy-source-if-none-match":e.CopySourceIfNoneMatch}),z(e.CopySourceIfUnmodifiedSince)&&{"x-amz-copy-source-if-unmodified-since":Tn(e.CopySourceIfUnmodifiedSince).toString()}),z(e.Expires)&&{expires:Tn(e.Expires).toString()}),z(e.GrantFullControl)&&{"x-amz-grant-full-control":e.GrantFullControl}),z(e.GrantRead)&&{"x-amz-grant-read":e.GrantRead}),z(e.GrantReadACP)&&{"x-amz-grant-read-acp":e.GrantReadACP}),z(e.GrantWriteACP)&&{"x-amz-grant-write-acp":e.GrantWriteACP}),z(e.MetadataDirective)&&{"x-amz-metadata-directive":e.MetadataDirective}),z(e.TaggingDirective)&&{"x-amz-tagging-directive":e.TaggingDirective}),z(e.ServerSideEncryption)&&{"x-amz-server-side-encryption":e.ServerSideEncryption}),z(e.StorageClass)&&{"x-amz-storage-class":e.StorageClass}),z(e.WebsiteRedirectLocation)&&{"x-amz-website-redirect-location":e.WebsiteRedirectLocation}),z(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),z(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),z(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),z(e.SSEKMSKeyId)&&{"x-amz-server-side-encryption-aws-kms-key-id":e.SSEKMSKeyId}),z(e.SSEKMSEncryptionContext)&&{"x-amz-server-side-encryption-context":e.SSEKMSEncryptionContext}),z(e.BucketKeyEnabled)&&{"x-amz-server-side-encryption-bucket-key-enabled":e.BucketKeyEnabled.toString()}),z(e.CopySourceSSECustomerAlgorithm)&&{"x-amz-copy-source-server-side-encryption-customer-algorithm":e.CopySourceSSECustomerAlgorithm}),z(e.CopySourceSSECustomerKey)&&{"x-amz-copy-source-server-side-encryption-customer-key":e.CopySourceSSECustomerKey}),z(e.CopySourceSSECustomerKeyMD5)&&{"x-amz-copy-source-server-side-encryption-customer-key-md5":e.CopySourceSSECustomerKeyMD5}),z(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),z(e.Tagging)&&{"x-amz-tagging":e.Tagging}),z(e.ObjectLockMode)&&{"x-amz-object-lock-mode":e.ObjectLockMode}),z(e.ObjectLockRetainUntilDate)&&{"x-amz-object-lock-retain-until-date":(e.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()}),z(e.ObjectLockLegalHoldStatus)&&{"x-amz-object-lock-legal-hold":e.ObjectLockLegalHoldStatus}),z(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),z(e.ExpectedSourceBucketOwner)&&{"x-amz-source-expected-bucket-owner":e.ExpectedSourceBucketOwner}),e.Metadata!==void 0&&Object.keys(e.Metadata).reduce(function(h,m){var y;return p(p({},h),(y={},y["x-amz-meta-"+m.toLowerCase()]=e.Metadata[m],y))},{})),n="/{Bucket}/{Key+}",e.Bucket!==void 0){if(i=e.Bucket,i.length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");n=n.replace("{Bucket}",Ze(i))}else throw new Error("No value provided for input HTTP label: Bucket.");if(e.Key!==void 0){if(i=e.Key,i.length<=0)throw new Error("Empty value provided for input HTTP label: Key.");n=n.replace("{Key+}",i.split("/").map(function(h){return Ze(h)}).join("/"))}else throw new Error("No value provided for input HTTP label: Key.");return o={"x-id":"CopyObject"},[4,t.endpoint()];case 1:return a=d.sent(),c=a.hostname,u=a.protocol,l=u===void 0?"https":u,f=a.port,[2,new Xe({protocol:l,hostname:c,port:f,method:"PUT",headers:r,path:n,query:o,body:s})]}})})},pR=function(e,t){return Ee(void 0,void 0,void 0,function(){var r,n,i,i,o,s,a,c,u,l,f;return xe(this,function(d){switch(d.label){case 0:if(r=p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p({},z(e.ACL)&&{"x-amz-acl":e.ACL}),z(e.CacheControl)&&{"cache-control":e.CacheControl}),z(e.ContentDisposition)&&{"content-disposition":e.ContentDisposition}),z(e.ContentEncoding)&&{"content-encoding":e.ContentEncoding}),z(e.ContentLanguage)&&{"content-language":e.ContentLanguage}),z(e.ContentType)&&{"content-type":e.ContentType}),z(e.Expires)&&{expires:Tn(e.Expires).toString()}),z(e.GrantFullControl)&&{"x-amz-grant-full-control":e.GrantFullControl}),z(e.GrantRead)&&{"x-amz-grant-read":e.GrantRead}),z(e.GrantReadACP)&&{"x-amz-grant-read-acp":e.GrantReadACP}),z(e.GrantWriteACP)&&{"x-amz-grant-write-acp":e.GrantWriteACP}),z(e.ServerSideEncryption)&&{"x-amz-server-side-encryption":e.ServerSideEncryption}),z(e.StorageClass)&&{"x-amz-storage-class":e.StorageClass}),z(e.WebsiteRedirectLocation)&&{"x-amz-website-redirect-location":e.WebsiteRedirectLocation}),z(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),z(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),z(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),z(e.SSEKMSKeyId)&&{"x-amz-server-side-encryption-aws-kms-key-id":e.SSEKMSKeyId}),z(e.SSEKMSEncryptionContext)&&{"x-amz-server-side-encryption-context":e.SSEKMSEncryptionContext}),z(e.BucketKeyEnabled)&&{"x-amz-server-side-encryption-bucket-key-enabled":e.BucketKeyEnabled.toString()}),z(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),z(e.Tagging)&&{"x-amz-tagging":e.Tagging}),z(e.ObjectLockMode)&&{"x-amz-object-lock-mode":e.ObjectLockMode}),z(e.ObjectLockRetainUntilDate)&&{"x-amz-object-lock-retain-until-date":(e.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()}),z(e.ObjectLockLegalHoldStatus)&&{"x-amz-object-lock-legal-hold":e.ObjectLockLegalHoldStatus}),z(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),e.Metadata!==void 0&&Object.keys(e.Metadata).reduce(function(h,m){var y;return p(p({},h),(y={},y["x-amz-meta-"+m.toLowerCase()]=e.Metadata[m],y))},{})),n="/{Bucket}/{Key+}",e.Bucket!==void 0){if(i=e.Bucket,i.length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");n=n.replace("{Bucket}",Ze(i))}else throw new Error("No value provided for input HTTP label: Bucket.");if(e.Key!==void 0){if(i=e.Key,i.length<=0)throw new Error("Empty value provided for input HTTP label: Key.");n=n.replace("{Key+}",i.split("/").map(function(h){return Ze(h)}).join("/"))}else throw new Error("No value provided for input HTTP label: Key.");return o={uploads:""},[4,t.endpoint()];case 1:return a=d.sent(),c=a.hostname,u=a.protocol,l=u===void 0?"https":u,f=a.port,[2,new Xe({protocol:l,hostname:c,port:f,method:"POST",headers:r,path:n,query:o,body:s})]}})})},vR=function(e,t){return Ee(void 0,void 0,void 0,function(){var r,n,i,i,o,s,a,c,u,l,f;return xe(this,function(d){switch(d.label){case 0:if(r=p(p(p(p({},z(e.MFA)&&{"x-amz-mfa":e.MFA}),z(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),z(e.BypassGovernanceRetention)&&{"x-amz-bypass-governance-retention":e.BypassGovernanceRetention.toString()}),z(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),n="/{Bucket}/{Key+}",e.Bucket!==void 0){if(i=e.Bucket,i.length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");n=n.replace("{Bucket}",Ze(i))}else throw new Error("No value provided for input HTTP label: Bucket.");if(e.Key!==void 0){if(i=e.Key,i.length<=0)throw new Error("Empty value provided for input HTTP label: Key.");n=n.replace("{Key+}",i.split("/").map(function(h){return Ze(h)}).join("/"))}else throw new Error("No value provided for input HTTP label: Key.");return o=p({"x-id":"DeleteObject"},e.VersionId!==void 0&&{versionId:e.VersionId}),[4,t.endpoint()];case 1:return a=d.sent(),c=a.hostname,u=a.protocol,l=u===void 0?"https":u,f=a.port,[2,new Xe({protocol:l,hostname:c,port:f,method:"DELETE",headers:r,path:n,query:o,body:s})]}})})},mR=function(e,t){return Ee(void 0,void 0,void 0,function(){var r,n,i,i,o,s,a,c,u,l,f;return xe(this,function(d){switch(d.label){case 0:if(r=p(p(p(p(p(p(p(p(p(p({},z(e.IfMatch)&&{"if-match":e.IfMatch}),z(e.IfModifiedSince)&&{"if-modified-since":Tn(e.IfModifiedSince).toString()}),z(e.IfNoneMatch)&&{"if-none-match":e.IfNoneMatch}),z(e.IfUnmodifiedSince)&&{"if-unmodified-since":Tn(e.IfUnmodifiedSince).toString()}),z(e.Range)&&{range:e.Range}),z(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),z(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),z(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),z(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),z(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),n="/{Bucket}/{Key+}",e.Bucket!==void 0){if(i=e.Bucket,i.length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");n=n.replace("{Bucket}",Ze(i))}else throw new Error("No value provided for input HTTP label: Bucket.");if(e.Key!==void 0){if(i=e.Key,i.length<=0)throw new Error("Empty value provided for input HTTP label: Key.");n=n.replace("{Key+}",i.split("/").map(function(h){return Ze(h)}).join("/"))}else throw new Error("No value provided for input HTTP label: Key.");return o=p(p(p(p(p(p(p(p({"x-id":"GetObject"},e.ResponseCacheControl!==void 0&&{"response-cache-control":e.ResponseCacheControl}),e.ResponseContentDisposition!==void 0&&{"response-content-disposition":e.ResponseContentDisposition}),e.ResponseContentEncoding!==void 0&&{"response-content-encoding":e.ResponseContentEncoding}),e.ResponseContentLanguage!==void 0&&{"response-content-language":e.ResponseContentLanguage}),e.ResponseContentType!==void 0&&{"response-content-type":e.ResponseContentType}),e.ResponseExpires!==void 0&&{"response-expires":(e.ResponseExpires.toISOString().split(".")[0]+"Z").toString()}),e.VersionId!==void 0&&{versionId:e.VersionId}),e.PartNumber!==void 0&&{partNumber:e.PartNumber.toString()}),[4,t.endpoint()];case 1:return a=d.sent(),c=a.hostname,u=a.protocol,l=u===void 0?"https":u,f=a.port,[2,new Xe({protocol:l,hostname:c,port:f,method:"GET",headers:r,path:n,query:o,body:s})]}})})},yR=function(e,t){return Ee(void 0,void 0,void 0,function(){var r,n,i,o,s,a,c,u,l,f;return xe(this,function(d){switch(d.label){case 0:if(r=p(p({},z(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),z(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),n="/{Bucket}",e.Bucket!==void 0){if(i=e.Bucket,i.length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");n=n.replace("{Bucket}",Ze(i))}else throw new Error("No value provided for input HTTP label: Bucket.");return o=p(p(p(p(p(p(p({"list-type":"2"},e.Delimiter!==void 0&&{delimiter:e.Delimiter}),e.EncodingType!==void 0&&{"encoding-type":e.EncodingType}),e.MaxKeys!==void 0&&{"max-keys":e.MaxKeys.toString()}),e.Prefix!==void 0&&{prefix:e.Prefix}),e.ContinuationToken!==void 0&&{"continuation-token":e.ContinuationToken}),e.FetchOwner!==void 0&&{"fetch-owner":e.FetchOwner.toString()}),e.StartAfter!==void 0&&{"start-after":e.StartAfter}),[4,t.endpoint()];case 1:return a=d.sent(),c=a.hostname,u=a.protocol,l=u===void 0?"https":u,f=a.port,[2,new Xe({protocol:l,hostname:c,port:f,method:"GET",headers:r,path:n,query:o,body:s})]}})})},wR=function(e,t){return Ee(void 0,void 0,void 0,function(){var r,n,i,i,o,s,a,c,u,l,f;return xe(this,function(d){switch(d.label){case 0:if(r=p(p({},z(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),z(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),n="/{Bucket}/{Key+}",e.Bucket!==void 0){if(i=e.Bucket,i.length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");n=n.replace("{Bucket}",Ze(i))}else throw new Error("No value provided for input HTTP label: Bucket.");if(e.Key!==void 0){if(i=e.Key,i.length<=0)throw new Error("Empty value provided for input HTTP label: Key.");n=n.replace("{Key+}",i.split("/").map(function(h){return Ze(h)}).join("/"))}else throw new Error("No value provided for input HTTP label: Key.");return o=p(p(p({"x-id":"ListParts"},e.MaxParts!==void 0&&{"max-parts":e.MaxParts.toString()}),e.PartNumberMarker!==void 0&&{"part-number-marker":e.PartNumberMarker}),e.UploadId!==void 0&&{uploadId:e.UploadId}),[4,t.endpoint()];case 1:return a=d.sent(),c=a.hostname,u=a.protocol,l=u===void 0?"https":u,f=a.port,[2,new Xe({protocol:l,hostname:c,port:f,method:"GET",headers:r,path:n,query:o,body:s})]}})})},SR=function(e,t){return Ee(void 0,void 0,void 0,function(){var r,n,i,i,o,s,a,c,u,l,f,d;return xe(this,function(h){switch(h.label){case 0:if(r=p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p({"content-type":"application/octet-stream"},z(e.ACL)&&{"x-amz-acl":e.ACL}),z(e.CacheControl)&&{"cache-control":e.CacheControl}),z(e.ContentDisposition)&&{"content-disposition":e.ContentDisposition}),z(e.ContentEncoding)&&{"content-encoding":e.ContentEncoding}),z(e.ContentLanguage)&&{"content-language":e.ContentLanguage}),z(e.ContentLength)&&{"content-length":e.ContentLength.toString()}),z(e.ContentMD5)&&{"content-md5":e.ContentMD5}),z(e.ContentType)&&{"content-type":e.ContentType}),z(e.Expires)&&{expires:Tn(e.Expires).toString()}),z(e.GrantFullControl)&&{"x-amz-grant-full-control":e.GrantFullControl}),z(e.GrantRead)&&{"x-amz-grant-read":e.GrantRead}),z(e.GrantReadACP)&&{"x-amz-grant-read-acp":e.GrantReadACP}),z(e.GrantWriteACP)&&{"x-amz-grant-write-acp":e.GrantWriteACP}),z(e.ServerSideEncryption)&&{"x-amz-server-side-encryption":e.ServerSideEncryption}),z(e.StorageClass)&&{"x-amz-storage-class":e.StorageClass}),z(e.WebsiteRedirectLocation)&&{"x-amz-website-redirect-location":e.WebsiteRedirectLocation}),z(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),z(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),z(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),z(e.SSEKMSKeyId)&&{"x-amz-server-side-encryption-aws-kms-key-id":e.SSEKMSKeyId}),z(e.SSEKMSEncryptionContext)&&{"x-amz-server-side-encryption-context":e.SSEKMSEncryptionContext}),z(e.BucketKeyEnabled)&&{"x-amz-server-side-encryption-bucket-key-enabled":e.BucketKeyEnabled.toString()}),z(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),z(e.Tagging)&&{"x-amz-tagging":e.Tagging}),z(e.ObjectLockMode)&&{"x-amz-object-lock-mode":e.ObjectLockMode}),z(e.ObjectLockRetainUntilDate)&&{"x-amz-object-lock-retain-until-date":(e.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()}),z(e.ObjectLockLegalHoldStatus)&&{"x-amz-object-lock-legal-hold":e.ObjectLockLegalHoldStatus}),z(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),e.Metadata!==void 0&&Object.keys(e.Metadata).reduce(function(m,y){var _;return p(p({},m),(_={},_["x-amz-meta-"+y.toLowerCase()]=e.Metadata[y],_))},{})),n="/{Bucket}/{Key+}",e.Bucket!==void 0){if(i=e.Bucket,i.length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");n=n.replace("{Bucket}",Ze(i))}else throw new Error("No value provided for input HTTP label: Bucket.");if(e.Key!==void 0){if(i=e.Key,i.length<=0)throw new Error("Empty value provided for input HTTP label: Key.");n=n.replace("{Key+}",i.split("/").map(function(m){return Ze(m)}).join("/"))}else throw new Error("No value provided for input HTTP label: Key.");return o={"x-id":"PutObject"},e.Body!==void 0&&(a=e.Body,s=a),[4,t.endpoint()];case 1:return c=h.sent(),u=c.hostname,l=c.protocol,f=l===void 0?"https":l,d=c.port,[2,new Xe({protocol:f,hostname:u,port:d,method:"PUT",headers:r,path:n,query:o,body:s})]}})})},_R=function(e,t){return Ee(void 0,void 0,void 0,function(){var r,n,i,i,o,s,a,c,u,l,f,d;return xe(this,function(h){switch(h.label){case 0:if(r=p(p(p(p(p(p(p({"content-type":"application/octet-stream"},z(e.ContentLength)&&{"content-length":e.ContentLength.toString()}),z(e.ContentMD5)&&{"content-md5":e.ContentMD5}),z(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),z(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),z(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),z(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),z(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),n="/{Bucket}/{Key+}",e.Bucket!==void 0){if(i=e.Bucket,i.length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");n=n.replace("{Bucket}",Ze(i))}else throw new Error("No value provided for input HTTP label: Bucket.");if(e.Key!==void 0){if(i=e.Key,i.length<=0)throw new Error("Empty value provided for input HTTP label: Key.");n=n.replace("{Key+}",i.split("/").map(function(m){return Ze(m)}).join("/"))}else throw new Error("No value provided for input HTTP label: Key.");return o=p(p({"x-id":"UploadPart"},e.PartNumber!==void 0&&{partNumber:e.PartNumber.toString()}),e.UploadId!==void 0&&{uploadId:e.UploadId}),e.Body!==void 0&&(a=e.Body,s=a),[4,t.endpoint()];case 1:return c=h.sent(),u=c.hostname,l=c.protocol,f=l===void 0?"https":l,d=c.port,[2,new Xe({protocol:f,hostname:u,port:d,method:"PUT",headers:r,path:n,query:o,body:s})]}})})},bR=function(e,t){return Ee(void 0,void 0,void 0,function(){var r;return xe(this,function(n){switch(n.label){case 0:return e.statusCode!==204&&e.statusCode>=300?[2,CR(e,t)]:(r={$metadata:Oe(e),RequestCharged:void 0},e.headers["x-amz-request-charged"]!==void 0&&(r.RequestCharged=e.headers["x-amz-request-charged"]),[4,go(e.body,t)]);case 1:return n.sent(),[2,Promise.resolve(r)]}})})},CR=function(e,t){return Ee(void 0,void 0,void 0,function(){var r,n,i,o,s,a,c,u,l;return xe(this,function(f){switch(f.label){case 0:return n=[p({},e)],l={},[4,mt(e.body,t)];case 1:switch(r=p.apply(void 0,n.concat([(l.body=f.sent(),l)])),o="UnknownError",o=pr(e,r.body),s=o,s){case"NoSuchUpload":return[3,2];case"com.amazonaws.s3#NoSuchUpload":return[3,2]}return[3,4];case 2:return a=[{}],[4,HR(r)];case 3:return i=p.apply(void 0,[p.apply(void 0,a.concat([f.sent()])),{name:o,$metadata:Oe(e)}]),[3,5];case 4:c=r.body,o=c.code||c.Code||o,i=p(p({},c),{name:""+o,message:c.message||c.Message||o,$fault:"client",$metadata:Oe(e)}),f.label=5;case 5:return u=i.message||i.Message||o,i.message=u,delete i.Message,[2,Promise.reject(Object.assign(new Error(u),i))]}})})},ER=function(e,t){return Ee(void 0,void 0,void 0,function(){var r,n;return xe(this,function(i){switch(i.label){case 0:return e.statusCode!==200&&e.statusCode>=300?[2,xR(e,t)]:(r={$metadata:Oe(e),Bucket:void 0,BucketKeyEnabled:void 0,ETag:void 0,Expiration:void 0,Key:void 0,Location:void 0,RequestCharged:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,VersionId:void 0},e.headers["x-amz-expiration"]!==void 0&&(r.Expiration=e.headers["x-amz-expiration"]),e.headers["x-amz-server-side-encryption"]!==void 0&&(r.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),e.headers["x-amz-version-id"]!==void 0&&(r.VersionId=e.headers["x-amz-version-id"]),e.headers["x-amz-server-side-encryption-aws-kms-key-id"]!==void 0&&(r.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),e.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0&&(r.BucketKeyEnabled=e.headers["x-amz-server-side-encryption-bucket-key-enabled"]==="true"),e.headers["x-amz-request-charged"]!==void 0&&(r.RequestCharged=e.headers["x-amz-request-charged"]),[4,mt(e.body,t)]);case 1:return n=i.sent(),n.Bucket!==void 0&&(r.Bucket=n.Bucket),n.ETag!==void 0&&(r.ETag=n.ETag),n.Key!==void 0&&(r.Key=n.Key),n.Location!==void 0&&(r.Location=n.Location),[2,Promise.resolve(r)]}})})},xR=function(e,t){return Ee(void 0,void 0,void 0,function(){var r,n,i,o,s,a,c;return xe(this,function(u){switch(u.label){case 0:return n=[p({},e)],c={},[4,mt(e.body,t)];case 1:switch(r=p.apply(void 0,n.concat([(c.body=u.sent(),c)])),o="UnknownError",o=pr(e,r.body),o){default:s=r.body,o=s.code||s.Code||o,i=p(p({},s),{name:""+o,message:s.message||s.Message||o,$fault:"client",$metadata:Oe(e)})}return a=i.message||i.Message||o,i.message=a,delete i.Message,[2,Promise.reject(Object.assign(new Error(a),i))]}})})},AR=function(e,t){return Ee(void 0,void 0,void 0,function(){var r,n;return xe(this,function(i){switch(i.label){case 0:return e.statusCode!==200&&e.statusCode>=300?[2,IR(e,t)]:(r={$metadata:Oe(e),BucketKeyEnabled:void 0,CopyObjectResult:void 0,CopySourceVersionId:void 0,Expiration:void 0,RequestCharged:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSEncryptionContext:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,VersionId:void 0},e.headers["x-amz-expiration"]!==void 0&&(r.Expiration=e.headers["x-amz-expiration"]),e.headers["x-amz-copy-source-version-id"]!==void 0&&(r.CopySourceVersionId=e.headers["x-amz-copy-source-version-id"]),e.headers["x-amz-version-id"]!==void 0&&(r.VersionId=e.headers["x-amz-version-id"]),e.headers["x-amz-server-side-encryption"]!==void 0&&(r.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),e.headers["x-amz-server-side-encryption-customer-algorithm"]!==void 0&&(r.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),e.headers["x-amz-server-side-encryption-customer-key-md5"]!==void 0&&(r.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),e.headers["x-amz-server-side-encryption-aws-kms-key-id"]!==void 0&&(r.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),e.headers["x-amz-server-side-encryption-context"]!==void 0&&(r.SSEKMSEncryptionContext=e.headers["x-amz-server-side-encryption-context"]),e.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0&&(r.BucketKeyEnabled=e.headers["x-amz-server-side-encryption-bucket-key-enabled"]==="true"),e.headers["x-amz-request-charged"]!==void 0&&(r.RequestCharged=e.headers["x-amz-request-charged"]),[4,mt(e.body,t)]);case 1:return n=i.sent(),r.CopyObjectResult=ZR(n),[2,Promise.resolve(r)]}})})},IR=function(e,t){return Ee(void 0,void 0,void 0,function(){var r,n,i,o,s,a,c,u,l;return xe(this,function(f){switch(f.label){case 0:return n=[p({},e)],l={},[4,mt(e.body,t)];case 1:switch(r=p.apply(void 0,n.concat([(l.body=f.sent(),l)])),o="UnknownError",o=pr(e,r.body),s=o,s){case"ObjectNotInActiveTierError":return[3,2];case"com.amazonaws.s3#ObjectNotInActiveTierError":return[3,2]}return[3,4];case 2:return a=[{}],[4,VR(r)];case 3:return i=p.apply(void 0,[p.apply(void 0,a.concat([f.sent()])),{name:o,$metadata:Oe(e)}]),[3,5];case 4:c=r.body,o=c.code||c.Code||o,i=p(p({},c),{name:""+o,message:c.message||c.Message||o,$fault:"client",$metadata:Oe(e)}),f.label=5;case 5:return u=i.message||i.Message||o,i.message=u,delete i.Message,[2,Promise.reject(Object.assign(new Error(u),i))]}})})},TR=function(e,t){return Ee(void 0,void 0,void 0,function(){var r,n;return xe(this,function(i){switch(i.label){case 0:return e.statusCode!==200&&e.statusCode>=300?[2,PR(e,t)]:(r={$metadata:Oe(e),AbortDate:void 0,AbortRuleId:void 0,Bucket:void 0,BucketKeyEnabled:void 0,Key:void 0,RequestCharged:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSEncryptionContext:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,UploadId:void 0},e.headers["x-amz-abort-date"]!==void 0&&(r.AbortDate=new Date(e.headers["x-amz-abort-date"])),e.headers["x-amz-abort-rule-id"]!==void 0&&(r.AbortRuleId=e.headers["x-amz-abort-rule-id"]),e.headers["x-amz-server-side-encryption"]!==void 0&&(r.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),e.headers["x-amz-server-side-encryption-customer-algorithm"]!==void 0&&(r.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),e.headers["x-amz-server-side-encryption-customer-key-md5"]!==void 0&&(r.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),e.headers["x-amz-server-side-encryption-aws-kms-key-id"]!==void 0&&(r.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),e.headers["x-amz-server-side-encryption-context"]!==void 0&&(r.SSEKMSEncryptionContext=e.headers["x-amz-server-side-encryption-context"]),e.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0&&(r.BucketKeyEnabled=e.headers["x-amz-server-side-encryption-bucket-key-enabled"]==="true"),e.headers["x-amz-request-charged"]!==void 0&&(r.RequestCharged=e.headers["x-amz-request-charged"]),[4,mt(e.body,t)]);case 1:return n=i.sent(),n.Bucket!==void 0&&(r.Bucket=n.Bucket),n.Key!==void 0&&(r.Key=n.Key),n.UploadId!==void 0&&(r.UploadId=n.UploadId),[2,Promise.resolve(r)]}})})},PR=function(e,t){return Ee(void 0,void 0,void 0,function(){var r,n,i,o,s,a,c;return xe(this,function(u){switch(u.label){case 0:return n=[p({},e)],c={},[4,mt(e.body,t)];case 1:switch(r=p.apply(void 0,n.concat([(c.body=u.sent(),c)])),o="UnknownError",o=pr(e,r.body),o){default:s=r.body,o=s.code||s.Code||o,i=p(p({},s),{name:""+o,message:s.message||s.Message||o,$fault:"client",$metadata:Oe(e)})}return a=i.message||i.Message||o,i.message=a,delete i.Message,[2,Promise.reject(Object.assign(new Error(a),i))]}})})},kR=function(e,t){return Ee(void 0,void 0,void 0,function(){var r;return xe(this,function(n){switch(n.label){case 0:return e.statusCode!==204&&e.statusCode>=300?[2,RR(e,t)]:(r={$metadata:Oe(e),DeleteMarker:void 0,RequestCharged:void 0,VersionId:void 0},e.headers["x-amz-delete-marker"]!==void 0&&(r.DeleteMarker=e.headers["x-amz-delete-marker"]==="true"),e.headers["x-amz-version-id"]!==void 0&&(r.VersionId=e.headers["x-amz-version-id"]),e.headers["x-amz-request-charged"]!==void 0&&(r.RequestCharged=e.headers["x-amz-request-charged"]),[4,go(e.body,t)]);case 1:return n.sent(),[2,Promise.resolve(r)]}})})},RR=function(e,t){return Ee(void 0,void 0,void 0,function(){var r,n,i,o,s,a,c;return xe(this,function(u){switch(u.label){case 0:return n=[p({},e)],c={},[4,mt(e.body,t)];case 1:switch(r=p.apply(void 0,n.concat([(c.body=u.sent(),c)])),o="UnknownError",o=pr(e,r.body),o){default:s=r.body,o=s.code||s.Code||o,i=p(p({},s),{name:""+o,message:s.message||s.Message||o,$fault:"client",$metadata:Oe(e)})}return a=i.message||i.Message||o,i.message=a,delete i.Message,[2,Promise.reject(Object.assign(new Error(a),i))]}})})},OR=function(e,t){return Ee(void 0,void 0,void 0,function(){var r,n;return xe(this,function(i){return e.statusCode!==200&&e.statusCode>=300?[2,UR(e,t)]:(r={$metadata:Oe(e),AcceptRanges:void 0,Body:void 0,BucketKeyEnabled:void 0,CacheControl:void 0,ContentDisposition:void 0,ContentEncoding:void 0,ContentLanguage:void 0,ContentLength:void 0,ContentRange:void 0,ContentType:void 0,DeleteMarker:void 0,ETag:void 0,Expiration:void 0,Expires:void 0,LastModified:void 0,Metadata:void 0,MissingMeta:void 0,ObjectLockLegalHoldStatus:void 0,ObjectLockMode:void 0,ObjectLockRetainUntilDate:void 0,PartsCount:void 0,ReplicationStatus:void 0,RequestCharged:void 0,Restore:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,StorageClass:void 0,TagCount:void 0,VersionId:void 0,WebsiteRedirectLocation:void 0},e.headers["x-amz-delete-marker"]!==void 0&&(r.DeleteMarker=e.headers["x-amz-delete-marker"]==="true"),e.headers["accept-ranges"]!==void 0&&(r.AcceptRanges=e.headers["accept-ranges"]),e.headers["x-amz-expiration"]!==void 0&&(r.Expiration=e.headers["x-amz-expiration"]),e.headers["x-amz-restore"]!==void 0&&(r.Restore=e.headers["x-amz-restore"]),e.headers["last-modified"]!==void 0&&(r.LastModified=new Date(e.headers["last-modified"])),e.headers["content-length"]!==void 0&&(r.ContentLength=parseInt(e.headers["content-length"],10)),e.headers.etag!==void 0&&(r.ETag=e.headers.etag),e.headers["x-amz-missing-meta"]!==void 0&&(r.MissingMeta=parseInt(e.headers["x-amz-missing-meta"],10)),e.headers["x-amz-version-id"]!==void 0&&(r.VersionId=e.headers["x-amz-version-id"]),e.headers["cache-control"]!==void 0&&(r.CacheControl=e.headers["cache-control"]),e.headers["content-disposition"]!==void 0&&(r.ContentDisposition=e.headers["content-disposition"]),e.headers["content-encoding"]!==void 0&&(r.ContentEncoding=e.headers["content-encoding"]),e.headers["content-language"]!==void 0&&(r.ContentLanguage=e.headers["content-language"]),e.headers["content-range"]!==void 0&&(r.ContentRange=e.headers["content-range"]),e.headers["content-type"]!==void 0&&(r.ContentType=e.headers["content-type"]),e.headers.expires!==void 0&&(r.Expires=new Date(e.headers.expires)),e.headers["x-amz-website-redirect-location"]!==void 0&&(r.WebsiteRedirectLocation=e.headers["x-amz-website-redirect-location"]),e.headers["x-amz-server-side-encryption"]!==void 0&&(r.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),e.headers["x-amz-server-side-encryption-customer-algorithm"]!==void 0&&(r.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),e.headers["x-amz-server-side-encryption-customer-key-md5"]!==void 0&&(r.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),e.headers["x-amz-server-side-encryption-aws-kms-key-id"]!==void 0&&(r.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),e.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0&&(r.BucketKeyEnabled=e.headers["x-amz-server-side-encryption-bucket-key-enabled"]==="true"),e.headers["x-amz-storage-class"]!==void 0&&(r.StorageClass=e.headers["x-amz-storage-class"]),e.headers["x-amz-request-charged"]!==void 0&&(r.RequestCharged=e.headers["x-amz-request-charged"]),e.headers["x-amz-replication-status"]!==void 0&&(r.ReplicationStatus=e.headers["x-amz-replication-status"]),e.headers["x-amz-mp-parts-count"]!==void 0&&(r.PartsCount=parseInt(e.headers["x-amz-mp-parts-count"],10)),e.headers["x-amz-tagging-count"]!==void 0&&(r.TagCount=parseInt(e.headers["x-amz-tagging-count"],10)),e.headers["x-amz-object-lock-mode"]!==void 0&&(r.ObjectLockMode=e.headers["x-amz-object-lock-mode"]),e.headers["x-amz-object-lock-retain-until-date"]!==void 0&&(r.ObjectLockRetainUntilDate=new Date(e.headers["x-amz-object-lock-retain-until-date"])),e.headers["x-amz-object-lock-legal-hold"]!==void 0&&(r.ObjectLockLegalHoldStatus=e.headers["x-amz-object-lock-legal-hold"]),Object.keys(e.headers).forEach(function(o){r.Metadata===void 0&&(r.Metadata={}),o.startsWith("x-amz-meta-")&&(r.Metadata[o.substring(11)]=e.headers[o])}),n=e.body,r.Body=n,[2,Promise.resolve(r)])})})},UR=function(e,t){return Ee(void 0,void 0,void 0,function(){var r,n,i,o,s,a,c,u,l,f;return xe(this,function(d){switch(d.label){case 0:return n=[p({},e)],f={},[4,mt(e.body,t)];case 1:switch(r=p.apply(void 0,n.concat([(f.body=d.sent(),f)])),o="UnknownError",o=pr(e,r.body),s=o,s){case"InvalidObjectState":return[3,2];case"com.amazonaws.s3#InvalidObjectState":return[3,2];case"NoSuchKey":return[3,4];case"com.amazonaws.s3#NoSuchKey":return[3,4]}return[3,6];case 2:return a=[{}],[4,qR(r)];case 3:return i=p.apply(void 0,[p.apply(void 0,a.concat([d.sent()])),{name:o,$metadata:Oe(e)}]),[3,7];case 4:return c=[{}],[4,$R(r)];case 5:return i=p.apply(void 0,[p.apply(void 0,c.concat([d.sent()])),{name:o,$metadata:Oe(e)}]),[3,7];case 6:u=r.body,o=u.code||u.Code||o,i=p(p({},u),{name:""+o,message:u.message||u.Message||o,$fault:"client",$metadata:Oe(e)}),d.label=7;case 7:return l=i.message||i.Message||o,i.message=l,delete i.Message,[2,Promise.reject(Object.assign(new Error(l),i))]}})})},LR=function(e,t){return Ee(void 0,void 0,void 0,function(){var r,n;return xe(this,function(i){switch(i.label){case 0:return e.statusCode!==200&&e.statusCode>=300?[2,MR(e,t)]:(r={$metadata:Oe(e),CommonPrefixes:void 0,Contents:void 0,ContinuationToken:void 0,Delimiter:void 0,EncodingType:void 0,IsTruncated:void 0,KeyCount:void 0,MaxKeys:void 0,Name:void 0,NextContinuationToken:void 0,Prefix:void 0,StartAfter:void 0},[4,mt(e.body,t)]);case 1:return n=i.sent(),n.CommonPrefixes===""&&(r.CommonPrefixes=[]),n.CommonPrefixes!==void 0&&(r.CommonPrefixes=JR(Lu(n.CommonPrefixes))),n.Contents===""&&(r.Contents=[]),n.Contents!==void 0&&(r.Contents=tO(Lu(n.Contents))),n.ContinuationToken!==void 0&&(r.ContinuationToken=n.ContinuationToken),n.Delimiter!==void 0&&(r.Delimiter=n.Delimiter),n.EncodingType!==void 0&&(r.EncodingType=n.EncodingType),n.IsTruncated!==void 0&&(r.IsTruncated=n.IsTruncated=="true"),n.KeyCount!==void 0&&(r.KeyCount=parseInt(n.KeyCount)),n.MaxKeys!==void 0&&(r.MaxKeys=parseInt(n.MaxKeys)),n.Name!==void 0&&(r.Name=n.Name),n.NextContinuationToken!==void 0&&(r.NextContinuationToken=n.NextContinuationToken),n.Prefix!==void 0&&(r.Prefix=n.Prefix),n.StartAfter!==void 0&&(r.StartAfter=n.StartAfter),[2,Promise.resolve(r)]}})})},MR=function(e,t){return Ee(void 0,void 0,void 0,function(){var r,n,i,o,s,a,c,u,l;return xe(this,function(f){switch(f.label){case 0:return n=[p({},e)],l={},[4,mt(e.body,t)];case 1:switch(r=p.apply(void 0,n.concat([(l.body=f.sent(),l)])),o="UnknownError",o=pr(e,r.body),s=o,s){case"NoSuchBucket":return[3,2];case"com.amazonaws.s3#NoSuchBucket":return[3,2]}return[3,4];case 2:return a=[{}],[4,jR(r)];case 3:return i=p.apply(void 0,[p.apply(void 0,a.concat([f.sent()])),{name:o,$metadata:Oe(e)}]),[3,5];case 4:c=r.body,o=c.code||c.Code||o,i=p(p({},c),{name:""+o,message:c.message||c.Message||o,$fault:"client",$metadata:Oe(e)}),f.label=5;case 5:return u=i.message||i.Message||o,i.message=u,delete i.Message,[2,Promise.reject(Object.assign(new Error(u),i))]}})})},NR=function(e,t){return Ee(void 0,void 0,void 0,function(){var r,n;return xe(this,function(i){switch(i.label){case 0:return e.statusCode!==200&&e.statusCode>=300?[2,DR(e,t)]:(r={$metadata:Oe(e),AbortDate:void 0,AbortRuleId:void 0,Bucket:void 0,Initiator:void 0,IsTruncated:void 0,Key:void 0,MaxParts:void 0,NextPartNumberMarker:void 0,Owner:void 0,PartNumberMarker:void 0,Parts:void 0,RequestCharged:void 0,StorageClass:void 0,UploadId:void 0},e.headers["x-amz-abort-date"]!==void 0&&(r.AbortDate=new Date(e.headers["x-amz-abort-date"])),e.headers["x-amz-abort-rule-id"]!==void 0&&(r.AbortRuleId=e.headers["x-amz-abort-rule-id"]),e.headers["x-amz-request-charged"]!==void 0&&(r.RequestCharged=e.headers["x-amz-request-charged"]),[4,mt(e.body,t)]);case 1:return n=i.sent(),n.Bucket!==void 0&&(r.Bucket=n.Bucket),n.Initiator!==void 0&&(r.Initiator=QR(n.Initiator)),n.IsTruncated!==void 0&&(r.IsTruncated=n.IsTruncated=="true"),n.Key!==void 0&&(r.Key=n.Key),n.MaxParts!==void 0&&(r.MaxParts=parseInt(n.MaxParts)),n.NextPartNumberMarker!==void 0&&(r.NextPartNumberMarker=n.NextPartNumberMarker),n.Owner!==void 0&&(r.Owner=MS(n.Owner)),n.PartNumberMarker!==void 0&&(r.PartNumberMarker=n.PartNumberMarker),n.Part===""&&(r.Parts=[]),n.Part!==void 0&&(r.Parts=nO(Lu(n.Part))),n.StorageClass!==void 0&&(r.StorageClass=n.StorageClass),n.UploadId!==void 0&&(r.UploadId=n.UploadId),[2,Promise.resolve(r)]}})})},DR=function(e,t){return Ee(void 0,void 0,void 0,function(){var r,n,i,o,s,a,c;return xe(this,function(u){switch(u.label){case 0:return n=[p({},e)],c={},[4,mt(e.body,t)];case 1:switch(r=p.apply(void 0,n.concat([(c.body=u.sent(),c)])),o="UnknownError",o=pr(e,r.body),o){default:s=r.body,o=s.code||s.Code||o,i=p(p({},s),{name:""+o,message:s.message||s.Message||o,$fault:"client",$metadata:Oe(e)})}return a=i.message||i.Message||o,i.message=a,delete i.Message,[2,Promise.reject(Object.assign(new Error(a),i))]}})})},BR=function(e,t){return Ee(void 0,void 0,void 0,function(){var r;return xe(this,function(n){switch(n.label){case 0:return e.statusCode!==200&&e.statusCode>=300?[2,FR(e,t)]:(r={$metadata:Oe(e),BucketKeyEnabled:void 0,ETag:void 0,Expiration:void 0,RequestCharged:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSEncryptionContext:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,VersionId:void 0},e.headers["x-amz-expiration"]!==void 0&&(r.Expiration=e.headers["x-amz-expiration"]),e.headers.etag!==void 0&&(r.ETag=e.headers.etag),e.headers["x-amz-server-side-encryption"]!==void 0&&(r.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),e.headers["x-amz-version-id"]!==void 0&&(r.VersionId=e.headers["x-amz-version-id"]),e.headers["x-amz-server-side-encryption-customer-algorithm"]!==void 0&&(r.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),e.headers["x-amz-server-side-encryption-customer-key-md5"]!==void 0&&(r.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),e.headers["x-amz-server-side-encryption-aws-kms-key-id"]!==void 0&&(r.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),e.headers["x-amz-server-side-encryption-context"]!==void 0&&(r.SSEKMSEncryptionContext=e.headers["x-amz-server-side-encryption-context"]),e.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0&&(r.BucketKeyEnabled=e.headers["x-amz-server-side-encryption-bucket-key-enabled"]==="true"),e.headers["x-amz-request-charged"]!==void 0&&(r.RequestCharged=e.headers["x-amz-request-charged"]),[4,go(e.body,t)]);case 1:return n.sent(),[2,Promise.resolve(r)]}})})},FR=function(e,t){return Ee(void 0,void 0,void 0,function(){var r,n,i,o,s,a,c;return xe(this,function(u){switch(u.label){case 0:return n=[p({},e)],c={},[4,mt(e.body,t)];case 1:switch(r=p.apply(void 0,n.concat([(c.body=u.sent(),c)])),o="UnknownError",o=pr(e,r.body),o){default:s=r.body,o=s.code||s.Code||o,i=p(p({},s),{name:""+o,message:s.message||s.Message||o,$fault:"client",$metadata:Oe(e)})}return a=i.message||i.Message||o,i.message=a,delete i.Message,[2,Promise.reject(Object.assign(new Error(a),i))]}})})},zR=function(e,t){return Ee(void 0,void 0,void 0,function(){var r;return xe(this,function(n){switch(n.label){case 0:return e.statusCode!==200&&e.statusCode>=300?[2,KR(e,t)]:(r={$metadata:Oe(e),BucketKeyEnabled:void 0,ETag:void 0,RequestCharged:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0},e.headers["x-amz-server-side-encryption"]!==void 0&&(r.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),e.headers.etag!==void 0&&(r.ETag=e.headers.etag),e.headers["x-amz-server-side-encryption-customer-algorithm"]!==void 0&&(r.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),e.headers["x-amz-server-side-encryption-customer-key-md5"]!==void 0&&(r.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),e.headers["x-amz-server-side-encryption-aws-kms-key-id"]!==void 0&&(r.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),e.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0&&(r.BucketKeyEnabled=e.headers["x-amz-server-side-encryption-bucket-key-enabled"]==="true"),e.headers["x-amz-request-charged"]!==void 0&&(r.RequestCharged=e.headers["x-amz-request-charged"]),[4,go(e.body,t)]);case 1:return n.sent(),[2,Promise.resolve(r)]}})})},KR=function(e,t){return Ee(void 0,void 0,void 0,function(){var r,n,i,o,s,a,c;return xe(this,function(u){switch(u.label){case 0:return n=[p({},e)],c={},[4,mt(e.body,t)];case 1:switch(r=p.apply(void 0,n.concat([(c.body=u.sent(),c)])),o="UnknownError",o=pr(e,r.body),o){default:s=r.body,o=s.code||s.Code||o,i=p(p({},s),{name:""+o,message:s.message||s.Message||o,$fault:"client",$metadata:Oe(e)})}return a=i.message||i.Message||o,i.message=a,delete i.Message,[2,Promise.reject(Object.assign(new Error(a),i))]}})})},qR=function(e,t){return Ee(void 0,void 0,void 0,function(){var r,n;return xe(this,function(i){return r={name:"InvalidObjectState",$fault:"client",$metadata:Oe(e),AccessTier:void 0,StorageClass:void 0},n=e.body,n.AccessTier!==void 0&&(r.AccessTier=n.AccessTier),n.StorageClass!==void 0&&(r.StorageClass=n.StorageClass),[2,r]})})},jR=function(e,t){return Ee(void 0,void 0,void 0,function(){var r;return xe(this,function(n){return r={name:"NoSuchBucket",$fault:"client",$metadata:Oe(e)},e.body,[2,r]})})},$R=function(e,t){return Ee(void 0,void 0,void 0,function(){var r;return xe(this,function(n){return r={name:"NoSuchKey",$fault:"client",$metadata:Oe(e)},e.body,[2,r]})})},HR=function(e,t){return Ee(void 0,void 0,void 0,function(){var r;return xe(this,function(n){return r={name:"NoSuchUpload",$fault:"client",$metadata:Oe(e)},e.body,[2,r]})})},VR=function(e,t){return Ee(void 0,void 0,void 0,function(){var r;return xe(this,function(n){return r={name:"ObjectNotInActiveTierError",$fault:"client",$metadata:Oe(e)},e.body,[2,r]})})},GR=function(e,t){var r=new $o("CompletedMultipartUpload");if(e.Parts!==void 0&&e.Parts!==null){var n=YR(e.Parts);n.map(function(i){i=i.withName("Part"),r.addChildNode(i)})}return r},WR=function(e,t){var r=new $o("CompletedPart");if(e.ETag!==void 0&&e.ETag!==null){var n=new $o("ETag").addChildNode(new Cm(e.ETag)).withName("ETag");r.addChildNode(n)}if(e.PartNumber!==void 0&&e.PartNumber!==null){var n=new $o("PartNumber").addChildNode(new Cm(String(e.PartNumber))).withName("PartNumber");r.addChildNode(n)}return r},YR=function(e,t){return e.filter(function(r){return r!=null}).map(function(r){if(r===null)return null;var n=WR(r);return n.withName("member")})},XR=function(e,t){var r={Prefix:void 0};return e.Prefix!==void 0&&(r.Prefix=e.Prefix),r},JR=function(e,t){return(e||[]).filter(function(r){return r!=null}).map(function(r){return r===null?null:XR(r)})},ZR=function(e,t){var r={ETag:void 0,LastModified:void 0};return e.ETag!==void 0&&(r.ETag=e.ETag),e.LastModified!==void 0&&(r.LastModified=new Date(e.LastModified)),r},QR=function(e,t){var r={ID:void 0,DisplayName:void 0};return e.ID!==void 0&&(r.ID=e.ID),e.DisplayName!==void 0&&(r.DisplayName=e.DisplayName),r},eO=function(e,t){var r={Key:void 0,LastModified:void 0,ETag:void 0,Size:void 0,StorageClass:void 0,Owner:void 0};return e.Key!==void 0&&(r.Key=e.Key),e.LastModified!==void 0&&(r.LastModified=new Date(e.LastModified)),e.ETag!==void 0&&(r.ETag=e.ETag),e.Size!==void 0&&(r.Size=parseInt(e.Size)),e.StorageClass!==void 0&&(r.StorageClass=e.StorageClass),e.Owner!==void 0&&(r.Owner=MS(e.Owner)),r},tO=function(e,t){return(e||[]).filter(function(r){return r!=null}).map(function(r){return r===null?null:eO(r)})},MS=function(e,t){var r={DisplayName:void 0,ID:void 0};return e.DisplayName!==void 0&&(r.DisplayName=e.DisplayName),e.ID!==void 0&&(r.ID=e.ID),r},rO=function(e,t){var r={PartNumber:void 0,LastModified:void 0,ETag:void 0,Size:void 0};return e.PartNumber!==void 0&&(r.PartNumber=parseInt(e.PartNumber)),e.LastModified!==void 0&&(r.LastModified=new Date(e.LastModified)),e.ETag!==void 0&&(r.ETag=e.ETag),e.Size!==void 0&&(r.Size=parseInt(e.Size)),r},nO=function(e,t){return(e||[]).filter(function(r){return r!=null}).map(function(r){return r===null?null:rO(r)})},Oe=function(e){var t;return{httpStatusCode:e.statusCode,requestId:(t=e.headers["x-amzn-requestid"])!==null&&t!==void 0?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},go=function(e,t){return e===void 0&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},iO=function(e,t){return go(e,t).then(function(r){return t.utf8Encoder(r)})},z=function(e){return e!=null&&e!==""&&(!Object.getOwnPropertyNames(e).includes("length")||e.length!=0)&&(!Object.getOwnPropertyNames(e).includes("size")||e.size!=0)},oO=function(e){return e.replace(/&amp;/g,"&").replace(/&apos;/g,"'").replace(/&quot;/g,'"').replace(/&gt;/g,">").replace(/&lt;/g,"<")},mt=function(e,t){return iO(e,t).then(function(r){if(r.length){var n=PS.parse(r,{attributeNamePrefix:"",ignoreAttributes:!1,parseNodeValue:!1,tagValueProcessor:function(a,c){return oO(a)}}),i="#text",o=Object.keys(n)[0],s=n[o];return s[i]&&(s[o]=s[i],delete s[i]),Yw(s)}return{}})},pr=function(e,t){return t.Code!==void 0?t.Code:e.statusCode==404?"NotFound":""},NS=function(e){tr(t,e);function t(r){var n=e.call(this)||this;return n.input=r,n}return t.prototype.resolveMiddleware=function(r,n,i){this.middlewareStack.use(jt(n,this.serialize,this.deserialize)),this.middlewareStack.use(gr(n));var o=r.concat(this.middlewareStack),s=n.logger,a="S3Client",c="AbortMultipartUploadCommand",u={logger:s,clientName:a,commandName:c,inputFilterSensitiveLog:tc.filterSensitiveLog,outputFilterSensitiveLog:ec.filterSensitiveLog},l=n.requestHandler;return o.resolve(function(f){return l.handle(f.request,i||{})},u)},t.prototype.serialize=function(r,n){return dR(r,n)},t.prototype.deserialize=function(r,n){return bR(r,n)},t}(qt),DS=function(e){tr(t,e);function t(r){var n=e.call(this)||this;return n.input=r,n}return t.prototype.resolveMiddleware=function(r,n,i){this.middlewareStack.use(jt(n,this.serialize,this.deserialize)),this.middlewareStack.use(TS(n)),this.middlewareStack.use(gr(n));var o=r.concat(this.middlewareStack),s=n.logger,a="S3Client",c="CompleteMultipartUploadCommand",u={logger:s,clientName:a,commandName:c,inputFilterSensitiveLog:nc.filterSensitiveLog,outputFilterSensitiveLog:rc.filterSensitiveLog},l=n.requestHandler;return o.resolve(function(f){return l.handle(f.request,i||{})},u)},t.prototype.serialize=function(r,n){return hR(r,n)},t.prototype.deserialize=function(r,n){return ER(r,n)},t}(qt);function sO(e){var t=this;return function(r){return function(n){return T.exports.__awaiter(t,void 0,void 0,function(){var i,o,s,a,c,u,l,f,d,h,m,y,_,C,w,A,I;return T.exports.__generator(this,function(O){switch(O.label){case 0:i=T.exports.__assign({},n.input),o=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}],O.label=1;case 1:O.trys.push([1,6,7,8]),s=T.exports.__values(o),a=s.next(),O.label=2;case 2:return a.done?[3,5]:(c=a.value,u=i[c.target],u?(l=ArrayBuffer.isView(u)?new Uint8Array(u.buffer,u.byteOffset,u.byteLength):typeof u=="string"?e.utf8Decoder(u):new Uint8Array(u),f=e.base64Encoder(l),d=new e.md5,d.update(l),h=[T.exports.__assign({},i)],I={},I[c.target]=f,m=c.hash,_=(y=e).base64Encoder,[4,d.digest()]):[3,4]);case 3:i=T.exports.__assign.apply(void 0,h.concat([(I[m]=_.apply(y,[O.sent()]),I)])),O.label=4;case 4:return a=s.next(),[3,2];case 5:return[3,8];case 6:return C=O.sent(),w={error:C},[3,8];case 7:try{a&&!a.done&&(A=s.return)&&A.call(s)}finally{if(w)throw w.error}return[7];case 8:return[2,r(T.exports.__assign(T.exports.__assign({},n),{input:i}))]}})})}}}var aO={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},po=function(e){return{applyToStack:function(t){t.add(sO(e),aO)}}},uO=function(e){tr(t,e);function t(r){var n=e.call(this)||this;return n.input=r,n}return t.prototype.resolveMiddleware=function(r,n,i){this.middlewareStack.use(jt(n,this.serialize,this.deserialize)),this.middlewareStack.use(TS(n)),this.middlewareStack.use(po(n)),this.middlewareStack.use(gr(n));var o=r.concat(this.middlewareStack),s=n.logger,a="S3Client",c="CopyObjectCommand",u={logger:s,clientName:a,commandName:c,inputFilterSensitiveLog:oc.filterSensitiveLog,outputFilterSensitiveLog:ic.filterSensitiveLog},l=n.requestHandler;return o.resolve(function(f){return l.handle(f.request,i||{})},u)},t.prototype.serialize=function(r,n){return gR(r,n)},t.prototype.deserialize=function(r,n){return AR(r,n)},t}(qt),BS=function(e){tr(t,e);function t(r){var n=e.call(this)||this;return n.input=r,n}return t.prototype.resolveMiddleware=function(r,n,i){this.middlewareStack.use(jt(n,this.serialize,this.deserialize)),this.middlewareStack.use(po(n)),this.middlewareStack.use(gr(n));var o=r.concat(this.middlewareStack),s=n.logger,a="S3Client",c="CreateMultipartUploadCommand",u={logger:s,clientName:a,commandName:c,inputFilterSensitiveLog:ac.filterSensitiveLog,outputFilterSensitiveLog:sc.filterSensitiveLog},l=n.requestHandler;return o.resolve(function(f){return l.handle(f.request,i||{})},u)},t.prototype.serialize=function(r,n){return pR(r,n)},t.prototype.deserialize=function(r,n){return TR(r,n)},t}(qt),cO=function(e){tr(t,e);function t(r){var n=e.call(this)||this;return n.input=r,n}return t.prototype.resolveMiddleware=function(r,n,i){this.middlewareStack.use(jt(n,this.serialize,this.deserialize)),this.middlewareStack.use(gr(n));var o=r.concat(this.middlewareStack),s=n.logger,a="S3Client",c="DeleteObjectCommand",u={logger:s,clientName:a,commandName:c,inputFilterSensitiveLog:cc.filterSensitiveLog,outputFilterSensitiveLog:uc.filterSensitiveLog},l=n.requestHandler;return o.resolve(function(f){return l.handle(f.request,i||{})},u)},t.prototype.serialize=function(r,n){return vR(r,n)},t.prototype.deserialize=function(r,n){return kR(r,n)},t}(qt),Rm=function(e){tr(t,e);function t(r){var n=e.call(this)||this;return n.input=r,n}return t.prototype.resolveMiddleware=function(r,n,i){this.middlewareStack.use(jt(n,this.serialize,this.deserialize)),this.middlewareStack.use(po(n)),this.middlewareStack.use(gr(n));var o=r.concat(this.middlewareStack),s=n.logger,a="S3Client",c="GetObjectCommand",u={logger:s,clientName:a,commandName:c,inputFilterSensitiveLog:Ac.filterSensitiveLog,outputFilterSensitiveLog:xc.filterSensitiveLog},l=n.requestHandler;return o.resolve(function(f){return l.handle(f.request,i||{})},u)},t.prototype.serialize=function(r,n){return mR(r,n)},t.prototype.deserialize=function(r,n){return OR(r,n)},t}(qt),FS=function(e){tr(t,e);function t(r){var n=e.call(this)||this;return n.input=r,n}return t.prototype.resolveMiddleware=function(r,n,i){this.middlewareStack.use(jt(n,this.serialize,this.deserialize)),this.middlewareStack.use(gr(n));var o=r.concat(this.middlewareStack),s=n.logger,a="S3Client",c="ListObjectsV2Command",u={logger:s,clientName:a,commandName:c,inputFilterSensitiveLog:Tc.filterSensitiveLog,outputFilterSensitiveLog:Ic.filterSensitiveLog},l=n.requestHandler;return o.resolve(function(f){return l.handle(f.request,i||{})},u)},t.prototype.serialize=function(r,n){return yR(r,n)},t.prototype.deserialize=function(r,n){return LR(r,n)},t}(qt),zS=function(e){tr(t,e);function t(r){var n=e.call(this)||this;return n.input=r,n}return t.prototype.resolveMiddleware=function(r,n,i){this.middlewareStack.use(jt(n,this.serialize,this.deserialize)),this.middlewareStack.use(gr(n));var o=r.concat(this.middlewareStack),s=n.logger,a="S3Client",c="ListPartsCommand",u={logger:s,clientName:a,commandName:c,inputFilterSensitiveLog:kc.filterSensitiveLog,outputFilterSensitiveLog:Pc.filterSensitiveLog},l=n.requestHandler;return o.resolve(function(f){return l.handle(f.request,i||{})},u)},t.prototype.serialize=function(r,n){return wR(r,n)},t.prototype.deserialize=function(r,n){return NR(r,n)},t}(qt),lO=function(e){tr(t,e);function t(r){var n=e.call(this)||this;return n.input=r,n}return t.prototype.resolveMiddleware=function(r,n,i){this.middlewareStack.use(jt(n,this.serialize,this.deserialize)),this.middlewareStack.use(po(n)),this.middlewareStack.use(gr(n));var o=r.concat(this.middlewareStack),s=n.logger,a="S3Client",c="PutObjectCommand",u={logger:s,clientName:a,commandName:c,inputFilterSensitiveLog:Uc.filterSensitiveLog,outputFilterSensitiveLog:Oc.filterSensitiveLog},l=n.requestHandler;return o.resolve(function(f){return l.handle(f.request,i||{})},u)},t.prototype.serialize=function(r,n){return SR(r,n)},t.prototype.deserialize=function(r,n){return BR(r,n)},t}(qt),Om;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Om||(Om={}));var Nc;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.Encryption&&{Encryption:Lc.filterSensitiveLog(t.Encryption)})}})(Nc||(Nc={}));var Dc;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.S3&&{S3:Nc.filterSensitiveLog(t.S3)})}})(Dc||(Dc={}));var Um;(function(e){e.IGNORE="IGNORE",e.NONE="NONE",e.USE="USE"})(Um||(Um={}));var Lm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Lm||(Lm={}));var Mm;(function(e){e.DOCUMENT="DOCUMENT",e.LINES="LINES"})(Mm||(Mm={}));var Nm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Nm||(Nm={}));var Dm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Dm||(Dm={}));var Bm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Bm||(Bm={}));var Fm;(function(e){e.ALWAYS="ALWAYS",e.ASNEEDED="ASNEEDED"})(Fm||(Fm={}));var zm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(zm||(zm={}));var Km;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Km||(Km={}));var qm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(qm||(qm={}));var jm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(jm||(jm={}));var $m;(function(e){e.SELECT="SELECT"})($m||($m={}));var Bc;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.OutputLocation&&{OutputLocation:Dc.filterSensitiveLog(t.OutputLocation)})}})(Bc||(Bc={}));var Hm;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.RestoreRequest&&{RestoreRequest:Bc.filterSensitiveLog(t.RestoreRequest)})}})(Hm||(Hm={}));var Fc;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Fc||(Fc={}));var zc;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(zc||(zc={}));var Vm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Vm||(Vm={}));var Kc;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Kc||(Kc={}));var qc;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(qc||(qc={}));var Gm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Gm||(Gm={}));var jc;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(jc||(jc={}));var Wm;(function(e){e.visit=function(t,r){return t.Records!==void 0?r.Records(t.Records):t.Stats!==void 0?r.Stats(t.Stats):t.Progress!==void 0?r.Progress(t.Progress):t.Cont!==void 0?r.Cont(t.Cont):t.End!==void 0?r.End(t.End):r._(t.$unknown[0],t.$unknown[1])},e.filterSensitiveLog=function(t){var r;if(t.Records!==void 0)return{Records:qc.filterSensitiveLog(t.Records)};if(t.Stats!==void 0)return{Stats:jc.filterSensitiveLog(t.Stats)};if(t.Progress!==void 0)return{Progress:Kc.filterSensitiveLog(t.Progress)};if(t.Cont!==void 0)return{Cont:Fc.filterSensitiveLog(t.Cont)};if(t.End!==void 0)return{End:zc.filterSensitiveLog(t.End)};if(t.$unknown!==void 0)return r={},r[t.$unknown[0]]="UNKNOWN",r}})(Wm||(Wm={}));var Ym;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.Payload&&{Payload:"STREAMING_CONTENT"})}})(Ym||(Ym={}));var Xm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Xm||(Xm={}));var Jm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Jm||(Jm={}));var Zm;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.SSECustomerKey&&{SSECustomerKey:Re})}})(Zm||(Zm={}));var $c;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.SSEKMSKeyId&&{SSEKMSKeyId:Re})}})($c||($c={}));var Hc;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.SSECustomerKey&&{SSECustomerKey:Re})}})(Hc||(Hc={}));var Qm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Qm||(Qm={}));var ey;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.SSEKMSKeyId&&{SSEKMSKeyId:Re})}})(ey||(ey={}));var ty;(function(e){e.filterSensitiveLog=function(t){return p(p(p({},t),t.SSECustomerKey&&{SSECustomerKey:Re}),t.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:Re})}})(ty||(ty={}));var KS=function(e){tr(t,e);function t(r){var n=e.call(this)||this;return n.input=r,n}return t.prototype.resolveMiddleware=function(r,n,i){this.middlewareStack.use(jt(n,this.serialize,this.deserialize)),this.middlewareStack.use(po(n)),this.middlewareStack.use(gr(n));var o=r.concat(this.middlewareStack),s=n.logger,a="S3Client",c="UploadPartCommand",u={logger:s,clientName:a,commandName:c,inputFilterSensitiveLog:Hc.filterSensitiveLog,outputFilterSensitiveLog:$c.filterSensitiveLog},l=n.requestHandler;return o.resolve(function(f){return l.handle(f.request,i||{})},u)},t.prototype.serialize=function(r,n){return _R(r,n)},t.prototype.deserialize=function(r,n){return zR(r,n)},t}(qt);function fO(e){var t=e.port,r=e.query,n=e.protocol,i=e.path,o=e.hostname;n&&n.substr(-1)!==":"&&(n+=":"),t&&(o+=":"+t),i&&i.charAt(0)!=="/"&&(i="/"+i);var s=r?Al(r):"";return s&&s[0]!=="?"&&(s="?"+s),n+"//"+o+i+s}function dO(e,t){return T.exports.__awaiter(this,void 0,void 0,function(){var r,n,i,o=this;return T.exports.__generator(this,function(s){switch(s.label){case 0:return r=function(a){return function(c){return T.exports.__awaiter(o,void 0,void 0,function(){return T.exports.__generator(this,function(u){return[2,{output:{request:c.request},response:void 0}]})})}},n=e.middlewareStack.clone(),n.add(r,{step:"build",priority:"low"}),i=t.resolveMiddleware(n,e.config,void 0),[4,i(t).then(function(a){return a.output.request})];case 1:return[2,s.sent()]}})})}var hO="UNSIGNED-PAYLOAD",gO="X-Amz-Content-Sha256",pO=function(){function e(t){var r=T.exports.__assign({service:t.signingName||t.service||"s3",uriEscapePath:t.uriEscapePath||!1},t);this.signer=new $w(r)}return e.prototype.presign=function(t,r){r===void 0&&(r={});var n=r.unsignableHeaders,i=n===void 0?new Set:n,o=r.unhoistableHeaders,s=o===void 0?new Set:o,a=T.exports.__rest(r,["unsignableHeaders","unhoistableHeaders"]);return T.exports.__awaiter(this,void 0,void 0,function(){return T.exports.__generator(this,function(c){return i.add("content-type"),Object.keys(t.headers).map(function(u){return u.toLowerCase()}).filter(function(u){return u.startsWith("x-amz-server-side-encryption")}).forEach(function(u){s.add(u)}),t.headers[gO]=hO,t.headers.host||(t.headers.host=t.hostname),[2,this.signer.presign(t,T.exports.__assign({expiresIn:900,unsignableHeaders:i,unhoistableHeaders:s},a))]})})},e}(),qS={exports:{}},Dl={exports:{}},jS=function(t,r){return function(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];return t.apply(r,i)}},vO=jS,nn=Object.prototype.toString;function Bl(e){return Array.isArray(e)}function Vc(e){return typeof e>"u"}function mO(e){return e!==null&&!Vc(e)&&e.constructor!==null&&!Vc(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function $S(e){return nn.call(e)==="[object ArrayBuffer]"}function yO(e){return nn.call(e)==="[object FormData]"}function wO(e){var t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&$S(e.buffer),t}function SO(e){return typeof e=="string"}function _O(e){return typeof e=="number"}function HS(e){return e!==null&&typeof e=="object"}function Ho(e){if(nn.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function bO(e){return nn.call(e)==="[object Date]"}function CO(e){return nn.call(e)==="[object File]"}function EO(e){return nn.call(e)==="[object Blob]"}function VS(e){return nn.call(e)==="[object Function]"}function xO(e){return HS(e)&&VS(e.pipe)}function AO(e){return nn.call(e)==="[object URLSearchParams]"}function IO(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function TO(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function Fl(e,t){if(!(e===null||typeof e>"u"))if(typeof e!="object"&&(e=[e]),Bl(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function Gc(){var e={};function t(i,o){Ho(e[o])&&Ho(i)?e[o]=Gc(e[o],i):Ho(i)?e[o]=Gc({},i):Bl(i)?e[o]=i.slice():e[o]=i}for(var r=0,n=arguments.length;r<n;r++)Fl(arguments[r],t);return e}function PO(e,t,r){return Fl(t,function(i,o){r&&typeof i=="function"?e[o]=vO(i,r):e[o]=i}),e}function kO(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}var Et={isArray:Bl,isArrayBuffer:$S,isBuffer:mO,isFormData:yO,isArrayBufferView:wO,isString:SO,isNumber:_O,isObject:HS,isPlainObject:Ho,isUndefined:Vc,isDate:bO,isFile:CO,isBlob:EO,isFunction:VS,isStream:xO,isURLSearchParams:AO,isStandardBrowserEnv:TO,forEach:Fl,merge:Gc,extend:PO,trim:IO,stripBOM:kO},Fn=Et;function ry(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var GS=function(t,r,n){if(!r)return t;var i;if(n)i=n(r);else if(Fn.isURLSearchParams(r))i=r.toString();else{var o=[];Fn.forEach(r,function(c,u){c===null||typeof c>"u"||(Fn.isArray(c)?u=u+"[]":c=[c],Fn.forEach(c,function(f){Fn.isDate(f)?f=f.toISOString():Fn.isObject(f)&&(f=JSON.stringify(f)),o.push(ry(u)+"="+ry(f))}))}),i=o.join("&")}if(i){var s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t},RO=Et;function Gs(){this.handlers=[]}Gs.prototype.use=function(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};Gs.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};Gs.prototype.forEach=function(t){RO.forEach(this.handlers,function(n){n!==null&&t(n)})};var OO=Gs,UO=Et,LO=function(t,r){UO.forEach(t,function(i,o){o!==r&&o.toUpperCase()===r.toUpperCase()&&(t[r]=i,delete t[o])})},WS=function(t,r,n,i,o){return t.config=r,n&&(t.code=n),t.request=i,t.response=o,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t},La,ny;function YS(){if(ny)return La;ny=1;var e=WS;return La=function(r,n,i,o,s){var a=new Error(r);return e(a,n,i,o,s)},La}var Ma,iy;function MO(){if(iy)return Ma;iy=1;var e=YS();return Ma=function(r,n,i){var o=i.config.validateStatus;!i.status||!o||o(i.status)?r(i):n(e("Request failed with status code "+i.status,i.config,null,i.request,i))},Ma}var Na,oy;function NO(){if(oy)return Na;oy=1;var e=Et;return Na=e.isStandardBrowserEnv()?function(){return{write:function(n,i,o,s,a,c){var u=[];u.push(n+"="+encodeURIComponent(i)),e.isNumber(o)&&u.push("expires="+new Date(o).toGMTString()),e.isString(s)&&u.push("path="+s),e.isString(a)&&u.push("domain="+a),c===!0&&u.push("secure"),document.cookie=u.join("; ")},read:function(n){var i=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Na}var Da,sy;function DO(){return sy||(sy=1,Da=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}),Da}var Ba,ay;function BO(){return ay||(ay=1,Ba=function(t,r){return r?t.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):t}),Ba}var Fa,uy;function FO(){if(uy)return Fa;uy=1;var e=DO(),t=BO();return Fa=function(n,i){return n&&!e(i)?t(n,i):i},Fa}var za,cy;function zO(){if(cy)return za;cy=1;var e=Et,t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return za=function(n){var i={},o,s,a;return n&&e.forEach(n.split(`
`),function(u){if(a=u.indexOf(":"),o=e.trim(u.substr(0,a)).toLowerCase(),s=e.trim(u.substr(a+1)),o){if(i[o]&&t.indexOf(o)>=0)return;o==="set-cookie"?i[o]=(i[o]?i[o]:[]).concat([s]):i[o]=i[o]?i[o]+", "+s:s}}),i},za}var Ka,ly;function KO(){if(ly)return Ka;ly=1;var e=Et;return Ka=e.isStandardBrowserEnv()?function(){var r=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),i;function o(s){var a=s;return r&&(n.setAttribute("href",a),a=n.href),n.setAttribute("href",a),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=o(window.location.href),function(a){var c=e.isString(a)?o(a):a;return c.protocol===i.protocol&&c.host===i.host}}():function(){return function(){return!0}}(),Ka}var qa,fy;function Ws(){if(fy)return qa;fy=1;function e(t){this.message=t}return e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,qa=e,qa}var ja,dy;function hy(){if(dy)return ja;dy=1;var e=Et,t=MO(),r=NO(),n=GS,i=FO(),o=zO(),s=KO(),a=YS(),c=Ys(),u=Ws();return ja=function(f){return new Promise(function(h,m){var y=f.data,_=f.headers,C=f.responseType,w;function A(){f.cancelToken&&f.cancelToken.unsubscribe(w),f.signal&&f.signal.removeEventListener("abort",w)}e.isFormData(y)&&delete _["Content-Type"];var I=new XMLHttpRequest;if(f.auth){var O=f.auth.username||"",D=f.auth.password?unescape(encodeURIComponent(f.auth.password)):"";_.Authorization="Basic "+btoa(O+":"+D)}var q=i(f.baseURL,f.url);I.open(f.method.toUpperCase(),n(q,f.params,f.paramsSerializer),!0),I.timeout=f.timeout;function L(){if(!!I){var k="getAllResponseHeaders"in I?o(I.getAllResponseHeaders()):null,U=!C||C==="text"||C==="json"?I.responseText:I.response,R={data:U,status:I.status,statusText:I.statusText,headers:k,config:f,request:I};t(function(V){h(V),A()},function(V){m(V),A()},R),I=null}}if("onloadend"in I?I.onloadend=L:I.onreadystatechange=function(){!I||I.readyState!==4||I.status===0&&!(I.responseURL&&I.responseURL.indexOf("file:")===0)||setTimeout(L)},I.onabort=function(){!I||(m(a("Request aborted",f,"ECONNABORTED",I)),I=null)},I.onerror=function(){m(a("Network Error",f,null,I)),I=null},I.ontimeout=function(){var U=f.timeout?"timeout of "+f.timeout+"ms exceeded":"timeout exceeded",R=f.transitional||c.transitional;f.timeoutErrorMessage&&(U=f.timeoutErrorMessage),m(a(U,f,R.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",I)),I=null},e.isStandardBrowserEnv()){var H=(f.withCredentials||s(q))&&f.xsrfCookieName?r.read(f.xsrfCookieName):void 0;H&&(_[f.xsrfHeaderName]=H)}"setRequestHeader"in I&&e.forEach(_,function(U,R){typeof y>"u"&&R.toLowerCase()==="content-type"?delete _[R]:I.setRequestHeader(R,U)}),e.isUndefined(f.withCredentials)||(I.withCredentials=!!f.withCredentials),C&&C!=="json"&&(I.responseType=f.responseType),typeof f.onDownloadProgress=="function"&&I.addEventListener("progress",f.onDownloadProgress),typeof f.onUploadProgress=="function"&&I.upload&&I.upload.addEventListener("progress",f.onUploadProgress),(f.cancelToken||f.signal)&&(w=function(k){!I||(m(!k||k&&k.type?new u("canceled"):k),I.abort(),I=null)},f.cancelToken&&f.cancelToken.subscribe(w),f.signal&&(f.signal.aborted?w():f.signal.addEventListener("abort",w))),y||(y=null),I.send(y)})},ja}var $a,gy;function Ys(){if(gy)return $a;gy=1;var e=Et,t=LO,r=WS,n={"Content-Type":"application/x-www-form-urlencoded"};function i(c,u){!e.isUndefined(c)&&e.isUndefined(c["Content-Type"])&&(c["Content-Type"]=u)}function o(){var c;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(c=hy()),c}function s(c,u,l){if(e.isString(c))try{return(u||JSON.parse)(c),e.trim(c)}catch(f){if(f.name!=="SyntaxError")throw f}return(l||JSON.stringify)(c)}var a={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:o(),transformRequest:[function(u,l){return t(l,"Accept"),t(l,"Content-Type"),e.isFormData(u)||e.isArrayBuffer(u)||e.isBuffer(u)||e.isStream(u)||e.isFile(u)||e.isBlob(u)?u:e.isArrayBufferView(u)?u.buffer:e.isURLSearchParams(u)?(i(l,"application/x-www-form-urlencoded;charset=utf-8"),u.toString()):e.isObject(u)||l&&l["Content-Type"]==="application/json"?(i(l,"application/json"),s(u)):u}],transformResponse:[function(u){var l=this.transitional||a.transitional,f=l&&l.silentJSONParsing,d=l&&l.forcedJSONParsing,h=!f&&this.responseType==="json";if(h||d&&e.isString(u)&&u.length)try{return JSON.parse(u)}catch(m){if(h)throw m.name==="SyntaxError"?r(m,this,"E_JSON_PARSE"):m}return u}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(u){return u>=200&&u<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};return e.forEach(["delete","get","head"],function(u){a.headers[u]={}}),e.forEach(["post","put","patch"],function(u){a.headers[u]=e.merge(n)}),$a=a,$a}var qO=Et,jO=Ys(),$O=function(t,r,n){var i=this||jO;return qO.forEach(n,function(s){t=s.call(i,t,r)}),t},Ha,py;function XS(){return py||(py=1,Ha=function(t){return!!(t&&t.__CANCEL__)}),Ha}var vy=Et,Va=$O,HO=XS(),VO=Ys(),GO=Ws();function Ga(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new GO("canceled")}var WO=function(t){Ga(t),t.headers=t.headers||{},t.data=Va.call(t,t.data,t.headers,t.transformRequest),t.headers=vy.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),vy.forEach(["delete","get","head","post","put","patch","common"],function(i){delete t.headers[i]});var r=t.adapter||VO.adapter;return r(t).then(function(i){return Ga(t),i.data=Va.call(t,i.data,i.headers,t.transformResponse),i},function(i){return HO(i)||(Ga(t),i&&i.response&&(i.response.data=Va.call(t,i.response.data,i.response.headers,t.transformResponse))),Promise.reject(i)})},At=Et,JS=function(t,r){r=r||{};var n={};function i(l,f){return At.isPlainObject(l)&&At.isPlainObject(f)?At.merge(l,f):At.isPlainObject(f)?At.merge({},f):At.isArray(f)?f.slice():f}function o(l){if(At.isUndefined(r[l])){if(!At.isUndefined(t[l]))return i(void 0,t[l])}else return i(t[l],r[l])}function s(l){if(!At.isUndefined(r[l]))return i(void 0,r[l])}function a(l){if(At.isUndefined(r[l])){if(!At.isUndefined(t[l]))return i(void 0,t[l])}else return i(void 0,r[l])}function c(l){if(l in r)return i(t[l],r[l]);if(l in t)return i(void 0,t[l])}var u={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c};return At.forEach(Object.keys(t).concat(Object.keys(r)),function(f){var d=u[f]||o,h=d(f);At.isUndefined(h)&&d!==c||(n[f]=h)}),n},Wa,my;function ZS(){return my||(my=1,Wa={version:"0.26.0"}),Wa}var YO=ZS().version,zl={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){zl[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var yy={};zl.transitional=function(t,r,n){function i(o,s){return"[Axios v"+YO+"] Transitional option '"+o+"'"+s+(n?". "+n:"")}return function(o,s,a){if(t===!1)throw new Error(i(s," has been removed"+(r?" in "+r:"")));return r&&!yy[s]&&(yy[s]=!0,console.warn(i(s," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(o,s,a):!0}};function XO(e,t,r){if(typeof e!="object")throw new TypeError("options must be an object");for(var n=Object.keys(e),i=n.length;i-- >0;){var o=n[i],s=t[o];if(s){var a=e[o],c=a===void 0||s(a,o,e);if(c!==!0)throw new TypeError("option "+o+" must be "+c);continue}if(r!==!0)throw Error("Unknown option "+o)}}var JO={assertOptions:XO,validators:zl},QS=Et,ZO=GS,wy=OO,Sy=WO,Xs=JS,e_=JO,zn=e_.validators;function vo(e){this.defaults=e,this.interceptors={request:new wy,response:new wy}}vo.prototype.request=function(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Xs(this.defaults,r),r.method?r.method=r.method.toLowerCase():this.defaults.method?r.method=this.defaults.method.toLowerCase():r.method="get";var n=r.transitional;n!==void 0&&e_.assertOptions(n,{silentJSONParsing:zn.transitional(zn.boolean),forcedJSONParsing:zn.transitional(zn.boolean),clarifyTimeoutError:zn.transitional(zn.boolean)},!1);var i=[],o=!0;this.interceptors.request.forEach(function(h){typeof h.runWhen=="function"&&h.runWhen(r)===!1||(o=o&&h.synchronous,i.unshift(h.fulfilled,h.rejected))});var s=[];this.interceptors.response.forEach(function(h){s.push(h.fulfilled,h.rejected)});var a;if(!o){var c=[Sy,void 0];for(Array.prototype.unshift.apply(c,i),c=c.concat(s),a=Promise.resolve(r);c.length;)a=a.then(c.shift(),c.shift());return a}for(var u=r;i.length;){var l=i.shift(),f=i.shift();try{u=l(u)}catch(d){f(d);break}}try{a=Sy(u)}catch(d){return Promise.reject(d)}for(;s.length;)a=a.then(s.shift(),s.shift());return a};vo.prototype.getUri=function(t){return t=Xs(this.defaults,t),ZO(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};QS.forEach(["delete","get","head","options"],function(t){vo.prototype[t]=function(r,n){return this.request(Xs(n||{},{method:t,url:r,data:(n||{}).data}))}});QS.forEach(["post","put","patch"],function(t){vo.prototype[t]=function(r,n,i){return this.request(Xs(i||{},{method:t,url:r,data:n}))}});var QO=vo,Ya,_y;function eU(){if(_y)return Ya;_y=1;var e=Ws();function t(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(s){n=s});var i=this;this.promise.then(function(o){if(!!i._listeners){var s,a=i._listeners.length;for(s=0;s<a;s++)i._listeners[s](o);i._listeners=null}}),this.promise.then=function(o){var s,a=new Promise(function(c){i.subscribe(c),s=c}).then(o);return a.cancel=function(){i.unsubscribe(s)},a},r(function(s){i.reason||(i.reason=new e(s),n(i.reason))})}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.prototype.subscribe=function(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]},t.prototype.unsubscribe=function(n){if(!!this._listeners){var i=this._listeners.indexOf(n);i!==-1&&this._listeners.splice(i,1)}},t.source=function(){var n,i=new t(function(s){n=s});return{token:i,cancel:n}},Ya=t,Ya}var Xa,by;function tU(){return by||(by=1,Xa=function(t){return function(n){return t.apply(null,n)}}),Xa}var Ja,Cy;function rU(){if(Cy)return Ja;Cy=1;var e=Et;return Ja=function(r){return e.isObject(r)&&r.isAxiosError===!0},Ja}var Ey=Et,nU=jS,Vo=QO,iU=JS,oU=Ys();function t_(e){var t=new Vo(e),r=nU(Vo.prototype.request,t);return Ey.extend(r,Vo.prototype,t),Ey.extend(r,t),r.create=function(i){return t_(iU(e,i))},r}var vr=t_(oU);vr.Axios=Vo;vr.Cancel=Ws();vr.CancelToken=eU();vr.isCancel=XS();vr.VERSION=ZS().version;vr.all=function(t){return Promise.all(t)};vr.spread=tU();vr.isAxiosError=rU();Dl.exports=vr;Dl.exports.default=vr;(function(e){e.exports=Dl.exports})(qS);const Qr=w1(qS.exports);var xr;(function(e){e.NO_CREDENTIALS="No credentials",e.NO_SRC_KEY='source param should be an object with the property "key" with value of type string',e.NO_DEST_KEY='destination param should be an object with the property "key" with value of type string',e.INVALID_BLOB="Object must be an instance of Blob"})(xr||(xr={}));var xy;(function(e){e.CLEANUP_FAILED="Multipart copy clean up failed",e.NO_OBJECT_FOUND="Object does not exist",e.INVALID_QUEUESIZE="Queue size must be a positive number",e.NO_COPYSOURCE="You must specify a copy source",e.MAX_NUM_PARTS_EXCEEDED="Only a maximum of 10000 parts are allowed"})(xy||(xy={}));var so;(function(e){e.UPLOAD_PAUSED_MESSAGE="paused"})(so||(so={}));var sU=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},aU=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o},Za=new qe("axios-http-handler"),zi="sendUploadProgress",ds="sendDownloadProgress";function uU(e){return typeof Blob<"u"&&e instanceof Blob}function cU(e){return typeof e<"u"&&Object.prototype.hasOwnProperty.call(e,"response")&&typeof e.response<"u"&&Object.prototype.hasOwnProperty.call(e.response,"status")&&typeof e.response.status=="number"}var Ay=function(e,t){var r,n;try{for(var i=sU(Object.entries(e)),o=i.next();!o.done;o=i.next()){var s=aU(o.value,2),a=s[0],c=s[1];a!==t&&a.toUpperCase()===t.toUpperCase()&&(e[t]=c,delete e[a])}}catch(u){r={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},lU=[function(e,t){return uU(e)?(Ay(t,"Content-Type"),Ay(t,"Accept"),e):Qr.defaults.transformRequest[0].call(null,e,t)}],fU=function(){function e(t,r,n){t===void 0&&(t={}),this.httpOptions=t,this.emitter=r,this.cancelTokenSource=n}return e.prototype.destroy=function(){},e.prototype.handle=function(t,r){var n=this.httpOptions.requestTimeout,i=r.emitter||this.emitter,o=t.path;if(t.query){var s=Al(t.query);s&&(o+="?"+s)}var a=t.port,c=t.protocol+"//"+t.hostname+(a?":"+a:"")+o,u={};u.url=c,u.method=t.method,u.headers=t.headers,delete u.headers.host,t.body?u.data=t.body:u.headers[Object.keys(u.headers).find(function(f){return f.toLowerCase()==="content-type"})]&&(u.data=null),i&&(u.onUploadProgress=function(f){i.emit(zi,f),Za.debug(f)},u.onDownloadProgress=function(f){i.emit(ds,f),Za.debug(f)}),this.cancelTokenSource&&(u.cancelToken=this.cancelTokenSource.token),r.cancelTokenSource&&(u.cancelToken=r.cancelTokenSource.token),u.responseType="blob",Ar.isReactNative&&(u.transformRequest=lU);var l=[Qr.request(u).then(function(f){return{response:new Qi({headers:f.headers,statusCode:f.status,body:f.data})}}).catch(function(f){var d,h;if(f.message!==so.UPLOAD_PAUSED_MESSAGE&&Za.error(f.message),Qr.isCancel(f)||!cU(f))throw f;return{response:new Qi({statusCode:f.response.status,body:(d=f.response)===null||d===void 0?void 0:d.data,headers:(h=f.response)===null||h===void 0?void 0:h.headers})}}),dU(n)];return Promise.race(l)},e}();function dU(e){return e===void 0&&(e=0),new Promise(function(t,r){e&&setTimeout(function(){var n=new Error("Request did not complete within "+e+" ms");n.name="TimeoutError",r(n)},e)})}var hU=typeof Symbol<"u"&&typeof Symbol.for=="function"?Symbol.for("amplify_default"):"@@amplify_default",r_="contentLengthMiddleware",gU="http://localhost:20005",Oi="__uploadInProgress",pU=function(e){if(typeof e=="string")return e.length;if(yU(e))return e.byteLength;if(mU(e))return e.size;throw new Error("Cannot determine byte length of "+e)},It=function(e,t,r,n,i){if(e){var o={attrs:r};n&&(o.metrics=n),ar.dispatch("storage",{event:t,data:o,message:i},"Storage",hU)}},vU=function(e){return typeof e<"u"&&e instanceof File},mU=function(e){return typeof e<"u"&&e instanceof Blob},yU=function(e){return typeof e<"u"&&e instanceof ArrayBuffer},ci=globalThis&&globalThis.__assign||function(){return ci=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},ci.apply(this,arguments)},Kl=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(f){s(f)}}function c(l){try{u(n.throw(l))}catch(f){s(f)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})},ql=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Iy=new qe("S3ClientUtils"),Ty={accessKeyId:"",secretAccessKey:""},n_=function(e){var t=e.credentials,r=e.level,n=e.customPrefix,i=e.identityId,o=n||{},s=i||t.identityId,a=(o.private!==void 0?o.private:"private/")+s+"/",c=(o.protected!==void 0?o.protected:"protected/")+s+"/",u=o.public!==void 0?o.public:"public/";switch(r){case"private":return a;case"protected":return c;default:return u}},i_=function(e,t){return function(r,n){return function(i){return Kl(void 0,void 0,void 0,function(){var o,s,a,c,u;return ql(this,function(l){switch(l.label){case 0:return[4,cr.get()];case 1:return o=l.sent(),s=cr.shear(o),a=n_(ci(ci({},e),{credentials:s})),c=Object.assign({},i.input),Object.prototype.hasOwnProperty.call(i.input,"Key")?(c.Key=a+t,i.input=c):Object.prototype.hasOwnProperty.call(i.input,"Prefix")&&(c.Prefix=a+t,i.input=c),u=r(i),[2,u]}})})}}},wU=function(e){return e.ServerTime&&typeof e.Code=="string"&&e.Code==="RequestTimeTooSkewed"},o_=function(e){return function(t,r){return function(n){return Kl(void 0,void 0,void 0,function(){var i,o;return ql(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,t(n)];case 1:return[2,s.sent()];case 2:throw i=s.sent(),wU(i)&&(o=new Date(i.ServerTime),e.systemClockOffset=o.getTime()-Date.now()),i;case 3:return[2]}})})}}},s_={step:"finalizeRequest",name:"autoAdjustClockskewMiddleware"},a_={step:"initialize",name:"addPrefixMiddleware"},SU=function(){return Kl(void 0,void 0,void 0,function(){var e,t,r;return ql(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,cr.get()];case 1:return e=n.sent(),e?(t=cr.shear(e),Iy.debug("credentials provider get credentials",t),[2,t]):[2,Ty];case 2:return r=n.sent(),Iy.warn("credentials provider error",r),[2,Ty];case 3:return[2]}})})},u_=function(e,t){var r=e.region,n=e.cancelTokenSource,i=e.dangerouslyConnectToHttpEndpointForTesting,o=e.useAccelerateEndpoint,s={};i&&(s={endpoint:gU,tls:!1,bucketEndpoint:!1,forcePathStyle:!0});var a=new Dk(ci(ci({region:r,credentials:SU,customUserAgent:qo()},s),{requestHandler:new fU({},t,n),useAccelerateEndpoint:o}));return a.middlewareStack.remove(r_),a},ao={exports:{}},ii=typeof Reflect=="object"?Reflect:null,Py=ii&&typeof ii.apply=="function"?ii.apply:function(t,r,n){return Function.prototype.apply.call(t,r,n)},Go;ii&&typeof ii.ownKeys=="function"?Go=ii.ownKeys:Object.getOwnPropertySymbols?Go=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Go=function(t){return Object.getOwnPropertyNames(t)};function _U(e){console&&console.warn&&console.warn(e)}var c_=Number.isNaN||function(t){return t!==t};function Ne(){Ne.init.call(this)}ao.exports=Ne;ao.exports.once=xU;Ne.EventEmitter=Ne;Ne.prototype._events=void 0;Ne.prototype._eventsCount=0;Ne.prototype._maxListeners=void 0;var ky=10;function Js(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Ne,"defaultMaxListeners",{enumerable:!0,get:function(){return ky},set:function(e){if(typeof e!="number"||e<0||c_(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");ky=e}});Ne.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Ne.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||c_(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function l_(e){return e._maxListeners===void 0?Ne.defaultMaxListeners:e._maxListeners}Ne.prototype.getMaxListeners=function(){return l_(this)};Ne.prototype.emit=function(t){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=t==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var s;if(r.length>0&&(s=r[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=o[t];if(c===void 0)return!1;if(typeof c=="function")Py(c,this,r);else for(var u=c.length,l=p_(c,u),n=0;n<u;++n)Py(l[n],this,r);return!0};function f_(e,t,r,n){var i,o,s;if(Js(r),o=e._events,o===void 0?(o=e._events=Object.create(null),e._eventsCount=0):(o.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),s=o[t]),s===void 0)s=o[t]=r,++e._eventsCount;else if(typeof s=="function"?s=o[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),i=l_(e),i>0&&s.length>i&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=s.length,_U(a)}return e}Ne.prototype.addListener=function(t,r){return f_(this,t,r,!1)};Ne.prototype.on=Ne.prototype.addListener;Ne.prototype.prependListener=function(t,r){return f_(this,t,r,!0)};function bU(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d_(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=bU.bind(n);return i.listener=r,n.wrapFn=i,i}Ne.prototype.once=function(t,r){return Js(r),this.on(t,d_(this,t,r)),this};Ne.prototype.prependOnceListener=function(t,r){return Js(r),this.prependListener(t,d_(this,t,r)),this};Ne.prototype.removeListener=function(t,r){var n,i,o,s,a;if(Js(r),i=this._events,i===void 0)return this;if(n=i[t],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||r));else if(typeof n!="function"){for(o=-1,s=n.length-1;s>=0;s--)if(n[s]===r||n[s].listener===r){a=n[s].listener,o=s;break}if(o<0)return this;o===0?n.shift():CU(n,o),n.length===1&&(i[t]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",t,a||r)}return this};Ne.prototype.off=Ne.prototype.removeListener;Ne.prototype.removeAllListeners=function(t){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var o=Object.keys(n),s;for(i=0;i<o.length;++i)s=o[i],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(t,r[i]);return this};function h_(e,t,r){var n=e._events;if(n===void 0)return[];var i=n[t];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?EU(i):p_(i,i.length)}Ne.prototype.listeners=function(t){return h_(this,t,!0)};Ne.prototype.rawListeners=function(t){return h_(this,t,!1)};Ne.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):g_.call(e,t)};Ne.prototype.listenerCount=g_;function g_(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}Ne.prototype.eventNames=function(){return this._eventsCount>0?Go(this._events):[]};function p_(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function CU(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function EU(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function xU(e,t){return new Promise(function(r,n){function i(s){e.removeListener(t,o),n(s)}function o(){typeof e.removeListener=="function"&&e.removeListener("error",i),r([].slice.call(arguments))}v_(e,t,o,{once:!0}),t!=="error"&&AU(e,i,{once:!0})})}function AU(e,t,r){typeof e.on=="function"&&v_(e,"error",t,r)}function v_(e,t,r,n){if(typeof e.on=="function")n.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,function i(o){n.once&&e.removeEventListener(t,i),r(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var Ki=globalThis&&globalThis.__assign||function(){return Ki=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Ki.apply(this,arguments)},hn=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(f){s(f)}}function c(l){try{u(n.throw(l))}catch(f){s(f)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})},gn=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Kn=new qe("AWSS3ProviderManagedUpload"),IU=function(){function e(t,r,n){this.minPartSize=5*1024*1024,this.queueSize=4,this.body=null,this.params=null,this.opts=null,this.completedParts=[],this.uploadId=null,this.bytesUploaded=0,this.totalBytesToUpload=0,this.emitter=null,this.params=t,this.opts=r,this.emitter=n,this.s3client=this._createNewS3Client(r,n)}return e.prototype.upload=function(){return hn(this,void 0,void 0,function(){var t,r,n,i,o,s,a,c=this;return gn(this,function(u){switch(u.label){case 0:return u.trys.push([0,10,,12]),t=this,[4,this.validateAndSanitizeBody(this.params.Body)];case 1:return t.body=u.sent(),this.totalBytesToUpload=this.byteLength(this.body),this.totalBytesToUpload<=this.minPartSize?(this.params.Body=this.body,r=new lO(this.params),[2,this.s3client.send(r)]):[3,2];case 2:return n=this,[4,this.createMultiPartUpload()];case 3:n.uploadId=u.sent(),i=Math.ceil(this.totalBytesToUpload/this.minPartSize),o=this.createParts(),s=0,u.label=4;case 4:return s<i?[4,this.uploadParts(this.uploadId,o.slice(s,s+this.queueSize))]:[3,7];case 5:u.sent(),u.label=6;case 6:return s+=this.queueSize,[3,4];case 7:return o.map(function(l){c.removeEventListener(l)}),[4,this.finishMultiPartUpload(this.uploadId)];case 8:return[2,u.sent()];case 9:return[3,12];case 10:return a=u.sent(),[4,this.cleanup(this.uploadId)];case 11:throw u.sent(),Kn.error("Error. Cancelling the multipart upload."),a;case 12:return[2]}})})},e.prototype.createParts=function(){try{for(var t=[],r=0;r<this.totalBytesToUpload;){var n=Math.min(r+this.minPartSize,this.totalBytesToUpload);t.push({bodyPart:this.body.slice(r,n),partNumber:t.length+1,emitter:new ao.exports.EventEmitter,_lastUploadedBytes:0}),r+=this.minPartSize}return t}catch(i){throw Kn.error(i),i}},e.prototype.createMultiPartUpload=function(){return hn(this,void 0,void 0,function(){var t,r,n;return gn(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),t=new BS(this.params),[4,this.s3client.send(t)];case 1:return r=i.sent(),Kn.debug(r.UploadId),[2,r.UploadId];case 2:throw n=i.sent(),Kn.error(n),n;case 3:return[2]}})})},e.prototype.uploadParts=function(t,r){return hn(this,void 0,void 0,function(){var n,i,o,s=this;return gn(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,Promise.all(r.map(function(c){return hn(s,void 0,void 0,function(){var u,l,f,d,h,m,y,_;return gn(this,function(C){switch(C.label){case 0:return this.setupEventListener(c),u={emitter:c.emitter},l=this.params,f=l.Key,d=l.Bucket,h=l.SSECustomerAlgorithm,m=l.SSECustomerKey,y=l.SSECustomerKeyMD5,[4,this.s3client.send(new KS(Ki(Ki(Ki({PartNumber:c.partNumber,Body:c.bodyPart,UploadId:t,Key:f,Bucket:d},h&&{SSECustomerAlgorithm:h}),m&&{SSECustomerKey:m}),y&&{SSECustomerKeyMD5:y})),u)];case 1:return _=C.sent(),[2,_]}})})}))];case 1:for(n=a.sent(),i=0;i<n.length;i++)this.completedParts.push({PartNumber:r[i].partNumber,ETag:n[i].ETag});return[3,3];case 2:throw o=a.sent(),Kn.error("Error happened while uploading a part. Cancelling the multipart upload"),o;case 3:return[2]}})})},e.prototype.finishMultiPartUpload=function(t){return hn(this,void 0,void 0,function(){var r,n,i,o;return gn(this,function(s){switch(s.label){case 0:r={Bucket:this.params.Bucket,Key:this.params.Key,UploadId:t,MultipartUpload:{Parts:this.completedParts}},n=new DS(r),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.s3client.send(n)];case 2:return i=s.sent(),[2,i.Key];case 3:throw o=s.sent(),Kn.error("Error happened while finishing the upload."),o;case 4:return[2]}})})},e.prototype.cleanup=function(t){return hn(this,void 0,void 0,function(){var r,n;return gn(this,function(i){switch(i.label){case 0:return this.body=null,this.completedParts=[],this.bytesUploaded=0,this.totalBytesToUpload=0,r={Bucket:this.params.Bucket,Key:this.params.Key,UploadId:t},[4,this.s3client.send(new NS(r))];case 1:return i.sent(),[4,this.s3client.send(new zS(r))];case 2:if(n=i.sent(),n&&n.Parts&&n.Parts.length>0)throw new Error("Multipart upload clean up failed.");return[2]}})})},e.prototype.removeEventListener=function(t){t.emitter.removeAllListeners(zi),t.emitter.removeAllListeners(ds)},e.prototype.setupEventListener=function(t){var r=this;t.emitter.on(zi,function(n){r.progressChanged(t.partNumber,n.loaded-t._lastUploadedBytes),t._lastUploadedBytes=n.loaded})},e.prototype.progressChanged=function(t,r){this.bytesUploaded+=r,this.emitter.emit(zi,{loaded:this.bytesUploaded,total:this.totalBytesToUpload,part:t,key:this.params.Key})},e.prototype.byteLength=function(t){if(t==null)return 0;if(typeof t.byteLength=="number")return t.byteLength;if(typeof t.length=="number")return t.length;if(typeof t.size=="number")return t.size;if(typeof t.path!="string")throw new Error("Cannot determine length of "+t)},e.prototype.validateAndSanitizeBody=function(t){return hn(this,void 0,void 0,function(){return gn(this,function(r){return this.isGenericObject(t)?[2,JSON.stringify(t)]:[2,t]})})},e.prototype.isGenericObject=function(t){if(t!==null&&typeof t=="object")try{return!(this.byteLength(t)>=0)}catch{return!0}return!1},e.prototype._createNewS3Client=function(t,r){var n=u_(t,r);return n.middlewareStack.add(i_(this.opts,this.params.Key),a_),n.middlewareStack.add(o_(n.config),s_),n},e}(),Tt=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(f){s(f)}}function c(l){try{u(n.throw(l))}catch(f){s(f)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})},Pt=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},TU=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o},PU=globalThis&&globalThis.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(TU(arguments[t]));return e},_t=new qe("AWSS3UploadTask"),Ve;(function(e){e[e.INIT=0]="INIT",e[e.IN_PROGRESS=1]="IN_PROGRESS",e[e.PAUSED=2]="PAUSED",e[e.CANCELLED=3]="CANCELLED",e[e.COMPLETED=4]="COMPLETED"})(Ve||(Ve={}));var Wt;(function(e){e.CANCEL="cancel",e.UPLOAD_COMPLETE="uploadComplete",e.UPLOAD_PROGRESS="uploadPartProgress",e.ERROR="error"})(Wt||(Wt={}));var Ry=1e4,kU=5*1024*1024,RU=4;function OU(e,t){return e.PartNumber-t.PartNumber}var m_=function(){function e(t){var r=t.s3Client,n=t.file,i=t.emitter,o=t.storage,s=t.params,a=t.level,c=t.prefixPromise;this.partSize=kU,this.queueSize=RU,this.inProgress=[],this.completedParts=[],this.queued=[],this.bytesUploaded=0,this.totalBytes=0,this.state=Ve.INIT,this.prefixPromise=c,this.s3client=r,this.s3client.middlewareStack.remove(r_),this.storage=o,this.storageSync=Promise.resolve(),typeof this.storage.sync=="function"&&(this.storageSync=this.storage.sync()),this.params=s,this.file=n,this.totalBytes=this.file.size,this.bytesUploaded=0,this.emitter=i,this.queued=[],this.fileId=this._getFileId(a),this._validateParams(),this.emitter.on(Wt.ERROR,function(){})}return Object.defineProperty(e.prototype,"percent",{get:function(){return this.bytesUploaded/this.totalBytes*100},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isInProgress",{get:function(){return this.state===Ve.IN_PROGRESS},enumerable:!0,configurable:!0}),e.prototype._listSingleFile=function(t){var r=t.key,n=t.bucket;return Tt(this,void 0,void 0,function(){var i,o,s,a,c;return Pt(this,function(u){switch(u.label){case 0:return[4,this.s3client.send(new FS({Bucket:n,Prefix:r}))];case 1:return i=u.sent(),o=i.Contents,s=o===void 0?[]:o,[4,this.prefixPromise];case 2:return a=u.sent(),c=s.find(function(l){return l.Key===""+a+r}),[2,c]}})})},e.prototype._getFileId=function(t){return vU(this.file)?[this.file.name,this.file.lastModified,this.file.size,this.file.type,this.params.Bucket,t,this.params.Key].join("-"):[this.file.size,this.file.type,this.params.Bucket,t,this.params.Key].join("-")},e.prototype._findCachedUploadParts=function(){return Tt(this,void 0,void 0,function(){var t,r,n;return Pt(this,function(i){switch(i.label){case 0:return[4,this._listCachedUploadTasks()];case 1:return t=i.sent(),Object.keys(t).length===0||!Object.prototype.hasOwnProperty.call(t,this.fileId)?[2,{parts:[],uploadId:null}]:(r=t[this.fileId],r.lastTouched=Date.now(),this.storage.setItem(Oi,JSON.stringify(t)),[4,this.s3client.send(new zS({Bucket:this.params.Bucket,Key:this.params.Key,UploadId:r.uploadId}))]);case 2:return n=i.sent(),[2,{parts:n.Parts||[],uploadId:r.uploadId}]}})})},e.prototype._emitEvent=function(t,r){this.emitter.emit(t,r)},e.prototype._validateParams=function(){if(this.file.size/this.partSize>Ry)throw new Error("Too many parts. Number of parts is "+this.file.size/this.partSize+", maximum is "+Ry+".")},e.prototype._listCachedUploadTasks=function(){return Tt(this,void 0,void 0,function(){var t;return Pt(this,function(r){switch(r.label){case 0:return[4,this.storageSync];case 1:return r.sent(),t=this.storage.getItem(Oi)||"{}",[2,JSON.parse(t)]}})})},e.prototype._cache=function(t){return Tt(this,void 0,void 0,function(){var r;return Pt(this,function(n){switch(n.label){case 0:return[4,this._listCachedUploadTasks()];case 1:return r=n.sent(),r[this.fileId]=t,this.storage.setItem(Oi,JSON.stringify(r)),[2]}})})},e.prototype._isCached=function(){return Tt(this,void 0,void 0,function(){var t,r;return Pt(this,function(n){switch(n.label){case 0:return r=(t=Object.prototype.hasOwnProperty).call,[4,this._listCachedUploadTasks()];case 1:return[2,r.apply(t,[n.sent(),this.fileId])]}})})},e.prototype._removeFromCache=function(){return Tt(this,void 0,void 0,function(){var t;return Pt(this,function(r){switch(r.label){case 0:return[4,this._listCachedUploadTasks()];case 1:return t=r.sent(),delete t[this.fileId],this.storage.setItem(Oi,JSON.stringify(t)),[2]}})})},e.prototype._onPartUploadCompletion=function(t){var r=t.eTag,n=t.partNumber,i=t.chunk;return Tt(this,void 0,void 0,function(){return Pt(this,function(o){return this.completedParts.push({ETag:r,PartNumber:n}),this.bytesUploaded+=pU(i),this._emitEvent(Wt.UPLOAD_PROGRESS,{loaded:this.bytesUploaded,total:this.totalBytes}),this.inProgress=this.inProgress.filter(function(s){return s.uploadPartInput.PartNumber!==n}),this.queued.length&&this.state!==Ve.PAUSED&&this._startNextPart(),this._isDone()&&this._completeUpload(),[2]})})},e.prototype._completeUpload=function(){return Tt(this,void 0,void 0,function(){var t;return Pt(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.s3client.send(new DS({Bucket:this.params.Bucket,Key:this.params.Key,UploadId:this.uploadId,MultipartUpload:{Parts:this.completedParts.sort(OU)}}))];case 1:return r.sent(),this._verifyFileSize(),this._emitEvent(Wt.UPLOAD_COMPLETE,{key:this.params.Bucket+"/"+this.params.Key}),this._removeFromCache(),this.state=Ve.COMPLETED,[3,3];case 2:return t=r.sent(),_t.error("error completing upload",t),this._emitEvent(Wt.ERROR,t),[3,3];case 3:return[2]}})})},e.prototype._makeUploadPartRequest=function(t,r){return Tt(this,void 0,void 0,function(){var n,i;return Pt(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,this.s3client.send(new KS(t),{cancelTokenSource:r})];case 1:return n=o.sent(),[4,this._onPartUploadCompletion({eTag:n.ETag,partNumber:t.PartNumber,chunk:t.Body})];case 2:return o.sent(),[3,4];case 3:return i=o.sent(),this.state===Ve.PAUSED?_t.log("upload paused"):this.state===Ve.CANCELLED?_t.log("upload aborted"):_t.error("error starting next part of upload: ",i),!Qr.isCancel(i)&&i.message!==so.UPLOAD_PAUSED_MESSAGE&&(this._emitEvent(Wt.ERROR,i),this.pause()),[3,4];case 4:return[2]}})})},e.prototype._startNextPart=function(){if(this.queued.length>0&&this.state!==Ve.PAUSED){var t=Qr.CancelToken.source(),r=this.queued.shift();this.inProgress.push({uploadPartInput:r,s3Request:this._makeUploadPartRequest(r,t),cancel:t.cancel})}},e.prototype._verifyFileSize=function(){return Tt(this,void 0,void 0,function(){var t,r;return Pt(this,function(n){switch(n.label){case 0:return[4,this._listSingleFile({key:this.params.Key,bucket:this.params.Bucket})];case 1:if(t=n.sent(),r=Boolean(t&&t.Size===this.file.size),!r)throw new Error("File size does not match between local file and file on s3");return[2,r]}})})},e.prototype._isDone=function(){return!this.queued.length&&!this.inProgress.length&&this.bytesUploaded===this.totalBytes},e.prototype._createParts=function(){for(var t=this.file.size,r=[],n=0;n<t;){var i=Math.min(n+this.partSize,t);r.push({Body:this.file.slice(n,i),Key:this.params.Key,Bucket:this.params.Bucket,PartNumber:r.length+1,UploadId:this.uploadId}),n+=this.partSize}return r},e.prototype._initCachedUploadParts=function(t){this.bytesUploaded+=t.reduce(function(n,i){return n+i.Size},0);var r=new Set(t.map(function(n){return n.PartNumber}));this.queued=this.queued.filter(function(n){return!r.has(n.PartNumber)}),this.completedParts=t.map(function(n){return{PartNumber:n.PartNumber,ETag:n.ETag}}),this._emitEvent(Wt.UPLOAD_PROGRESS,{loaded:this.bytesUploaded,total:this.totalBytes})},e.prototype._initMultipartUpload=function(){return Tt(this,void 0,void 0,function(){var t;return Pt(this,function(r){switch(r.label){case 0:return[4,this.s3client.send(new BS(this.params))];case 1:return t=r.sent(),this._cache({uploadId:t.UploadId,lastTouched:Date.now(),bucket:this.params.Bucket,key:this.params.Key,fileName:this.file instanceof File?this.file.name:""}),[2,t.UploadId]}})})},e.prototype._initializeUploadTask=function(){return Tt(this,void 0,void 0,function(){var t,r,n,n,i;return Pt(this,function(o){switch(o.label){case 0:this.state=Ve.IN_PROGRESS,o.label=1;case 1:return o.trys.push([1,7,,8]),[4,this._isCached()];case 2:return o.sent()?[4,this._findCachedUploadParts()]:[3,4];case 3:return t=o.sent(),r=t.parts,n=t.uploadId,this.uploadId=n,this.queued=this._createParts(),this._initCachedUploadParts(r),this._startUpload(),[3,6];case 4:return this.uploadId?[3,6]:[4,this._initMultipartUpload()];case 5:n=o.sent(),this.uploadId=n,this.queued=this._createParts(),this._startUpload(),o.label=6;case 6:return[3,8];case 7:return i=o.sent(),Qr.isCancel(i)||_t.error("Error initializing the upload task",i),[3,8];case 8:return[2]}})})},e.prototype.resume=function(){this.state===Ve.CANCELLED?_t.warn("This task has already been cancelled"):this.state===Ve.COMPLETED?_t.warn("This task has already been completed"):this.state===Ve.IN_PROGRESS?_t.warn("Upload task already in progress"):this.uploadId?this._startUpload():this._initializeUploadTask()},e.prototype._startUpload=function(){this.state=Ve.IN_PROGRESS;for(var t=0;t<this.queueSize;t++)this._startNextPart()},e.prototype._cancel=function(){return Tt(this,void 0,void 0,function(){var t;return Pt(this,function(r){switch(r.label){case 0:return this.state!==Ve.CANCELLED?[3,1]:(_t.warn("This task has already been cancelled"),[2,!1]);case 1:return this.state!==Ve.COMPLETED?[3,2]:(_t.warn("This task has already been completed"),[2,!1]);case 2:this.pause(),this.queued=[],this.completedParts=[],this.bytesUploaded=0,this.state=Ve.CANCELLED,r.label=3;case 3:return r.trys.push([3,6,,7]),[4,this.s3client.send(new NS({Bucket:this.params.Bucket,Key:this.params.Key,UploadId:this.uploadId}))];case 4:return r.sent(),[4,this._removeFromCache()];case 5:return r.sent(),[2,!0];case 6:return t=r.sent(),_t.error("Error cancelling upload task",t),[2,!1];case 7:return[2]}})})},e.prototype.pause=function(){var t;this.state===Ve.CANCELLED?_t.warn("This task has already been cancelled"):this.state===Ve.COMPLETED?_t.warn("This task has already been completed"):this.state===Ve.PAUSED&&_t.warn("This task is already paused"),this.state=Ve.PAUSED;var r=this.inProgress.splice(0,this.inProgress.length);r.forEach(function(n){n.cancel(so.UPLOAD_PAUSED_MESSAGE)}),(t=this.queued).unshift.apply(t,PU(r.map(function(n){return n.uploadPartInput})))},e}(),Vt=globalThis&&globalThis.__assign||function(){return Vt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Vt.apply(this,arguments)},qn=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(f){s(f)}}function c(l){try{u(n.throw(l))}catch(f){s(f)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})},jn=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},UU=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o},Oy=globalThis&&globalThis.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(UU(arguments[t]));return e},$e=new qe("AWSS3Provider"),Uy="public",LU=900,MU=function(){function e(t){var r=this;this._config=t||{},this._storage=new zs().getStorage(),ar.listen("auth",function(n){var i=n.payload;(i.event==="signOut"||i.event==="signIn")&&r._storage.removeItem(Oi)}),$e.debug("Storage Options",this._config)}return e.prototype.getCategory=function(){return e.CATEGORY},e.prototype.getProviderName=function(){return e.PROVIDER_NAME},e.prototype.configure=function(t){if($e.debug("configure Storage",t),!t)return this._config;var r=_l.parseMobilehubConfig(t);return this._config=Object.assign({},this._config,r.Storage),this._config.bucket||$e.debug("Do not have bucket yet"),this._config},e.prototype.startResumableUpload=function(t,r){var n=t.s3Client,i=t.emitter,o=t.key,s=t.file,a=t.params,c=r.progressCallback,u=r.completeCallback,l=r.errorCallback,f=r.track,d=f===void 0?!1:f;if(!(s instanceof Blob))throw new Error(xr.INVALID_BLOB);i.on(Wt.UPLOAD_PROGRESS,function(y){c&&(typeof c=="function"?c(y):$e.warn("progressCallback should be a function, not a "+typeof c))}),i.on(Wt.UPLOAD_COMPLETE,function(y){u&&(typeof u=="function"?u(y):$e.warn("completeCallback should be a function, not a "+typeof u))}),i.on(Wt.ERROR,function(y){l&&(typeof l=="function"?l(y):$e.warn("errorCallback should be a function, not a "+typeof l))});var h=cr.get().then(function(y){var _=cr.shear(y);return n_(Vt(Vt({},r),{credentials:_}))}),m=new m_({s3Client:n,file:s,emitter:i,level:r.level,storage:this._storage,params:a,prefixPromise:h});return It(d,"upload",{method:"put",result:"success"},null,"Upload Task created successfully for "+o),m.resume(),m},e.prototype.copy=function(t,r,n){return qn(this,void 0,void 0,function(){var i,o,s,a,c,u,l,f,d,h,m,y,_,C,w,A,I,O,D,q,L,H,k,U,R,j;return jn(this,function(V){switch(V.label){case 0:return[4,this._ensureCredentials()];case 1:if(i=V.sent(),!i||!this._isWithCredentials(this._config))throw new Error(xr.NO_CREDENTIALS);if(o=Object.assign({},this._config,n),s=o.acl,a=o.bucket,c=o.cacheControl,u=o.expires,l=o.track,f=o.serverSideEncryption,d=o.SSECustomerAlgorithm,h=o.SSECustomerKey,m=o.SSECustomerKeyMD5,y=o.SSEKMSKeyId,_=t.level,C=_===void 0?Uy:_,w=t.identityId,A=t.key,I=r.level,O=I===void 0?Uy:I,D=r.key,!A||typeof A!="string")throw new Error(xr.NO_SRC_KEY);if(!D||typeof D!="string")throw new Error(xr.NO_DEST_KEY);C!=="protected"&&w&&$e.warn(`You may copy files from another user if the source level is "protected", currently it's `+C),q=this._prefix(Vt(Vt(Vt({},o),{level:C}),w&&{identityId:w})),L=this._prefix(Vt(Vt({},o),{level:O})),H=a+"/"+q+A,k=""+L+D,$e.debug("copying "+H+" to "+k),U={Bucket:a,CopySource:H,Key:k,MetadataDirective:"COPY"},c&&(U.CacheControl=c),u&&(U.Expires=u),f&&(U.ServerSideEncryption=f),d&&(U.SSECustomerAlgorithm=d),h&&(U.SSECustomerKey=h),m&&(U.SSECustomerKeyMD5=m),y&&(U.SSEKMSKeyId=y),s&&(U.ACL=s),R=this._createNewS3Client(o),V.label=2;case 2:return V.trys.push([2,4,,5]),[4,R.send(new uO(U))];case 3:return V.sent(),It(l,"copy",{method:"copy",result:"success"},null,"Copy success from "+A+" to "+D),[2,{key:D}];case 4:throw j=V.sent(),It(l,"copy",{method:"copy",result:"failed"},null,"Copy failed from "+A+" to "+D),j;case 5:return[2]}})})},e.prototype.get=function(t,r){return qn(this,void 0,void 0,function(){var n,i,o,s,a,c,u,l,f,d,h,m,y,_,C,w,A,I,O,D,q,L,H,k,U,R,j,V;return jn(this,function($){switch($.label){case 0:return[4,this._ensureCredentials()];case 1:if(n=$.sent(),!n||!this._isWithCredentials(this._config))throw new Error(xr.NO_CREDENTIALS);if(i=Object.assign({},this._config,r),o=i.bucket,s=i.download,a=i.cacheControl,c=i.contentDisposition,u=i.contentEncoding,l=i.contentLanguage,f=i.contentType,d=i.expires,h=i.track,m=i.SSECustomerAlgorithm,y=i.SSECustomerKey,_=i.SSECustomerKeyMD5,C=i.progressCallback,w=this._prefix(i),A=w+t,I=new ao.exports.EventEmitter,O=this._createNewS3Client(i,I),$e.debug("get "+t+" from "+A),D={Bucket:o,Key:A},a&&(D.ResponseCacheControl=a),c&&(D.ResponseContentDisposition=c),u&&(D.ResponseContentEncoding=u),l&&(D.ResponseContentLanguage=l),f&&(D.ResponseContentType=f),m&&(D.SSECustomerAlgorithm=m),y&&(D.SSECustomerKey=y),_&&(D.SSECustomerKeyMD5=_),s!==!0)return[3,5];q=new Rm(D),$.label=2;case 2:return $.trys.push([2,4,,5]),C&&(typeof C=="function"?I.on(ds,function(ne){C(ne)}):$e.warn("progressCallback should be a function, not a "+typeof C)),[4,O.send(q)];case 3:return L=$.sent(),I.removeAllListeners(ds),It(h,"download",{method:"get",result:"success"},{fileSize:Number(L.Body.size||L.Body.length)},"Download success for "+t),[2,L];case 4:throw H=$.sent(),It(h,"download",{method:"get",result:"failed"},null,"Download failed with "+H.message),H;case 5:return $.trys.push([5,8,,9]),k=new pO(Vt({},O.config)),[4,dO(O,new Rm(D))];case 6:return U=$.sent(),j=fO,[4,k.presign(U,{expiresIn:d||LU})];case 7:return R=j.apply(void 0,[$.sent()]),It(h,"getSignedUrl",{method:"get",result:"success"},null,"Signed URL: "+R),[2,R];case 8:throw V=$.sent(),$e.warn("get signed url error",V),It(h,"getSignedUrl",{method:"get",result:"failed"},null,"Could not get a signed URL for "+t),V;case 9:return[2]}})})},e.prototype.put=function(t,r,n){var i=Object.assign({},this._config,n),o=i.bucket,s=i.track,a=i.progressCallback,c=i.level,u=i.resumable,l=i.contentType,f=i.contentDisposition,d=i.contentEncoding,h=i.cacheControl,m=i.expires,y=i.metadata,_=i.tagging,C=i.acl,w=i.serverSideEncryption,A=i.SSECustomerAlgorithm,I=i.SSECustomerKey,O=i.SSECustomerKeyMD5,D=i.SSEKMSKeyId,q=l||"binary/octet-stream",L={Bucket:o,Key:t,Body:r,ContentType:q};h&&(L.CacheControl=h),f&&(L.ContentDisposition=f),d&&(L.ContentEncoding=d),m&&(L.Expires=m),y&&(L.Metadata=y),_&&(L.Tagging=_),w&&(L.ServerSideEncryption=w),A&&(L.SSECustomerAlgorithm=A),I&&(L.SSECustomerKey=I),O&&(L.SSECustomerKeyMD5=O),D&&(L.SSEKMSKeyId=D);var H=new ao.exports.EventEmitter,k=new IU(L,i,H);if(C&&(L.ACL=C),u===!0){var U=this._createNewS3Client(i);U.middlewareStack.add(i_(i,t),a_);var R={bucket:o,key:t,s3Client:U,file:r,emitter:H,accessLevel:c,params:L};return this.startResumableUpload(R,n)}try{return a&&(typeof a=="function"?H.on(zi,function(j){a(j)}):$e.warn("progressCallback should be a function, not a "+typeof a)),k.upload().then(function(j){return $e.debug("upload result",j),It(s,"upload",{method:"put",result:"success"},null,"Upload success for "+t),{key:t}})}catch(j){throw $e.warn("error uploading",j),It(s,"upload",{method:"put",result:"failed"},null,"Error uploading "+t),j}},e.prototype.remove=function(t,r){return qn(this,void 0,void 0,function(){var n,i,o,s,a,c,u,l,f,d,h;return jn(this,function(m){switch(m.label){case 0:return[4,this._ensureCredentials()];case 1:if(n=m.sent(),!n||!this._isWithCredentials(this._config))throw new Error(xr.NO_CREDENTIALS);i=Object.assign({},this._config,r),o=i.bucket,s=i.track,a=this._prefix(i),c=a+t,u=this._createNewS3Client(i),$e.debug("remove "+t+" from "+c),l={Bucket:o,Key:c},f=new cO(l),m.label=2;case 2:return m.trys.push([2,4,,5]),[4,u.send(f)];case 3:return d=m.sent(),It(s,"delete",{method:"remove",result:"success"},null,"Deleted "+t+" successfully"),[2,d];case 4:throw h=m.sent(),It(s,"delete",{method:"remove",result:"failed"},null,"Deletion of "+t+" failed with "+h),h;case 5:return[2]}})})},e.prototype._list=function(t,r,n){return qn(this,void 0,void 0,function(){var i,o,s,a;return jn(this,function(c){switch(c.label){case 0:return i={contents:[],nextToken:""},o=this._createNewS3Client(r),s=new FS(Vt({},t)),[4,o.send(s)];case 1:return a=c.sent(),a&&a.Contents&&(i.contents=a.Contents.map(function(u){return{key:u.Key.substr(n.length),eTag:u.ETag,lastModified:u.LastModified,size:u.Size}}),i.nextToken=a.NextContinuationToken),[2,i]}})})},e.prototype.list=function(t,r){return qn(this,void 0,void 0,function(){var n,i,o,s,a,c,u,l,f,d,h,m;return jn(this,function(y){switch(y.label){case 0:return[4,this._ensureCredentials()];case 1:if(n=y.sent(),!n||!this._isWithCredentials(this._config))throw new Error(xr.NO_CREDENTIALS);i=Object.assign({},this._config,r),o=i.bucket,s=i.track,a=i.maxKeys,c=this._prefix(i),u=c+t,$e.debug("list "+t+" from "+u),y.label=2;case 2:if(y.trys.push([2,10,,11]),l=[],f=void 0,d=void 0,h={Bucket:o,Prefix:u,MaxKeys:1e3},a!=="ALL")return[3,7];y.label=3;case 3:return h.ContinuationToken=f,h.MaxKeys=1e3,[4,this._list(h,i,c)];case 4:d=y.sent(),l.push.apply(l,Oy(d.contents)),d.nextToken&&(f=d.nextToken),y.label=5;case 5:if(d.nextToken)return[3,3];y.label=6;case 6:return[3,9];case 7:return a<1e3||typeof a=="string"?h.MaxKeys=a:h.MaxKeys=1e3,[4,this._list(h,i,c)];case 8:d=y.sent(),l.push.apply(l,Oy(d.contents)),a>1e3&&$e.warn("maxkeys can be from 0 - 1000 or 'ALL'. To list all files you can set maxKeys to 'ALL'."),y.label=9;case 9:return It(s,"list",{method:"list",result:"success"},null,l.length+" items returned from list operation"),$e.debug("list",l),[2,l];case 10:throw m=y.sent(),$e.warn("list error",m),It(s,"list",{method:"list",result:"failed"},null,"Listing items failed: "+m.message),m;case 11:return[2]}})})},e.prototype._ensureCredentials=function(){return qn(this,void 0,void 0,function(){var t,r,n;return jn(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,cr.get()];case 1:return t=i.sent(),t?(r=cr.shear(t),$e.debug("set credentials for storage",r),this._config.credentials=r,[2,!0]):[2,!1];case 2:return n=i.sent(),$e.warn("ensure credentials error",n),[2,!1];case 3:return[2]}})})},e.prototype._isWithCredentials=function(t){return typeof t=="object"&&t.hasOwnProperty("credentials")},e.prototype._prefix=function(t){var r=t.credentials,n=t.level,i=t.customPrefix||{},o=t.identityId||r.identityId,s=(i.private!==void 0?i.private:"private/")+o+"/",a=(i.protected!==void 0?i.protected:"protected/")+o+"/",c=i.public!==void 0?i.public:"public/";switch(n){case"private":return s;case"protected":return a;default:return c}},e.prototype._createNewS3Client=function(t,r){var n=u_(t,r);return n.middlewareStack.add(o_(n.config),s_),n},e.CATEGORY="Storage",e.PROVIDER_NAME="AWSS3",e}(),or=globalThis&&globalThis.__assign||function(){return or=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},or.apply(this,arguments)},NU=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o},_r=new qe("StorageClass"),Br="AWSS3",Ly=function(){function e(){this._config={},this._pluggables=[],this._cancelTokenSourceMap=new WeakMap,_r.debug("Storage Options",this._config),this.get=this.get.bind(this),this.put=this.put.bind(this),this.remove=this.remove.bind(this),this.list=this.list.bind(this)}return e.prototype.getModuleName=function(){return"Storage"},e.prototype.addPluggable=function(t){if(t&&t.getCategory()==="Storage"){this._pluggables.push(t);var r={};return r=t.configure(this._config[t.getProviderName()]),r}},e.prototype.getPluggable=function(t){var r=this._pluggables.find(function(n){return n.getProviderName()===t});return r===void 0?(_r.debug("No plugin found with providerName",t),null):r},e.prototype.removePluggable=function(t){this._pluggables=this._pluggables.filter(function(r){return r.getProviderName()!==t})},e.prototype.configure=function(t){var r=this;if(_r.debug("configure Storage"),!t)return this._config;var n=_l.parseMobilehubConfig(t),i=Object.keys(n.Storage),o=["bucket","region","level","track","customPrefix","serverSideEncryption","SSECustomerAlgorithm","SSECustomerKey","SSECustomerKeyMD5","SSEKMSKeyId"],s=function(c){return o.some(function(u){return u===c})},a=function(c){return c.find(function(u){return s(u)})};return i&&a(i)&&!n.Storage[Br]&&(n.Storage[Br]={}),Object.entries(n.Storage).map(function(c){var u=NU(c,2),l=u[0],f=u[1];l&&s(l)&&f!==void 0&&(n.Storage[Br][l]=f,delete n.Storage[l])}),Object.keys(n.Storage).forEach(function(c){typeof n.Storage[c]!="string"&&(r._config[c]=or(or({},r._config[c]),n.Storage[c]))}),this._pluggables.forEach(function(c){c.configure(r._config[c.getProviderName()])}),this._pluggables.length===0&&this.addPluggable(new MU),this._config},e.prototype.getCancellableTokenSource=function(){return Qr.CancelToken.source()},e.prototype.updateRequestToBeCancellable=function(t,r){this._cancelTokenSourceMap.set(t,r)},e.prototype.isUploadTask=function(t){return typeof t<"u"&&typeof t.pause=="function"&&typeof t.resume=="function"},e.prototype.cancel=function(t,r){if(t instanceof m_)return t._cancel();var n=this._cancelTokenSourceMap.get(t);n?n.cancel(r):_r.debug("The request does not map to any cancel token")},e.prototype.copy=function(t,r,n){var i=(n==null?void 0:n.provider)||Br,o=this._pluggables.find(function(c){return c.getProviderName()===i});if(o===void 0)return _r.debug("No plugin found with providerName",i),Promise.reject("No plugin found in Storage for the provider");var s=this.getCancellableTokenSource();if(typeof o.copy!="function")return Promise.reject(".copy is not implemented on provider "+o.getProviderName());var a=o.copy(t,r,or(or({},n),{cancelTokenSource:s}));return this.updateRequestToBeCancellable(a,s),a},e.prototype.get=function(t,r){var n=(r==null?void 0:r.provider)||Br,i=this._pluggables.find(function(a){return a.getProviderName()===n});if(i===void 0)return _r.debug("No plugin found with providerName",n),Promise.reject("No plugin found in Storage for the provider");var o=this.getCancellableTokenSource(),s=i.get(t,or(or({},r),{cancelTokenSource:o}));return this.updateRequestToBeCancellable(s,o),s},e.prototype.isCancelError=function(t){return Qr.isCancel(t)},e.prototype.put=function(t,r,n){var i=(n==null?void 0:n.provider)||Br,o=this._pluggables.find(function(c){return c.getProviderName()===i});if(o===void 0)return _r.debug("No plugin found with providerName",i),Promise.reject("No plugin found in Storage for the provider");var s=this.getCancellableTokenSource(),a=o.put(t,r,or(or({},n),{cancelTokenSource:s}));return this.isUploadTask(a)||this.updateRequestToBeCancellable(a,s),a},e.prototype.remove=function(t,r){var n=(r==null?void 0:r.provider)||Br,i=this._pluggables.find(function(o){return o.getProviderName()===n});return i===void 0?(_r.debug("No plugin found with providerName",n),Promise.reject("No plugin found in Storage for the provider")):i.remove(t,r)},e.prototype.list=function(t,r){var n=(r==null?void 0:r.provider)||Br,i=this._pluggables.find(function(o){return o.getProviderName()===n});return i===void 0?(_r.debug("No plugin found with providerName",n),Promise.reject("No plugin found in Storage for the provider")):i.list(t,r)},e}(),qi=globalThis&&globalThis.__assign||function(){return qi=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},qi.apply(this,arguments)},Qa=new qe("Storage"),br=null,DU=function(){if(br)return br;Qa.debug("Create Storage Instance, debug"),br=new Ly,br.vault=new Ly;var e=br.configure;return br.configure=function(t){Qa.debug("storage configure called");var r=qi({},e.call(br,t));Object.keys(r).forEach(function(n){typeof r[n]!="string"&&(r[n]=qi(qi({},r[n]),{level:"private"}))}),Qa.debug("storage vault configure called"),br.vault.configure(r)},br},BU=DU();Ut.register(BU);var FU={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(nt,function(){return function(r){var n={};function i(o){if(n[o])return n[o].exports;var s=n[o]={i:o,l:!1,exports:{}};return r[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=r,i.c=n,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:a})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,s){if(1&s&&(o=i(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var c in o)i.d(a,c,function(u){return o[u]}.bind(null,c));return a},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="",i(i.s=0)}([function(r,n,i){function o(s){for(var a in s)n.hasOwnProperty(a)||(n[a]=s[a])}Object.defineProperty(n,"__esModule",{value:!0}),o(i(1)),o(i(2)),o(i(3)),o(i(4)),o(i(5)),o(i(6)),o(i(7)),o(i(8)),o(i(9)),o(i(10)),o(i(11)),o(i(12)),o(i(13))},function(r,n,i){r.exports={a:"Anchor__a___1_Iz8"}},function(r,n,i){r.exports={button:"Button__button___vS7Mv",signInButton:"Button__signInButton___3bUH-",googleSignInButton:"Button__googleSignInButton___1YiCu",signInButtonIcon:"Button__signInButtonIcon___ihN75",auth0SignInButton:"Button__auth0SignInButton___znnCj",facebookSignInButton:"Button__facebookSignInButton___34Txh",amazonSignInButton:"Button__amazonSignInButton___2EMtl",oAuthSignInButton:"Button__oAuthSignInButton___3UGOl",signInButtonContent:"Button__signInButtonContent___xqTXJ"}},function(r,n,i){r.exports={formContainer:"Form__formContainer___1GA3x",formSection:"Form__formSection___1PPvW",formField:"Form__formField___38Ikl",formRow:"Form__formRow___2mwRs"}},function(r,n,i){r.exports={hint:"Hint__hint___2XngB"}},function(r,n,i){r.exports={input:"Input__input___3e_bf",inputLabel:"Input__inputLabel___3VF0S",label:"Input__label___23sO8",radio:"Input__radio___2hllK"}},function(r,n,i){r.exports={navBar:"Nav__navBar___xtCFA",navRight:"Nav__navRight___1QG2J",nav:"Nav__nav___2Dx2Y",navItem:"Nav__navItem___1LtFQ"}},function(r,n,i){r.exports={photoPickerButton:"PhotoPicker__photoPickerButton___2XdVn",photoPlaceholder:"PhotoPicker__photoPlaceholder___2JXO4",photoPlaceholderIcon:"PhotoPicker__photoPlaceholderIcon___3Et71"}},function(r,n,i){r.exports={container:"Section__container___3YYTG",actionRow:"Section__actionRow___2LWSU",sectionHeader:"Section__sectionHeader___2djyg",sectionHeaderHint:"Section__sectionHeaderHint___3Wxdc",sectionBody:"Section__sectionBody___ihqqd",sectionHeaderContent:"Section__sectionHeaderContent___1UCqa",sectionFooter:"Section__sectionFooter___1T54C",sectionFooterPrimaryContent:"Section__sectionFooterPrimaryContent___2r9ZX",sectionFooterSecondaryContent:"Section__sectionFooterSecondaryContent___Nj41Q"}},function(r,n,i){r.exports={selectInput:"SelectInput__selectInput___3efO4"}},function(r,n,i){r.exports={strike:"Strike__strike___1XV1b",strikeContent:"Strike__strikeContent___10gLb"}},function(r,n,i){r.exports={toast:"Toast__toast___XXr3v",toastClose:"Toast__toastClose___18lU4"}},function(r,n,i){r.exports={totpQrcode:"Totp__totpQrcode___1crLx"}},function(r,n,i){r.exports={sumerianSceneContainer:"XR__sumerianSceneContainer___3nVMt",sumerianScene:"XR__sumerianScene___2Tt7-",loadingOverlay:"XR__loadingOverlay___IbqcI",loadingContainer:"XR__loadingContainer___2Itxb",loadingLogo:"XR__loadingLogo___Ub7xQ",loadingSceneName:"XR__loadingSceneName___3__ne",loadingBar:"XR__loadingBar___2vcke",loadingBarFill:"XR__loadingBarFill___3M-D9",sceneErrorText:"XR__sceneErrorText___2y0tp",sceneBar:"XR__sceneBar___2ShrP",sceneName:"XR__sceneName___1ApHr",sceneActions:"XR__sceneActions___7plGs",actionButton:"XR__actionButton___2poIM",tooltip:"XR__tooltip___UYyhn",actionIcon:"XR__actionIcon___2qnd2",autoShowTooltip:"XR__autoShowTooltip___V1QH7"}}])})})(FU);Ut.Auth=mS;Ut.Cache=XP;Ut.ServiceWorker=zI;const zU=Ut;/*!
  * vue-router v4.1.3
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Yn=typeof window<"u";function KU(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Fe=Object.assign;function eu(e,t){const r={};for(const n in t){const i=t[n];r[n]=er(i)?i.map(e):e(i)}return r}const ji=()=>{},er=Array.isArray,qU=/\/$/,jU=e=>e.replace(qU,"");function tu(e,t,r="/"){let n,i={},o="",s="";const a=t.indexOf("#");let c=t.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(n=t.slice(0,c),o=t.slice(c+1,a>-1?a:t.length),i=e(o)),a>-1&&(n=n||t.slice(0,a),s=t.slice(a,t.length)),n=GU(n!=null?n:t,r),{fullPath:n+(o&&"?")+o+s,path:n,query:i,hash:s}}function $U(e,t){const r=t.query?e(t.query):"";return t.path+(r&&"?")+r+(t.hash||"")}function My(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function HU(e,t,r){const n=t.matched.length-1,i=r.matched.length-1;return n>-1&&n===i&&li(t.matched[n],r.matched[i])&&y_(t.params,r.params)&&e(t.query)===e(r.query)&&t.hash===r.hash}function li(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function y_(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(!VU(e[r],t[r]))return!1;return!0}function VU(e,t){return er(e)?Ny(e,t):er(t)?Ny(t,e):e===t}function Ny(e,t){return er(t)?e.length===t.length&&e.every((r,n)=>r===t[n]):e.length===1&&e[0]===t}function GU(e,t){if(e.startsWith("/"))return e;if(!e)return t;const r=t.split("/"),n=e.split("/");let i=r.length-1,o,s;for(o=0;o<n.length;o++)if(s=n[o],s!==".")if(s==="..")i>1&&i--;else break;return r.slice(0,i).join("/")+"/"+n.slice(o-(o===n.length?1:0)).join("/")}var uo;(function(e){e.pop="pop",e.push="push"})(uo||(uo={}));var $i;(function(e){e.back="back",e.forward="forward",e.unknown=""})($i||($i={}));function WU(e){if(!e)if(Yn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),jU(e)}const YU=/^[^#]+#/;function XU(e,t){return e.replace(YU,"#")+t}function JU(e,t){const r=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-r.left-(t.left||0),top:n.top-r.top-(t.top||0)}}const Zs=()=>({left:window.pageXOffset,top:window.pageYOffset});function ZU(e){let t;if("el"in e){const r=e.el,n=typeof r=="string"&&r.startsWith("#"),i=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!i)return;t=JU(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function Dy(e,t){return(history.state?history.state.position-t:-1)+e}const Wc=new Map;function QU(e,t){Wc.set(e,t)}function e3(e){const t=Wc.get(e);return Wc.delete(e),t}let t3=()=>location.protocol+"//"+location.host;function w_(e,t){const{pathname:r,search:n,hash:i}=t,o=e.indexOf("#");if(o>-1){let a=i.includes(e.slice(o))?e.slice(o).length:1,c=i.slice(a);return c[0]!=="/"&&(c="/"+c),My(c,"")}return My(r,e)+n+i}function r3(e,t,r,n){let i=[],o=[],s=null;const a=({state:d})=>{const h=w_(e,location),m=r.value,y=t.value;let _=0;if(d){if(r.value=h,t.value=d,s&&s===m){s=null;return}_=y?d.position-y.position:0}else n(h);i.forEach(C=>{C(r.value,m,{delta:_,type:uo.pop,direction:_?_>0?$i.forward:$i.back:$i.unknown})})};function c(){s=r.value}function u(d){i.push(d);const h=()=>{const m=i.indexOf(d);m>-1&&i.splice(m,1)};return o.push(h),h}function l(){const{history:d}=window;!d.state||d.replaceState(Fe({},d.state,{scroll:Zs()}),"")}function f(){for(const d of o)d();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",l)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",l),{pauseListeners:c,listen:u,destroy:f}}function By(e,t,r,n=!1,i=!1){return{back:e,current:t,forward:r,replaced:n,position:window.history.length,scroll:i?Zs():null}}function n3(e){const{history:t,location:r}=window,n={value:w_(e,r)},i={value:t.state};i.value||o(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(c,u,l){const f=e.indexOf("#"),d=f>-1?(r.host&&document.querySelector("base")?e:e.slice(f))+c:t3()+e+c;try{t[l?"replaceState":"pushState"](u,"",d),i.value=u}catch(h){console.error(h),r[l?"replace":"assign"](d)}}function s(c,u){const l=Fe({},t.state,By(i.value.back,c,i.value.forward,!0),u,{position:i.value.position});o(c,l,!0),n.value=c}function a(c,u){const l=Fe({},i.value,t.state,{forward:c,scroll:Zs()});o(l.current,l,!0);const f=Fe({},By(n.value,c,null),{position:l.position+1},u);o(c,f,!1),n.value=c}return{location:n,state:i,push:a,replace:s}}function i3(e){e=WU(e);const t=n3(e),r=r3(e,t.state,t.location,t.replace);function n(o,s=!0){s||r.pauseListeners(),history.go(o)}const i=Fe({location:"",base:e,go:n,createHref:XU.bind(null,e)},t,r);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function o3(e){return typeof e=="string"||e&&typeof e=="object"}function S_(e){return typeof e=="string"||typeof e=="symbol"}const Fr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},__=Symbol("");var Fy;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Fy||(Fy={}));function fi(e,t){return Fe(new Error,{type:e,[__]:!0},t)}function Cr(e,t){return e instanceof Error&&__ in e&&(t==null||!!(e.type&t))}const zy="[^/]+?",s3={sensitive:!1,strict:!1,start:!0,end:!0},a3=/[.+*?^${}()[\]/\\]/g;function u3(e,t){const r=Fe({},s3,t),n=[];let i=r.start?"^":"";const o=[];for(const u of e){const l=u.length?[]:[90];r.strict&&!u.length&&(i+="/");for(let f=0;f<u.length;f++){const d=u[f];let h=40+(r.sensitive?.25:0);if(d.type===0)f||(i+="/"),i+=d.value.replace(a3,"\\$&"),h+=40;else if(d.type===1){const{value:m,repeatable:y,optional:_,regexp:C}=d;o.push({name:m,repeatable:y,optional:_});const w=C||zy;if(w!==zy){h+=10;try{new RegExp(`(${w})`)}catch(I){throw new Error(`Invalid custom RegExp for param "${m}" (${w}): `+I.message)}}let A=y?`((?:${w})(?:/(?:${w}))*)`:`(${w})`;f||(A=_&&u.length<2?`(?:/${A})`:"/"+A),_&&(A+="?"),i+=A,h+=20,_&&(h+=-8),y&&(h+=-20),w===".*"&&(h+=-50)}l.push(h)}n.push(l)}if(r.strict&&r.end){const u=n.length-1;n[u][n[u].length-1]+=.7000000000000001}r.strict||(i+="/?"),r.end?i+="$":r.strict&&(i+="(?:/|$)");const s=new RegExp(i,r.sensitive?"":"i");function a(u){const l=u.match(s),f={};if(!l)return null;for(let d=1;d<l.length;d++){const h=l[d]||"",m=o[d-1];f[m.name]=h&&m.repeatable?h.split("/"):h}return f}function c(u){let l="",f=!1;for(const d of e){(!f||!l.endsWith("/"))&&(l+="/"),f=!1;for(const h of d)if(h.type===0)l+=h.value;else if(h.type===1){const{value:m,repeatable:y,optional:_}=h,C=m in u?u[m]:"";if(er(C)&&!y)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const w=er(C)?C.join("/"):C;if(!w)if(_)d.length<2&&(l.endsWith("/")?l=l.slice(0,-1):f=!0);else throw new Error(`Missing required param "${m}"`);l+=w}}return l||"/"}return{re:s,score:n,keys:o,parse:a,stringify:c}}function c3(e,t){let r=0;for(;r<e.length&&r<t.length;){const n=t[r]-e[r];if(n)return n;r++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function l3(e,t){let r=0;const n=e.score,i=t.score;for(;r<n.length&&r<i.length;){const o=c3(n[r],i[r]);if(o)return o;r++}if(Math.abs(i.length-n.length)===1){if(Ky(n))return 1;if(Ky(i))return-1}return i.length-n.length}function Ky(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const f3={type:0,value:""},d3=/[a-zA-Z0-9_]/;function h3(e){if(!e)return[[]];if(e==="/")return[[f3]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(h){throw new Error(`ERR (${r})/"${u}": ${h}`)}let r=0,n=r;const i=[];let o;function s(){o&&i.push(o),o=[]}let a=0,c,u="",l="";function f(){!u||(r===0?o.push({type:0,value:u}):r===1||r===2||r===3?(o.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:u,regexp:l,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),u="")}function d(){u+=c}for(;a<e.length;){if(c=e[a++],c==="\\"&&r!==2){n=r,r=4;continue}switch(r){case 0:c==="/"?(u&&f(),s()):c===":"?(f(),r=1):d();break;case 4:d(),r=n;break;case 1:c==="("?r=2:d3.test(c)?d():(f(),r=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?l[l.length-1]=="\\"?l=l.slice(0,-1)+c:r=3:l+=c;break;case 3:f(),r=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,l="";break;default:t("Unknown state");break}}return r===2&&t(`Unfinished custom RegExp for param "${u}"`),f(),s(),i}function g3(e,t,r){const n=u3(h3(e.path),r),i=Fe(n,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function p3(e,t){const r=[],n=new Map;t=jy({strict:!1,end:!0,sensitive:!1},t);function i(l){return n.get(l)}function o(l,f,d){const h=!d,m=m3(l);m.aliasOf=d&&d.record;const y=jy(t,l),_=[m];if("alias"in l){const A=typeof l.alias=="string"?[l.alias]:l.alias;for(const I of A)_.push(Fe({},m,{components:d?d.record.components:m.components,path:I,aliasOf:d?d.record:m}))}let C,w;for(const A of _){const{path:I}=A;if(f&&I[0]!=="/"){const O=f.record.path,D=O[O.length-1]==="/"?"":"/";A.path=f.record.path+(I&&D+I)}if(C=g3(A,f,y),d?d.alias.push(C):(w=w||C,w!==C&&w.alias.push(C),h&&l.name&&!qy(C)&&s(l.name)),m.children){const O=m.children;for(let D=0;D<O.length;D++)o(O[D],C,d&&d.children[D])}d=d||C,c(C)}return w?()=>{s(w)}:ji}function s(l){if(S_(l)){const f=n.get(l);f&&(n.delete(l),r.splice(r.indexOf(f),1),f.children.forEach(s),f.alias.forEach(s))}else{const f=r.indexOf(l);f>-1&&(r.splice(f,1),l.record.name&&n.delete(l.record.name),l.children.forEach(s),l.alias.forEach(s))}}function a(){return r}function c(l){let f=0;for(;f<r.length&&l3(l,r[f])>=0&&(l.record.path!==r[f].record.path||!b_(l,r[f]));)f++;r.splice(f,0,l),l.record.name&&!qy(l)&&n.set(l.record.name,l)}function u(l,f){let d,h={},m,y;if("name"in l&&l.name){if(d=n.get(l.name),!d)throw fi(1,{location:l});y=d.record.name,h=Fe(v3(f.params,d.keys.filter(w=>!w.optional).map(w=>w.name)),l.params),m=d.stringify(h)}else if("path"in l)m=l.path,d=r.find(w=>w.re.test(m)),d&&(h=d.parse(m),y=d.record.name);else{if(d=f.name?n.get(f.name):r.find(w=>w.re.test(f.path)),!d)throw fi(1,{location:l,currentLocation:f});y=d.record.name,h=Fe({},f.params,l.params),m=d.stringify(h)}const _=[];let C=d;for(;C;)_.unshift(C.record),C=C.parent;return{name:y,path:m,params:h,matched:_,meta:w3(_)}}return e.forEach(l=>o(l)),{addRoute:o,resolve:u,removeRoute:s,getRoutes:a,getRecordMatcher:i}}function v3(e,t){const r={};for(const n of t)n in e&&(r[n]=e[n]);return r}function m3(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:y3(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function y3(e){const t={},r=e.props||!1;if("component"in e)t.default=r;else for(const n in e.components)t[n]=typeof r=="boolean"?r:r[n];return t}function qy(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function w3(e){return e.reduce((t,r)=>Fe(t,r.meta),{})}function jy(e,t){const r={};for(const n in e)r[n]=n in t?t[n]:e[n];return r}function b_(e,t){return t.children.some(r=>r===e||b_(e,r))}const C_=/#/g,S3=/&/g,_3=/\//g,b3=/=/g,C3=/\?/g,E_=/\+/g,E3=/%5B/g,x3=/%5D/g,x_=/%5E/g,A3=/%60/g,A_=/%7B/g,I3=/%7C/g,I_=/%7D/g,T3=/%20/g;function jl(e){return encodeURI(""+e).replace(I3,"|").replace(E3,"[").replace(x3,"]")}function P3(e){return jl(e).replace(A_,"{").replace(I_,"}").replace(x_,"^")}function Yc(e){return jl(e).replace(E_,"%2B").replace(T3,"+").replace(C_,"%23").replace(S3,"%26").replace(A3,"`").replace(A_,"{").replace(I_,"}").replace(x_,"^")}function k3(e){return Yc(e).replace(b3,"%3D")}function R3(e){return jl(e).replace(C_,"%23").replace(C3,"%3F")}function O3(e){return e==null?"":R3(e).replace(_3,"%2F")}function hs(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function U3(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<n.length;++i){const o=n[i].replace(E_," "),s=o.indexOf("="),a=hs(s<0?o:o.slice(0,s)),c=s<0?null:hs(o.slice(s+1));if(a in t){let u=t[a];er(u)||(u=t[a]=[u]),u.push(c)}else t[a]=c}return t}function $y(e){let t="";for(let r in e){const n=e[r];if(r=k3(r),n==null){n!==void 0&&(t+=(t.length?"&":"")+r);continue}(er(n)?n.map(o=>o&&Yc(o)):[n&&Yc(n)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+r,o!=null&&(t+="="+o))})}return t}function L3(e){const t={};for(const r in e){const n=e[r];n!==void 0&&(t[r]=er(n)?n.map(i=>i==null?null:""+i):n==null?n:""+n)}return t}const M3=Symbol(""),Hy=Symbol(""),$l=Symbol(""),Hl=Symbol(""),Xc=Symbol("");function Ti(){let e=[];function t(n){return e.push(n),()=>{const i=e.indexOf(n);i>-1&&e.splice(i,1)}}function r(){e=[]}return{add:t,list:()=>e,reset:r}}function Wr(e,t,r,n,i){const o=n&&(n.enterCallbacks[i]=n.enterCallbacks[i]||[]);return()=>new Promise((s,a)=>{const c=f=>{f===!1?a(fi(4,{from:r,to:t})):f instanceof Error?a(f):o3(f)?a(fi(2,{from:t,to:f})):(o&&n.enterCallbacks[i]===o&&typeof f=="function"&&o.push(f),s())},u=e.call(n&&n.instances[i],t,r,c);let l=Promise.resolve(u);e.length<3&&(l=l.then(c)),l.catch(f=>a(f))})}function ru(e,t,r,n){const i=[];for(const o of e)for(const s in o.components){let a=o.components[s];if(!(t!=="beforeRouteEnter"&&!o.instances[s]))if(N3(a)){const u=(a.__vccOpts||a)[t];u&&i.push(Wr(u,r,n,o,s))}else{let c=a();i.push(()=>c.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${s}" at "${o.path}"`));const l=KU(u)?u.default:u;o.components[s]=l;const d=(l.__vccOpts||l)[t];return d&&Wr(d,r,n,o,s)()}))}}return i}function N3(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Vy(e){const t=lr($l),r=lr(Hl),n=Ct(()=>t.resolve(ye(e.to))),i=Ct(()=>{const{matched:c}=n.value,{length:u}=c,l=c[u-1],f=r.matched;if(!l||!f.length)return-1;const d=f.findIndex(li.bind(null,l));if(d>-1)return d;const h=Gy(c[u-2]);return u>1&&Gy(l)===h&&f[f.length-1].path!==h?f.findIndex(li.bind(null,c[u-2])):d}),o=Ct(()=>i.value>-1&&z3(r.params,n.value.params)),s=Ct(()=>i.value>-1&&i.value===r.matched.length-1&&y_(r.params,n.value.params));function a(c={}){return F3(c)?t[ye(e.replace)?"replace":"push"](ye(e.to)).catch(ji):Promise.resolve()}return{route:n,href:Ct(()=>n.value.href),isActive:o,isExactActive:s,navigate:a}}const D3=L0({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Vy,setup(e,{slots:t}){const r=pi(Vy(e)),{options:n}=lr($l),i=Ct(()=>({[Wy(e.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[Wy(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const o=t.default&&t.default(r);return e.custom?o:Sl("a",{"aria-current":r.isExactActive?e.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:i.value},o)}}}),B3=D3;function F3(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function z3(e,t){for(const r in t){const n=t[r],i=e[r];if(typeof n=="string"){if(n!==i)return!1}else if(!er(i)||i.length!==n.length||n.some((o,s)=>o!==i[s]))return!1}return!0}function Gy(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Wy=(e,t,r)=>e!=null?e:t!=null?t:r,K3=L0({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:r}){const n=lr(Xc),i=Ct(()=>e.route||n.value),o=lr(Hy,0),s=Ct(()=>{let u=ye(o);const{matched:l}=i.value;let f;for(;(f=l[u])&&!f.components;)u++;return u}),a=Ct(()=>i.value.matched[s.value]);Bo(Hy,Ct(()=>s.value+1)),Bo(M3,a),Bo(Xc,i);const c=ei();return ti(()=>[c.value,a.value,e.name],([u,l,f],[d,h,m])=>{l&&(l.instances[f]=u,h&&h!==l&&u&&u===d&&(l.leaveGuards.size||(l.leaveGuards=h.leaveGuards),l.updateGuards.size||(l.updateGuards=h.updateGuards))),u&&l&&(!h||!li(l,h)||!d)&&(l.enterCallbacks[f]||[]).forEach(y=>y(u))},{flush:"post"}),()=>{const u=i.value,l=e.name,f=a.value,d=f&&f.components[l];if(!d)return Yy(r.default,{Component:d,route:u});const h=f.props[l],m=h?h===!0?u.params:typeof h=="function"?h(u):h:null,_=Sl(d,Fe({},m,t,{onVnodeUnmounted:C=>{C.component.isUnmounted&&(f.instances[l]=null)},ref:c}));return Yy(r.default,{Component:_,route:u})||_}}});function Yy(e,t){if(!e)return null;const r=e(t);return r.length===1?r[0]:r}const q3=K3;function j3(e){const t=p3(e.routes,e),r=e.parseQuery||U3,n=e.stringifyQuery||$y,i=e.history,o=Ti(),s=Ti(),a=Ti(),c=gb(Fr);let u=Fr;Yn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const l=eu.bind(null,F=>""+F),f=eu.bind(null,O3),d=eu.bind(null,hs);function h(F,Q){let J,oe;return S_(F)?(J=t.getRecordMatcher(F),oe=Q):oe=F,t.addRoute(oe,J)}function m(F){const Q=t.getRecordMatcher(F);Q&&t.removeRoute(Q)}function y(){return t.getRoutes().map(F=>F.record)}function _(F){return!!t.getRecordMatcher(F)}function C(F,Q){if(Q=Fe({},Q||c.value),typeof F=="string"){const ce=tu(r,F,Q.path),x=t.resolve({path:ce.path},Q),P=i.createHref(ce.fullPath);return Fe(ce,x,{params:d(x.params),hash:hs(ce.hash),redirectedFrom:void 0,href:P})}let J;if("path"in F)J=Fe({},F,{path:tu(r,F.path,Q.path).path});else{const ce=Fe({},F.params);for(const x in ce)ce[x]==null&&delete ce[x];J=Fe({},F,{params:f(F.params)}),Q.params=f(Q.params)}const oe=t.resolve(J,Q),we=F.hash||"";oe.params=l(d(oe.params));const _e=$U(n,Fe({},F,{hash:P3(we),path:oe.path})),fe=i.createHref(_e);return Fe({fullPath:_e,hash:we,query:n===$y?L3(F.query):F.query||{}},oe,{redirectedFrom:void 0,href:fe})}function w(F){return typeof F=="string"?tu(r,F,c.value.path):Fe({},F)}function A(F,Q){if(u!==F)return fi(8,{from:Q,to:F})}function I(F){return q(F)}function O(F){return I(Fe(w(F),{replace:!0}))}function D(F){const Q=F.matched[F.matched.length-1];if(Q&&Q.redirect){const{redirect:J}=Q;let oe=typeof J=="function"?J(F):J;return typeof oe=="string"&&(oe=oe.includes("?")||oe.includes("#")?oe=w(oe):{path:oe},oe.params={}),Fe({query:F.query,hash:F.hash,params:"path"in oe?{}:F.params},oe)}}function q(F,Q){const J=u=C(F),oe=c.value,we=F.state,_e=F.force,fe=F.replace===!0,ce=D(J);if(ce)return q(Fe(w(ce),{state:we,force:_e,replace:fe}),Q||J);const x=J;x.redirectedFrom=Q;let P;return!_e&&HU(n,oe,J)&&(P=fi(16,{to:x,from:oe}),ee(oe,oe,!0,!1)),(P?Promise.resolve(P):H(x,oe)).catch(B=>Cr(B)?Cr(B,2)?B:de(B):ue(B,x,oe)).then(B=>{if(B){if(Cr(B,2))return q(Fe({replace:fe},w(B.to),{state:we,force:_e}),Q||x)}else B=U(x,oe,!0,fe,we);return k(x,oe,B),B})}function L(F,Q){const J=A(F,Q);return J?Promise.reject(J):Promise.resolve()}function H(F,Q){let J;const[oe,we,_e]=$3(F,Q);J=ru(oe.reverse(),"beforeRouteLeave",F,Q);for(const ce of oe)ce.leaveGuards.forEach(x=>{J.push(Wr(x,F,Q))});const fe=L.bind(null,F,Q);return J.push(fe),$n(J).then(()=>{J=[];for(const ce of o.list())J.push(Wr(ce,F,Q));return J.push(fe),$n(J)}).then(()=>{J=ru(we,"beforeRouteUpdate",F,Q);for(const ce of we)ce.updateGuards.forEach(x=>{J.push(Wr(x,F,Q))});return J.push(fe),$n(J)}).then(()=>{J=[];for(const ce of F.matched)if(ce.beforeEnter&&!Q.matched.includes(ce))if(er(ce.beforeEnter))for(const x of ce.beforeEnter)J.push(Wr(x,F,Q));else J.push(Wr(ce.beforeEnter,F,Q));return J.push(fe),$n(J)}).then(()=>(F.matched.forEach(ce=>ce.enterCallbacks={}),J=ru(_e,"beforeRouteEnter",F,Q),J.push(fe),$n(J))).then(()=>{J=[];for(const ce of s.list())J.push(Wr(ce,F,Q));return J.push(fe),$n(J)}).catch(ce=>Cr(ce,8)?ce:Promise.reject(ce))}function k(F,Q,J){for(const oe of a.list())oe(F,Q,J)}function U(F,Q,J,oe,we){const _e=A(F,Q);if(_e)return _e;const fe=Q===Fr,ce=Yn?history.state:{};J&&(oe||fe?i.replace(F.fullPath,Fe({scroll:fe&&ce&&ce.scroll},we)):i.push(F.fullPath,we)),c.value=F,ee(F,Q,J,fe),de()}let R;function j(){R||(R=i.listen((F,Q,J)=>{if(!Ce.listening)return;const oe=C(F),we=D(oe);if(we){q(Fe(we,{replace:!0}),oe).catch(ji);return}u=oe;const _e=c.value;Yn&&QU(Dy(_e.fullPath,J.delta),Zs()),H(oe,_e).catch(fe=>Cr(fe,12)?fe:Cr(fe,2)?(q(fe.to,oe).then(ce=>{Cr(ce,20)&&!J.delta&&J.type===uo.pop&&i.go(-1,!1)}).catch(ji),Promise.reject()):(J.delta&&i.go(-J.delta,!1),ue(fe,oe,_e))).then(fe=>{fe=fe||U(oe,_e,!1),fe&&(J.delta&&!Cr(fe,8)?i.go(-J.delta,!1):J.type===uo.pop&&Cr(fe,20)&&i.go(-1,!1)),k(oe,_e,fe)}).catch(ji)}))}let V=Ti(),$=Ti(),ne;function ue(F,Q,J){de(F);const oe=$.list();return oe.length?oe.forEach(we=>we(F,Q,J)):console.error(F),Promise.reject(F)}function me(){return ne&&c.value!==Fr?Promise.resolve():new Promise((F,Q)=>{V.add([F,Q])})}function de(F){return ne||(ne=!F,j(),V.list().forEach(([Q,J])=>F?J(F):Q()),V.reset()),F}function ee(F,Q,J,oe){const{scrollBehavior:we}=e;if(!Yn||!we)return Promise.resolve();const _e=!J&&e3(Dy(F.fullPath,0))||(oe||!J)&&history.state&&history.state.scroll||null;return ll().then(()=>we(F,Q,_e)).then(fe=>fe&&ZU(fe)).catch(fe=>ue(fe,F,Q))}const te=F=>i.go(F);let re;const ge=new Set,Ce={currentRoute:c,listening:!0,addRoute:h,removeRoute:m,hasRoute:_,getRoutes:y,resolve:C,options:e,push:I,replace:O,go:te,back:()=>te(-1),forward:()=>te(1),beforeEach:o.add,beforeResolve:s.add,afterEach:a.add,onError:$.add,isReady:me,install(F){const Q=this;F.component("RouterLink",B3),F.component("RouterView",q3),F.config.globalProperties.$router=Q,Object.defineProperty(F.config.globalProperties,"$route",{enumerable:!0,get:()=>ye(c)}),Yn&&!re&&c.value===Fr&&(re=!0,I(i.location).catch(we=>{}));const J={};for(const we in Fr)J[we]=Ct(()=>c.value[we]);F.provide($l,Q),F.provide(Hl,pi(J)),F.provide(Xc,c);const oe=F.unmount;ge.add(F),F.unmount=function(){ge.delete(F),ge.size<1&&(u=Fr,R&&R(),R=null,c.value=Fr,re=!1,ne=!1),oe()}}};return Ce}function $n(e){return e.reduce((t,r)=>t.then(()=>r()),Promise.resolve())}function $3(e,t){const r=[],n=[],i=[],o=Math.max(t.matched.length,e.matched.length);for(let s=0;s<o;s++){const a=t.matched[s];a&&(e.matched.find(u=>li(u,a))?n.push(a):r.push(a));const c=e.matched[s];c&&(t.matched.find(u=>li(u,c))||i.push(c))}return[r,n,i]}function H3(){return lr(Hl)}const V3="/assets/up.bbc99553.svg",G3="/assets/down.986e9987.svg",W3="/assets/view_blocks.27b3b0a2.svg",Y3="/assets/view_list.b85ebcb8.svg",X3="/assets/menu_responsive.5b1138e4.svg",mo=o1("treemap",{state:()=>({data:[],width:0,height:0,loading:!1,timeInterval:"daily_data",blockchainType:"All",imgNum:1,view:"treemap",sortKey:"volume",sortDirection:-1}),getters:{squarifyData(e){let t=e.blockchainType!=="All"?e.data.filter(r=>r.blockchain===e.blockchainType):e.data;t=[...new Map(t.map(r=>[r.name,r])).values()],t.sort(function(r,n){return n.volume-r.volume}),t.map(r=>r.value=r.volume);for(let r=1;r<=4;r++)t.map(n=>{n["img"+r]=n["img"+r].replace("https://i.seadn.io","/i_seadn"),n["img"+r]=n["img"+r].replace("https://img.seadn.io","/img_seadn"),n["img"+r]=n["img"+r].replace("https://lh3.googleusercontent.com","/lh3_googleusercontent"),n["img"+r]=n["img"+r].replace("https://openseauserdata.com","openseauserdata")});return t.length>0&&e.width&&e.height?Treemap.getTreemap({data:t,width:e.width,height:e.height}):[]},listData:e=>{let t=e.blockchainType!=="All"?e.data.filter(r=>r.blockchain===e.blockchainType):e.data;return t=[...new Map(t.map(r=>[r.name,r])).values()],t.sort((r,n)=>{if(e.sortDirection===-1)return n[e.sortKey]-r[e.sortKey];if(e.sortDirection===1)return r[e.sortKey]-n[e.sortKey]}),t}},actions:{async getData(){this.loading=!0;const t=await(await fetch(`/api/${this.timeInterval}`)).json();this.data=t,this.loading=!1}}});const wi=(e,t)=>{const r=e.__vccOpts||e;for(const[n,i]of t)r[n]=i;return r},mr=e=>(fl("data-v-80bd7513"),e=e(),dl(),e),J3=mr(()=>se("h1",null,"NFT360",-1)),Z3={class:"header_container","data-html2canvas-ignore":"true"},Q3=mr(()=>se("ul",{id:"menu_pages"},[se("li",null,[se("a",{href:"#"},"WALL OF FAME")]),se("li",null,[se("a",{href:"#"},"UPCOMING PROJECTS")])],-1)),eL={id:"tabs","data-html2canvas-ignore":"true"},tL={class:"select_wrapper",title:"Blockchain"},rL=["selected"],nL=["selected"],iL=["selected"],oL=["selected"],sL={class:"select_wrapper",title:"Last"},aL=["selected"],uL=["selected"],cL=["selected"],lL=["selected"],fL=hC('<ul id="menu_show" class="show_soon" title="Show" data-v-80bd7513><li data-v-80bd7513><a href="#" data-v-80bd7513><img src="'+V3+'" data-v-80bd7513></a></li><li data-v-80bd7513><a href="#" data-v-80bd7513><img src="'+G3+'" data-v-80bd7513></a></li><li class="active_tab" data-v-80bd7513><a href="#" data-v-80bd7513>All</a></li></ul>',1),dL={id:"menu_view",title:"View"},hL=mr(()=>se("a",{href:"#"},[se("img",{src:W3})],-1)),gL=[hL],pL=mr(()=>se("a",{href:"#"},[se("img",{src:Y3})],-1)),vL=[pL],mL={class:"inputs","data-html2canvas-ignore":"true"},yL=mr(()=>se("div",{class:"menu_responsive"},[se("a",{href:"#"},[se("img",{src:X3})])],-1)),wL={class:"screen_lightbox"},SL={class:"screen_lightbox_in"},_L=mr(()=>se("h2",null,"Download screenshot",-1)),bL=mr(()=>se("div",{id:"canvas_container",class:"canvas_container"},null,-1)),CL=mr(()=>se("a",{id:"download",href:"#"},"Download",-1)),EL=mr(()=>se("h2",null,"Embed into website",-1)),xL=mr(()=>se("textarea",{id:"iframe_url"},null,-1)),AL={__name:"Header",setup(e){const t=mo();function r(){document.getElementById("canvas_container").innerHTML="",document.getElementById("download").setAttribute("href","");let o=document.getElementById("blockchain"),s=document.getElementById("duration");html2canvas(document.querySelector("body"),{allowTaint:!0,useCORS:!0}).then(a=>{var c=new Date,u=c.getDate()+"/"+(c.getMonth()+1)+"/"+c.getFullYear(),l=c.getHours()+":"+c.getMinutes(),f=u+" "+l,d=window.innerWidth-70;document.querySelector(".screen_lightbox").style.visibility="visible",document.querySelector(".screen_lightbox").style.opacity=1;var h=a.getContext("2d");h.font="20px Arial",h.textAlign="right",h.fillText("Blockchain : "+o.options[o.selectedIndex].text+" \u2014 Time interval : "+s.options[s.selectedIndex].text+" \u2014 "+f,d,40),document.getElementById("iframe_url").value='<iframe src="/iframe?blockchain='+o.value+"&duration="+s.value+'" frameborder="0" title="NFT360" width="400" height="300"></iframe>',a.style.width="100%",a.style.height="auto",document.querySelector(".canvas_container").prepend(a),n(a,"Screen_NFT360")})}function n(o,s){const a=o.toDataURL("image/png;base64"),c=document.querySelector("#download");c.download=s,c.href=a}function i(){document.querySelector(".screen_lightbox").style.visibility="hidden",document.querySelector(".screen_lightbox").style.opacity=0}return(o,s)=>(ze(),Ge(pt,null,[se("header",null,[J3,se("div",Z3,[Q3,se("div",eL,[se("div",tL,[se("select",{id:"blockchain",name:"blockchain",onChange:s[0]||(s[0]=a=>ye(t).blockchainType=a.target.value)},[se("option",{selected:ye(t).blockchainType==="All",value:"All"}," All ",8,rL),se("option",{selected:ye(t).blockchainType==="Ethereum",value:"Ethereum"}," Ethereum ",8,nL),se("option",{selected:ye(t).blockchainType==="Solana",value:"Solana"}," Solana ",8,iL),se("option",{selected:ye(t).blockchainType==="Polygon",value:"Polygon"}," Polygon ",8,oL)],32)]),se("div",sL,[se("select",{id:"duration",name:"duration",onChange:s[1]||(s[1]=a=>ye(t).timeInterval=a.target.value)},[se("option",{selected:ye(t).timeInterval==="daily_data",value:"daily_data"}," 24h ",8,aL),se("option",{selected:ye(t).timeInterval==="seven_days_data",value:"seven_days_data"}," 7 days ",8,uL),se("option",{selected:ye(t).timeInterval==="thirty_days_data",value:"thirty_days_data"}," 30 days ",8,cL),se("option",{selected:ye(t).timeInterval==="all_time",value:"all_time"}," All time ",8,lL)],32)]),fL,se("ul",dL,[se("li",{class:oi({active_tab:ye(t).view==="treemap"}),onClick:s[2]||(s[2]=a=>{ye(t).view="treemap"})},gL,2),se("li",{class:oi({active_tab:ye(t).view==="list"}),onClick:s[3]||(s[3]=a=>{ye(t).view="list"})},vL,2)])]),se("div",mL,[se("input",{id:"shuffle",type:"button",value:"Shuffle",onClick:s[4]||(s[4]=a=>ye(t).imgNum<4?ye(t).imgNum++:ye(t).imgNum=1)}),se("input",{id:"screen_launcher",type:"button",value:"Share",onClick:s[5]||(s[5]=a=>r())})])]),yL]),se("div",wL,[se("div",SL,[se("div",{id:"close",class:"close",onClick:s[6]||(s[6]=a=>i())}," \xD7 "),_L,bL,CL,EL,xL])])],64))}},IL=wi(AL,[["__scopeId","data-v-80bd7513"]]);const TL={class:"app"},PL={class:"content"},kL={class:"wrapper"},RL={class:"container"},OL={__name:"AppLayout",setup(e){return(t,r)=>{const n=D0("router-view");return ze(),Ge("div",TL,[We(IL),se("div",PL,[se("section",kL,[se("div",RL,[We(n)])])])])}}},nu=wi(OL,[["__scopeId","data-v-6a4244e3"]]);const UL=e=>(fl("data-v-4fbef347"),e=e(),dl(),e),LL=UL(()=>se("div",{class:"mask"},null,-1)),ML={class:"infos"},NL={key:1,class:"loading",style:{"margin-top":"-35px"}},DL={key:1,class:"loading"},BL={__name:"TreeMap",setup(e){const t=mo(),r=ei(0),n=ei(0),i=ei(1),o=.1,s=30;co(()=>{a(),window.addEventListener("resize",function(){a()},!0)});const a=()=>{document.querySelector("#main")&&(t.width=document.querySelector("#main").offsetWidth,t.height=document.querySelector("#main").offsetHeight)},c=f=>{r.value=f.pageX,n.value=f.pageY},u=f=>{const d=document.querySelector("#main");if(f.buttons){let h=0,m=0;f.pageX-r.value!==0&&(h=r.value-f.pageX,r.value=f.pageX),f.pageY-n.value!==0&&(m=n.value-f.pageY,n.value=f.pageY),(h!==0||m!==0)&&d.scrollBy(h,m)}},l=f=>{const d=document.querySelector("#main"),h=document.querySelector("#treemap");f.preventDefault();let m=f.delta||f.wheelDelta;m===void 0&&(m=f.originalEvent.detail),m=Math.max(-1,Math.min(1,m));const y={x:d.scrollLeft,y:d.scrollTop},_={x:f.pageX+y.x,y:f.pageY+y.y},C={x:_.x/i.value,y:_.y/i.value};i.value+=m*o*i.value,i.value=Math.max(1,Math.min(s,i.value));const w={x:C.x*i.value,y:C.y*i.value},A={x:w.x-f.pageX,y:w.y-f.pageY};h.style.transform=`scale(${i.value}, ${i.value})`,d.scrollTop=A.y,d.scrollLeft=A.x};return(f,d)=>(ze(),Xi(Is,{name:"fade"},{default:Cs(()=>[ye(t).loading?(ze(),Ge("div",DL," Loading... ")):(ze(),Ge("div",{key:0,id:"main",onWheel:l},[ye(t).squarifyData.length>0?(ze(),Ge("div",{key:0,id:"treemap",onMousedown:c,onMousemove:u},[(ze(!0),Ge(pt,null,hu(ye(t).squarifyData,h=>(ze(),Ge("div",{key:h.data.name,class:"square",style:Pn(`width: ${h.width}px;
                    height: ${h.height}px;
                    top: ${h.y}px;
                    left: ${h.x}px;
                    background-image: url('${h.data["img"+ye(t).imgNum]!=="None"?h.data["img"+ye(t).imgNum]:"/src/assets/img/NFT_icon.png"}');
                    font-size: ${h.width/11}px;`)},[LL,se("div",ML,[J0($r(h.data.name)+" ",1),se("span",{style:Pn(`font-size: ${h.width/15}px;`)},$r(h.data.volume),5)])],4))),128))],32)):(ze(),Ge("div",NL," No data "))],32))]),_:1}))}},T_=wi(BL,[["__scopeId","data-v-4fbef347"]]);const FL={id:"list",class:"list"},zL={key:0},KL={key:0},qL=["onClick"],jL={class:"flex"},$L={class:"td_position"},HL=["src"],VL={class:"td_name"},GL={key:1},WL={key:1,id:"list_loading",class:"list_loading"},YL={__name:"List",setup(e){const t=mo(),r=[{name:"Position",id:"position",sortable:!0},{name:"Image",id:"image",sortable:!1},{name:"Name",id:"name",sortable:!1},{name:"Floor Price",id:"floor_price",sortable:!0},{name:"Blockchain",id:"blockchain",sortable:!1},{name:"Volume",id:"volume",sortable:!0}];return(n,i)=>(ze(),Ge("div",FL,[We(Is,{name:"fade"},{default:Cs(()=>[ye(t).loading?(ze(),Ge("div",WL," Loading... ")):(ze(),Ge("div",zL,[ye(t).listData.length>0?(ze(),Ge("table",KL,[se("thead",null,[se("tr",null,[(ze(),Ge(pt,null,hu(r,o=>se("th",{key:o.id,class:oi([ye(t).sortKey===o.id&&"text-white",o.sortable&&"pointer"]),onClick:s=>o.sortable&&(ye(t).sortKey=o.id,ye(t).sortDirection=ye(t).sortDirection*-1)},[se("div",jL,[se("span",null,$r(o.name)+" \xA0",1),o.sortable&&ye(t).sortDirection===1?(ze(),Ge("span",{key:0,style:Pn(`color: ${ye(t).sortKey===o.id?"white":"black"};`)}," \u2193 ",4)):o.sortable&&ye(t).sortDirection===-1?(ze(),Ge("span",{key:1,style:Pn(`color: ${ye(t).sortKey===o.id?"white":"black"};`)}," \u2191 ",4)):Z0("",!0)])],10,qL)),64))])]),se("tbody",null,[(ze(!0),Ge(pt,null,hu(ye(t).listData,o=>(ze(),Ge("tr",{key:o.name},[se("td",$L," #"+$r(o.position),1),se("td",null,[se("img",{src:`${o["img"+ye(t).imgNum]}`},null,8,HL)]),se("td",VL,$r(o.name),1),se("td",null,$r(o.floor_price),1),se("td",null,$r(o.blockchain),1),se("td",null,$r(o.volume),1)]))),128))])])):(ze(),Ge("div",GL," No data "))]))]),_:1})]))}},XL=wi(YL,[["__scopeId","data-v-50629b8d"]]),JL={__name:"Home",setup(e){const t=mo();co(()=>{t.getData()});const{timeInterval:r}=s1(t);return ti(r,()=>{t.getData()}),(n,i)=>ye(t).view==="treemap"?(ze(),Xi(T_,{key:0})):ye(t).view==="list"?(ze(),Xi(XL,{key:1})):Z0("",!0)}};const ZL={},QL=e=>(fl("data-v-bc5a0289"),e=e(),dl(),e),eM=QL(()=>se("h1",null,"NFT360",-1)),tM=[eM];function rM(e,t){return ze(),Ge("header",null,tM)}const nM=wi(ZL,[["render",rM],["__scopeId","data-v-bc5a0289"]]),iM={__name:"Iframe",setup(e){const t=mo();co(()=>{t.blockchainType=n,t.timeInterval=i,t.getData()});let r=new URLSearchParams(window.location.search);if(r.has("blockchain"))var n=r.get("blockchain");else n="All";if(r.has("duration"))var i=r.get("duration");else i="alltime";return(o,s)=>(ze(),Ge(pt,null,[We(nM),We(T_)],64))}},oM={},sM={class:"flex items-center justify-center py-6 px-4"},aM=se("h2",{class:"auth__title mt-3 text-center text-3xl"}," 404 NOT FOUND ",-1),uM=[aM];function cM(e,t){return ze(),Ge("div",sM,uM)}const lM=wi(oM,[["render",cM]]),fM=[{path:"/",name:"Home",component:JL,meta:{layout:nu}},{path:"/iframe",name:"Iframe",component:iM,meta:{layout:nu}},{path:"/:catchAll(.*)",name:"Error404",component:lM,meta:{layout:nu}}],dM=j3({history:i3("/"),routes:fM});const hM={__name:"App",setup(e){const t=H3(),r=Ct(()=>t.meta.layout||"div");return(n,i)=>{const o=D0("router-view");return ze(),Xi(Vb(ye(r)),null,{default:Cs(()=>[We(o)]),_:1})}}},gM={aws_project_region:"us-east-1"};zU.configure(gM);JC(hM).use(dM).use(e1()).mount("#app");
